(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _E(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},Dl={};var R_;function qS(){if(R_)return Dl;R_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var C_;function HS(){return C_||(C_=1,om.exports=qS()),om.exports}var _=HS(),lm={exports:{}},Ae={};var I_;function FS(){if(I_)return Ae;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,U={};function Z(D,$,ae){this.props=D,this.context=$,this.refs=U,this.updater=ae||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ie(){}ie.prototype=Z.prototype;function le(D,$,ae){this.props=D,this.context=$,this.refs=U,this.updater=ae||j}var ge=le.prototype=new ie;ge.constructor=le,F(ge,Z.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function xe(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,$,ae){var se=ae.ref;return{$$typeof:r,type:D,key:$,ref:se!==void 0?se:null,props:ae}}function P(D,$){return R(D.type,$,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function z(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return $[ae]})}var C=/\/+/g;function He(D,$){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):$.toString(36)}function lt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(xe,xe):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,$,ae,se,me){var Se=typeof D;(Se==="undefined"||Se==="boolean")&&(D=null);var De=!1;if(D===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(D.$$typeof){case r:case e:De=!0;break;case b:return De=D._init,M(De(D._payload),$,ae,se,me)}}if(De)return me=me(D),De=se===""?"."+He(D,0):se,Te(me)?(ae="",De!=null&&(ae=De.replace(C,"$&/")+"/"),M(me,$,ae,"",function(vs){return vs})):me!=null&&(V(me)&&(me=P(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(C,"$&/")+"/")+De)),$.push(me)),1;De=0;var ze=se===""?".":se+":";if(Te(D))for(var Fe=0;Fe<D.length;Fe++)se=D[Fe],Se=ze+He(se,Fe),De+=M(se,$,ae,Se,me);else if(Fe=O(D),typeof Fe=="function")for(D=Fe.call(D),Fe=0;!(se=D.next()).done;)se=se.value,Se=ze+He(se,Fe++),De+=M(se,$,ae,Se,me);else if(Se==="object"){if(typeof D.then=="function")return M(lt(D),$,ae,se,me);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return De}function te(D,$,ae){if(D==null)return D;var se=[],me=0;return M(D,se,"","",function(Se){return $.call(ae,Se,me++)}),se}function X(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},_e={map:te,forEach:function(D,$,ae){te(D,function(){$.apply(this,arguments)},ae)},count:function(D){var $=0;return te(D,function(){$++}),$},toArray:function(D){return te(D,function($){return $})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=T,Ae.Children=_e,Ae.Component=Z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=le,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,$,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=F({},D.props),me=D.key;if($!=null)for(Se in $.key!==void 0&&(me=""+$.key),$)!A.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(se[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)se.children=ae;else if(1<Se){for(var De=Array(Se),ze=0;ze<Se;ze++)De[ze]=arguments[ze+2];se.children=De}return R(D.type,me,se)},Ae.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ae.createElement=function(D,$,ae){var se,me={},Se=null;if($!=null)for(se in $.key!==void 0&&(Se=""+$.key),$)A.call($,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=$[se]);var De=arguments.length-2;if(De===1)me.children=ae;else if(1<De){for(var ze=Array(De),Fe=0;Fe<De;Fe++)ze[Fe]=arguments[Fe+2];me.children=ze}if(D&&D.defaultProps)for(se in De=D.defaultProps,De)me[se]===void 0&&(me[se]=De[se]);return R(D,Se,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:m,render:D}},Ae.isValidElement=V,Ae.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:X}},Ae.memo=function(D,$){return{$$typeof:g,type:D,compare:$===void 0?null:$}},Ae.startTransition=function(D){var $=I.T,ae={};I.T=ae;try{var se=D(),me=I.S;me!==null&&me(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(xe,oe)}catch(Se){oe(Se)}finally{$!==null&&ae.types!==null&&($.types=ae.types),I.T=$}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(D){return I.H.use(D)},Ae.useActionState=function(D,$,ae){return I.H.useActionState(D,$,ae)},Ae.useCallback=function(D,$){return I.H.useCallback(D,$)},Ae.useContext=function(D){return I.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,$){return I.H.useDeferredValue(D,$)},Ae.useEffect=function(D,$){return I.H.useEffect(D,$)},Ae.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(D,$,ae){return I.H.useImperativeHandle(D,$,ae)},Ae.useInsertionEffect=function(D,$){return I.H.useInsertionEffect(D,$)},Ae.useLayoutEffect=function(D,$){return I.H.useLayoutEffect(D,$)},Ae.useMemo=function(D,$){return I.H.useMemo(D,$)},Ae.useOptimistic=function(D,$){return I.H.useOptimistic(D,$)},Ae.useReducer=function(D,$,ae){return I.H.useReducer(D,$,ae)},Ae.useRef=function(D){return I.H.useRef(D)},Ae.useState=function(D){return I.H.useState(D)},Ae.useSyncExternalStore=function(D,$,ae){return I.H.useSyncExternalStore(D,$,ae)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var N_;function sp(){return N_||(N_=1,lm.exports=FS()),lm.exports}var B=sp();const Nm=_E(B);var um={exports:{}},Ol={},cm={exports:{}},hm={};var D_;function GS(){return D_||(D_=1,(function(r){function e(M,te){var X=M.length;M.push(te);e:for(;0<X;){var oe=X-1>>>1,_e=M[oe];if(0<o(_e,te))M[oe]=te,M[X]=_e,X=oe;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var te=M[0],X=M.pop();if(X!==te){M[0]=X;e:for(var oe=0,_e=M.length,D=_e>>>1;oe<D;){var $=2*(oe+1)-1,ae=M[$],se=$+1,me=M[se];if(0>o(ae,X))se<_e&&0>o(me,ae)?(M[oe]=me,M[se]=X,oe=se):(M[oe]=ae,M[$]=X,oe=$);else if(se<_e&&0>o(me,X))M[oe]=me,M[se]=X,oe=se;else break e}}return te}function o(M,te){var X=M.sortIndex-te.sortIndex;return X!==0?X:M.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,T=null,w=3,O=!1,j=!1,F=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ge(M){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=M)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function Te(M){if(F=!1,ge(M),!j)if(n(p)!==null)j=!0,xe||(xe=!0,z());else{var te=n(g);te!==null&&lt(Te,te.startTime-M)}}var xe=!1,I=-1,A=5,R=-1;function P(){return U?!0:!(r.unstable_now()-R<A)}function V(){if(U=!1,xe){var M=r.unstable_now();R=M;var te=!0;try{e:{j=!1,F&&(F=!1,ie(I),I=-1),O=!0;var X=w;try{t:{for(ge(M),T=n(p);T!==null&&!(T.expirationTime>M&&P());){var oe=T.callback;if(typeof oe=="function"){T.callback=null,w=T.priorityLevel;var _e=oe(T.expirationTime<=M);if(M=r.unstable_now(),typeof _e=="function"){T.callback=_e,ge(M),te=!0;break t}T===n(p)&&s(p),ge(M)}else s(p);T=n(p)}if(T!==null)te=!0;else{var D=n(g);D!==null&&lt(Te,D.startTime-M),te=!1}}break e}finally{T=null,w=X,O=!1}te=void 0}}finally{te?z():xe=!1}}}var z;if(typeof le=="function")z=function(){le(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,He=C.port2;C.port1.onmessage=V,z=function(){He.postMessage(null)}}else z=function(){Z(V,0)};function lt(M,te){I=Z(function(){M(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(M){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var X=w;w=te;try{return M()}finally{w=X}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(M,te){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=w;w=M;try{return te()}finally{w=X}},r.unstable_scheduleCallback=function(M,te,X){var oe=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,M){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=X+_e,M={id:b++,callback:te,priorityLevel:M,startTime:X,expirationTime:_e,sortIndex:-1},X>oe?(M.sortIndex=X,e(g,M),n(p)===null&&M===n(g)&&(F?(ie(I),I=-1):F=!0,lt(Te,X-oe))):(M.sortIndex=_e,e(p,M),j||O||(j=!0,xe||(xe=!0,z()))),M},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(M){var te=w;return function(){var X=w;w=te;try{return M.apply(this,arguments)}finally{w=X}}}})(hm)),hm}var O_;function KS(){return O_||(O_=1,cm.exports=GS()),cm.exports}var fm={exports:{}},Wt={};var M_;function QS(){if(M_)return Wt;M_=1;var r=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Wt.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var V_;function YS(){if(V_)return fm.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=QS(),fm.exports}var k_;function XS(){if(k_)return Ol;k_=1;var r=KS(),e=sp(),n=YS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=d;break}if(x===l){v=!0,l=h,a=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===a){v=!0,a=d,l=h;break}if(x===l){v=!0,l=d,a=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Z:return"Profiler";case U:return"StrictMode";case Te:return"Suspense";case xe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case le:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var lt=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],_e=-1;function D(t){return{current:t}}function $(t){0>_e||(t.current=oe[_e],oe[_e]=null,_e--)}function ae(t,i){_e++,oe[_e]=t.current,t.current=i}var se=D(null),me=D(null),Se=D(null),De=D(null);function ze(t,i){switch(ae(Se,i),ae(me,t),ae(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=$v(i),t=Wv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(se),ae(se,t)}function Fe(){$(se),$(me),$(Se)}function vs(t){t.memoizedState!==null&&ae(De,t);var i=se.current,a=Wv(i,t.type);i!==a&&(ae(me,t),ae(se,a))}function ca(t){me.current===t&&($(se),$(me)),De.current===t&&($(De),Rl._currentValue=X)}var ha,fa;function ai(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var Ro=!1;function _s(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){K=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var N=v.split(`
`),G=x.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===G.length)for(l=N.length-1,h=G.length-1;1<=l&&0<=h&&N[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==G[h]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return ai("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,uf=r.unstable_shouldYield,_u=r.unstable_requestPaint,nn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,cf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,bu=r.log,Tu=r.unstable_setDisableYieldValue,Fn=null,qt=null;function Rn(t){if(typeof bu=="function"&&Tu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Fn,t)}catch{}}var gt=Math.clz32?Math.clz32:Su,xu=Math.log,da=Math.LN2;function Su(t){return t>>>=0,t===0?32:31-(xu(t)/da|0)|0}var oi=256,bs=262144,xt=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=li(l):(v&=x,v!==0?h=li(v):a||(a=x&~t,a!==0&&(h=li(a))))):(x=l&~d,x!==0?h=li(x):v!==0?h=li(v):a||(a=l&~t,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-gt(a),ee=1<<W;x[W]=0,N[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&xs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function xs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function Kn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,jt="__reactProps$"+Qn,hi="__reactContainer$"+Qn,ma="__reactEvents$"+Qn,df="__reactListeners$"+Qn,Ru="__reactHandles$"+Qn,Cu="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function pa(t){delete t[St],delete t[jt],delete t[ma],delete t[df],delete t[Ru]}function di(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=r_(t);t!==null;){if(a=t[St])return a;t=r_(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[St]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[fi]=!0}var Vo=new Set,ko={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Lo={};function Iu(t){return Tt.call(Lo,t)?!0:Tt.call(jo,t)?!1:Po.test(t)?Lo[t]=!0:(jo[t]=!0,!1)}function ga(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=yr(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var As=/[\n"\\]/g;function an(t){return t.replace(As,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?zo(t,v,Lt(i)):a!=null?zo(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function Nu(t,i,a,l,h,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function zo(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Du(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function _r(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Er.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Ho=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,vi=null;function Rs(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var Ea=!1;function Tr(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(br!==null||vi!==null)&&(Ac(),br&&(i=br,t=vi,vi=br=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Cs=!1}var _i=null,Fo=null,Is=null;function Go(){if(Is)return Is;var t,i=Fo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Is=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function $n(){return!1}function Ht(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ht(Li),xr=T({},Li,{view:0,detail:0}),Ko=Ht(xr),Sr,ba,bi,Ta=T({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Sr=t.screenX-bi.screenX,ba=t.screenY-bi.screenY):ba=Sr=0,bi=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Qo=Ht(Ta),Ds=T({},Ta,{dataTransfer:0}),Vu=Ht(Ds),ku=T({},xr,{relatedTarget:0}),Os=Ht(ku),Yo=T({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ht(Yo),xa=T({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Ht(xa),Lu=T({},Li,{data:0}),Ti=Ht(Lu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function wr(){return qu}var rn=T({},xr,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=Ht(rn),Fu=T({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ht(Fu),c=T({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),y=Ht(c),E=T({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(E),q=T({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ht(q),ue=T({},Li,{newState:0,oldState:0}),Ce=Ht(ue),yt=[9,13,27,32],Qe=Nn&&"CompositionEvent"in window,ut=null;Nn&&"documentMode"in document&&(ut=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ut,xi=Nn&&(!Qe||ut&&8<ut&&11>=ut),Wn=" ",Jn=!1;function Ms(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function fx(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function dx(t,i){if(wa)return t==="compositionend"||!Qe&&Ms(t,i)?(t=Go(),Is=Fo=_i=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!mx[t.type]:i==="textarea"}function lg(t,i,a,l){br?vi?vi.push(l):vi=[l]:br=l,i=Mc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function px(t){Fv(t,0)}function Gu(t){var i=pn(t);if(ws(i))return t}function ug(t,i){if(t==="change")return i}var cg=!1;if(Nn){var mf;if(Nn){var pf="oninput"in document;if(!pf){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),pf=typeof hg.oninput=="function"}mf=pf}else mf=!1;cg=mf&&(!document.documentMode||9<document.documentMode)}function fg(){Xo&&(Xo.detachEvent("onpropertychange",dg),$o=Xo=null)}function dg(t){if(t.propertyName==="value"&&Gu($o)){var i=[];lg(i,$o,t,In(t)),Tr(px,i)}}function gx(t,i,a){t==="focusin"?(fg(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",dg)):t==="focusout"&&fg()}function yx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu($o)}function vx(t,i){if(t==="click")return Gu(i)}function _x(t,i){if(t==="input"||t==="change")return Gu(i)}function Ex(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:Ex;function Wo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,i){var a=mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mg(a)}}function gg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?gg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bx=Nn&&"documentMode"in document&&11>=document.documentMode,Aa=null,yf=null,Jo=null,vf=!1;function vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Aa==null||Aa!==yi(l)||(l=Aa,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Mc(yf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},_f={},_g={};Nn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function ks(t){if(_f[t])return _f[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return _f[t]=i[a];return t}var Eg=ks("animationend"),bg=ks("animationiteration"),Tg=ks("animationstart"),Tx=ks("transitionrun"),xx=ks("transitionstart"),Sx=ks("transitioncancel"),xg=ks("transitionend"),Sg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Zn(t,i){Sg.set(t,i),pi(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Ca=0,bf=0;function Qu(){for(var t=Ca,i=bf=Ca=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Yu(t,i,a,l){On[Ca++]=t,On[Ca++]=i,On[Ca++]=a,On[Ca++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Yu(t,i,a,l),Xu(t)}function Ps(t,i){return Yu(t,null,null,i),Xu(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<El)throw El=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function wx(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new wx(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=NS(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=d,t;case F:return js(a.children,h,d,i);case U:v=8,h|=24;break;case Z:return t=vn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case Te:return t=vn(13,a,i,h),t.elementType=Te,t.lanes=d,t;case xe:return t=vn(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:v=10;break e;case ie:v=9;break e;case ge:v=11;break e;case I:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function js(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Rg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var Na=[],Da=0,Wu=null,Zo=0,Vn=[],kn=0,Ar=null,Si=1,wi="";function Bi(t,i){Na[Da++]=Zo,Na[Da++]=Wu,Wu=t,Zo=i}function Ig(t,i,a){Vn[kn++]=Si,Vn[kn++]=wi,Vn[kn++]=Ar,Ar=t;var l=Si;t=wi;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Si=1<<32-gt(i)+h|a<<h|l,wi=d+t}else Si=1<<d|a<<h|l,wi=t}function Af(t){t.return!==null&&(Bi(t,1),Ig(t,1,0))}function Rf(t){for(;t===Wu;)Wu=Na[--Da],Na[Da]=null,Zo=Na[--Da],Na[Da]=null;for(;t===Ar;)Ar=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null,Si=Vn[--kn],Vn[kn]=null}function Ng(t,i){Vn[kn++]=Si,Vn[kn++]=wi,Vn[kn++]=Ar,Si=i.id,wi=i.overflow,Ar=t}var Ft=null,rt=null,Be=!1,Rr=null,Pn=!1,Cf=Error(s(519));function Cr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Mn(i,t)),Cf}function Dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[jt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Yv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Cr(t,!0)}function Og(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Oa(t){if(t!==Ft)return!1;if(!Be)return Og(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&rt&&Cr(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=i_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=i_(t)}else i===27?(i=rt,qr(t.type)?(t=Wd,Wd=null,rt=t):rt=i):rt=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Ls(){rt=Ft=null,Be=!1}function If(){var t=Rr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Rr=null),t}function el(t){Rr===null?Rr=[t]:Rr.push(t)}var Nf=D(null),Us=null,qi=null;function Ir(t,i,a){ae(Nf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Nf.current,$(Nf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var N=0;N<i.length;N++)if(x.context===i[N]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;yn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Us=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Mg(Us,t)}function Zu(t,i){return Us===null&&zs(t),Mg(t,i)}function Mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var Ax=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Rx=r.unstable_scheduleCallback,Cx=r.unstable_NormalPriority,Rt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Ax,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&Rx(Cx,function(){t.controller.abort()})}var nl=null,Vf=0,Va=0,ka=null;function Ix(t,i){if(nl===null){var a=nl=[];Vf=0,Va=jd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Vg,Vg),i}function Vg(){if(--Vf===0&&nl!==null){ka!==null&&(ka.status="fulfilled");var t=nl;nl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Nx(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=M.S;M.S=function(t,i){vv=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ix(t,i),kg!==null&&kg(t,i)};var Bs=D(null);function kf(){var t=Bs.current;return t!==null?t:it.pooledCache}function ec(t,i){i===null?ae(Bs,Bs.current):ae(Bs,i.pool)}function Pg(){var t=kf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Pa=Error(s(460)),Pf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t}throw Hs=i,Pa}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Pa):a}}var Hs=null;function Ug(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function zg(t){if(t===Pa||t===tc)throw Error(s(483))}var ja=null,il=0;function ic(t){var i=il;return il+=1,ja===null&&(ja=[]),Lg(ja,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Bg(t){function i(L,k){if(t){var H=L.deletions;H===null?(L.deletions=[k],L.flags|=16):H.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=zi(L,k),L.index=0,L.sibling=null,L}function d(L,k,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<k?(L.flags|=67108866,k):H):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function x(L,k,H,J){return k===null||k.tag!==6?(k=Sf(H,L.mode,J),k.return=L,k):(k=h(k,H),k.return=L,k)}function N(L,k,H,J){var pe=H.type;return pe===F?W(L,k,H.props.children,J,H.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&qs(pe)===k.type)?(k=h(k,H.props),rl(k,H),k.return=L,k):(k=$u(H.type,H.key,H.props,null,L.mode,J),rl(k,H),k.return=L,k)}function G(L,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=wf(H,L.mode,J),k.return=L,k):(k=h(k,H.children||[]),k.return=L,k)}function W(L,k,H,J,pe){return k===null||k.tag!==7?(k=js(H,L.mode,J,pe),k.return=L,k):(k=h(k,H),k.return=L,k)}function ee(L,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Sf(""+k,L.mode,H),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return H=$u(k.type,k.key,k.props,null,L.mode,H),rl(H,k),H.return=L,H;case j:return k=wf(k,L.mode,H),k.return=L,k;case A:return k=qs(k),ee(L,k,H)}if(lt(k)||z(k))return k=js(k,L.mode,H,null),k.return=L,k;if(typeof k.then=="function")return ee(L,ic(k),H);if(k.$$typeof===le)return ee(L,Zu(L,k),H);rc(L,k)}return null}function K(L,k,H,J){var pe=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:x(L,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===pe?N(L,k,H,J):null;case j:return H.key===pe?G(L,k,H,J):null;case A:return H=qs(H),K(L,k,H,J)}if(lt(H)||z(H))return pe!==null?null:W(L,k,H,J,null);if(typeof H.then=="function")return K(L,k,ic(H),J);if(H.$$typeof===le)return K(L,k,Zu(L,H),J);rc(L,H)}return null}function Y(L,k,H,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,x(k,L,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return L=L.get(J.key===null?H:J.key)||null,N(k,L,J,pe);case j:return L=L.get(J.key===null?H:J.key)||null,G(k,L,J,pe);case A:return J=qs(J),Y(L,k,H,J,pe)}if(lt(J)||z(J))return L=L.get(H)||null,W(k,L,J,pe,null);if(typeof J.then=="function")return Y(L,k,H,ic(J),pe);if(J.$$typeof===le)return Y(L,k,H,Zu(k,J),pe);rc(k,J)}return null}function he(L,k,H,J){for(var pe=null,Ge=null,de=k,Ne=k=0,ke=null;de!==null&&Ne<H.length;Ne++){de.index>Ne?(ke=de,de=null):ke=de.sibling;var Ke=K(L,de,H[Ne],J);if(Ke===null){de===null&&(de=ke);break}t&&de&&Ke.alternate===null&&i(L,de),k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke,de=ke}if(Ne===H.length)return a(L,de),Be&&Bi(L,Ne),pe;if(de===null){for(;Ne<H.length;Ne++)de=ee(L,H[Ne],J),de!==null&&(k=d(de,k,Ne),Ge===null?pe=de:Ge.sibling=de,Ge=de);return Be&&Bi(L,Ne),pe}for(de=l(de);Ne<H.length;Ne++)ke=Y(de,L,Ne,H[Ne],J),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?Ne:ke.key),k=d(ke,k,Ne),Ge===null?pe=ke:Ge.sibling=ke,Ge=ke);return t&&de.forEach(function(Qr){return i(L,Qr)}),Be&&Bi(L,Ne),pe}function ve(L,k,H,J){if(H==null)throw Error(s(151));for(var pe=null,Ge=null,de=k,Ne=k=0,ke=null,Ke=H.next();de!==null&&!Ke.done;Ne++,Ke=H.next()){de.index>Ne?(ke=de,de=null):ke=de.sibling;var Qr=K(L,de,Ke.value,J);if(Qr===null){de===null&&(de=ke);break}t&&de&&Qr.alternate===null&&i(L,de),k=d(Qr,k,Ne),Ge===null?pe=Qr:Ge.sibling=Qr,Ge=Qr,de=ke}if(Ke.done)return a(L,de),Be&&Bi(L,Ne),pe;if(de===null){for(;!Ke.done;Ne++,Ke=H.next())Ke=ee(L,Ke.value,J),Ke!==null&&(k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return Be&&Bi(L,Ne),pe}for(de=l(de);!Ke.done;Ne++,Ke=H.next())Ke=Y(de,L,Ne,Ke.value,J),Ke!==null&&(t&&Ke.alternate!==null&&de.delete(Ke.key===null?Ne:Ke.key),k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return t&&de.forEach(function(BS){return i(L,BS)}),Be&&Bi(L,Ne),pe}function nt(L,k,H,J){if(typeof H=="object"&&H!==null&&H.type===F&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var pe=H.key;k!==null;){if(k.key===pe){if(pe=H.type,pe===F){if(k.tag===7){a(L,k.sibling),J=h(k,H.props.children),J.return=L,L=J;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&qs(pe)===k.type){a(L,k.sibling),J=h(k,H.props),rl(J,H),J.return=L,L=J;break e}a(L,k);break}else i(L,k);k=k.sibling}H.type===F?(J=js(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=$u(H.type,H.key,H.props,null,L.mode,J),rl(J,H),J.return=L,L=J)}return v(L);case j:e:{for(pe=H.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(L,k.sibling),J=h(k,H.children||[]),J.return=L,L=J;break e}else{a(L,k);break}else i(L,k);k=k.sibling}J=wf(H,L.mode,J),J.return=L,L=J}return v(L);case A:return H=qs(H),nt(L,k,H,J)}if(lt(H))return he(L,k,H,J);if(z(H)){if(pe=z(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),ve(L,k,H,J)}if(typeof H.then=="function")return nt(L,k,ic(H),J);if(H.$$typeof===le)return nt(L,k,Zu(L,H),J);rc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(L,k.sibling),J=h(k,H),J.return=L,L=J):(a(L,k),J=Sf(H,L.mode,J),J.return=L,L=J),v(L)):a(L,k)}return function(L,k,H,J){try{il=0;var pe=nt(L,k,H,J);return ja=null,pe}catch(de){if(de===Pa||de===tc)throw de;var Ge=vn(29,de,null,L.mode);return Ge.lanes=J,Ge.return=L,Ge}}}var Fs=Bg(!0),qg=Bg(!1),Nr=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),wg(t,null,a),i}return Yu(t,l,i,a),Xu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function Uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function al(){if(zf){var t=ka;if(t!==null)throw t}}function ol(t,i,a,l){zf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var N=x,G=N.next;N.next=null,v===null?d=G:v.next=G,v=N;var W=t.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==v&&(x===null?W.firstBaseUpdate=G:x.next=G,W.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;v=0,W=G=N=null,x=d;do{var K=x.lane&-536870913,Y=K!==x.lane;if(Y?(Ve&K)===K:(l&K)===K){K!==0&&K===Va&&(zf=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ve=x;K=i;var nt=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(nt,ee,K);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,K=typeof he=="function"?he.call(nt,ee,K):he,K==null)break e;ee=T({},ee,K);break e;case 2:Nr=!0}}K=x.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(G=W=Y,N=ee):W=W.next=Y,v|=K;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=G,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=ee}}function Hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Fg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var La=D(null),sc=D(0);function Gg(t,i){t=Ji,ae(sc,t),ae(La,i),Ji=t|i.baseLanes}function Bf(){ae(sc,Ji),ae(La,La.current)}function qf(){Ji=sc.current,$(La),$(sc)}var _n=D(null),jn=null;function Mr(t){var i=t.alternate;ae(vt,vt.current&1),ae(_n,t),jn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(jn=t)}function Hf(t){ae(vt,vt.current),ae(_n,t),jn===null&&(jn=t)}function Kg(t){t.tag===22?(ae(vt,vt.current),ae(_n,t),jn===null&&(jn=t)):Vr()}function Vr(){ae(vt,vt.current),ae(_n,_n.current)}function En(t){$(_n),jn===t&&(jn=null),$(vt)}var vt=D(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Ie=null,et=null,Ct=null,oc=!1,Ua=!1,Gs=!1,lc=0,ll=0,za=null,Dx=0;function mt(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return Fi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=t===null||t.memoizedState===null?Iy:ad,Gs=!1,d=a(l,h),Gs=!1,Ua&&(d=Yg(i,a,l,h)),Qg(t),d}function Qg(t){M.H=hl;var i=et!==null&&et.next!==null;if(Fi=0,Ct=et=Ie=null,oc=!1,ll=0,za=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Ju(t)&&(It=!0))}function Yg(t,i,a,l){Ie=t;var h=0;do{if(Ua&&(za=null),ll=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Ny,d=i(a,l)}while(Ua);return d}function Ox(){var t=M.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Kf(){var t=lc!==0;return lc=0,t}function Qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Fi=0,Ct=et=Ie=null,Ua=!1,ll=lc=0,za=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,za===null&&(za=[]),t=Lg(za,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?Iy:ad),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===le)return Gt(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=_t();return $f(i,et,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var x=v=null,N=null,G=i,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ve&ee)===ee:(Fi&ee)===ee){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Va&&(W=!0);else if((Fi&K)===K){G=G.next,K===Va&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(x=N=ee,v=d):N=N.next=ee,Ie.lanes|=K,jr|=K;ee=G.action,Gs&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(x=N=K,v=d):N=N.next=K,Ie.lanes|=ee,jr|=ee;G=G.next}while(G!==null&&G!==i);if(N===null?v=d:N.next=x,!yn(d,t.memoizedState)&&(It=!0,W&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);yn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Xg(t,i,a){var l=Ie,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!yn((et||h).memoizedState,a);if(v&&(h.memoizedState=a,It=!0),h=h.queue,ed(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},Wg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Fi&127)!==0||$g(l,i,a)}return a}function $g(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=uc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Wg(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&ey(t)}function Jg(t,i,a){return a(function(){Zg(i)&&ey(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function ey(t){var i=Ps(t,2);i!==null&&fn(i,t,2)}function Jf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Gs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function ty(t,i,a,l){return t.baseState=a,$f(t,et,typeof l=="function"?l:Gi)}function Mx(t,i,a,l,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};M.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ny(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ny(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=M.T,v={};M.T=v;try{var x=a(h,l),N=M.S;N!==null&&N(v,x),iy(t,i,x)}catch(G){Zf(t,i,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),M.T=d}}else try{d=a(h,l),iy(t,i,d)}catch(G){Zf(t,i,G)}}function iy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(t,i,l)},function(l){return Zf(t,i,l)}):ry(t,i,a)}function ry(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ny(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ay(t,i){return i}function oy(t,i){if(Be){var a=it.formState;if(a!==null){e:{var l=Ie;if(Be){if(rt){t:{for(var h=rt,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Ln(h.nextSibling),l=h.data==="F!";break e}}Cr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},a.queue=l,a=Ay.bind(null,Ie,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ie,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Mx.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ly(t){var i=_t();return uy(i,et,t)}function uy(t,i,a){if(i=$f(t,i,ay)[0],t=hc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(v){throw v===Pa?tc:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ba(9,{destroy:void 0},Vx.bind(null,h,a),null)),[l,d,t]}function Vx(t,i){t.action=i}function cy(t){var i=_t(),a=et;if(a!==null)return uy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=uc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function hy(){return _t().memoizedState}function fc(t,i,a,l){var h=sn();Ie.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Ff(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function fy(t,i){fc(8390656,8,t,i)}function ed(t,i){dc(2048,8,t,i)}function kx(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=uc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function dy(t){var i=_t().memoizedState;return kx({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return dc(4,2,t,i)}function py(t,i){return dc(4,4,t,i)}function gy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yy(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,gy.bind(null,i,t),a)}function td(){}function vy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Gs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ev(),Ie.lanes|=t,jr|=t,a)}function Ey(t,i,a,l){return yn(a,i)?a:La.current!==null?(t=nd(t,a,l),yn(t,i)||(It=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=a):(t=Ev(),Ie.lanes|=t,jr|=t,i)}function by(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=M.T,x={};M.T=x,sd(t,!1,i,a);try{var N=h(),G=M.S;if(G!==null&&G(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Nx(N,l);cl(t,i,W,xn(t))}else cl(t,i,l,xn(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},xn())}finally{te.p=d,v!==null&&x.types!==null&&(v.types=x.types),M.T=v}}function Px(){}function id(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;by(t,h,i,X,a===null?Px:function(){return xy(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:X},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},xn())}function rd(){return Gt(Rl)}function Sy(){return _t().memoizedState}function wy(){return _t().memoizedState}function jx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Dr(a);var l=Or(i,t,a);l!==null&&(fn(l,i,a),sl(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function Lx(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Ry(i,a):(a=Tf(t,i,a,l),a!==null&&(fn(a,t,l),Cy(a,i,l)))}function Ay(t,i,a){var l=xn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,x=d(v,a);if(h.hasEagerState=!0,h.eagerState=x,yn(x,v))return Yu(t,i,h,0),it===null&&Qu(),!1}catch{}if(a=Tf(t,i,h,l),a!==null)return fn(a,t,l),Cy(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&fn(i,t,2)}function mc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Ry(t,i){Ua=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var hl={readContext:Gt,use:cc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};hl.useEffectEvent=mt;var Iy={readContext:Gt,use:cc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:fy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,gy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Gs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Gs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Lx.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=Ay.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=sn();return nd(a,t,i)},useTransition:function(){var t=Jf(!1);return t=by.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Ve&127)!==0||$g(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,fy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},Wg.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=it.identifierPrefix;if(Be){var a=wi,l=Si;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Dx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:oy,useActionState:oy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return sn().memoizedState=jx.bind(null,Ie)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:Gt,use:cc,useCallback:vy,useContext:Gt,useEffect:ed,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:hc,useRef:hy,useState:function(){return hc(Gi)},useDebugValue:td,useDeferredValue:function(t,i){var a=_t();return Ey(a,et.memoizedState,t,i)},useTransition:function(){var t=hc(Gi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:rd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=_t();return ty(a,et,t,i)},useMemoCache:Xf,useCacheRefresh:wy};ad.useEffectEvent=dy;var Ny={readContext:Gt,use:cc,useCallback:vy,useContext:Gt,useEffect:ed,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:Wf,useRef:hy,useState:function(){return Wf(Gi)},useDebugValue:td,useDeferredValue:function(t,i){var a=_t();return et===null?nd(a,t,i):Ey(a,et.memoizedState,t,i)},useTransition:function(){var t=Wf(Gi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:rd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=_t();return et!==null?ty(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:wy};Ny.useEffectEvent=dy;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(fn(i,t,a),sl(i,t,a))}};function Dy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Oy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function My(t){Ku(t)}function Vy(t){console.error(t)}function ky(t){Ku(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Py(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function jy(t){return t=Dr(t),t.tag=3,t}function Ly(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Py(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Py(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Ux(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Rc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Rc(),!1}if(Be)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(t=Error(s(422),{cause:l}),el(Mn(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),el(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=ud(t.stateNode,l,h),Uf(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),_l===null?_l=[d]:_l.push(d),pt!==4&&(pt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),Uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),Ly(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var cd=Error(s(461)),It=!1;function Kt(t,i,a,l){i.child=t===null?qg(i,null,a,l):Fs(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return zs(i),l=Gf(t,i,a,v,d,h),x=Kf(),t!==null&&!It?(Qf(t,i,h),Ki(t,i,h)):(Be&&x&&Af(i),i.flags|=1,Kt(t,i,l,h),i.child)}function zy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,By(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(v,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function By(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return hd(t,i,a,l,h)}function qy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Gg(i,d):Bf(),Kg(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),Gg(i,d),Vr(),i.memoizedState=null):(t!==null&&ec(i,null),Bf(),Vr());return Kt(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=kf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(i,null),Bf(),Kg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Fy(t,i,a){return Fs(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function zx(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,fl(null,t);if(Hf(i),(t=rt)?(t=n_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Ft=i,rt=null)):t=null,t===null)throw Cr(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Hf(i),h)if(i.flags&256)i.flags&=-257,i=Fy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=it,l!==null&&(v=Mo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ps(t,v),fn(l,t,v),cd;Rc(),i=Fy(t,i,a)}else t=d.treeContext,rt=Ln(v.nextSibling),Ft=i,Be=!0,Rr=null,Pn=!1,t!==null&&Ng(i,t),i=gc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return zs(i),a=Gf(t,i,a,l,void 0,h),l=Kf(),t!==null&&!It?(Qf(t,i,h),Ki(t,i,h)):(Be&&l&&Af(i),i.flags|=1,Kt(t,i,a,h),i.child)}function Gy(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=Yg(i,l,a,h),Qg(t),l=Kf(),t!==null&&!It?(Qf(t,i,d),Ki(t,i,d)):(Be&&l&&Af(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Ky(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Ia,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(od(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var x=i.memoizedProps,N=Ks(a,x);d.props=N;var G=d.context,W=a.contextType;v=Ia,typeof W=="object"&&W!==null&&(v=Gt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||G!==v)&&Oy(i,d,l,v),Nr=!1;var K=i.memoizedState;d.state=K,ol(i,l,d,h),al(),G=i.memoizedState,x||K!==G||Nr?(typeof ee=="function"&&(od(i,a,ee,l),G=i.memoizedState),(N=Nr||Dy(i,a,N,l,K,G,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),v=i.memoizedProps,W=Ks(a,v),d.props=W,ee=i.pendingProps,K=d.context,G=a.contextType,N=Ia,typeof G=="object"&&G!==null&&(N=Gt(G)),x=a.getDerivedStateFromProps,(G=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==N)&&Oy(i,d,l,N),Nr=!1,K=i.memoizedState,d.state=K,ol(i,l,d,h),al();var Y=i.memoizedState;v!==ee||K!==Y||Nr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof x=="function"&&(od(i,a,x,l),Y=i.memoizedState),(W=Nr||Dy(i,a,W,l,K,Y,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Qy(t,i,a,l){return Ls(),i.flags|=256,Kt(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Pg()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Mr(i):Vr(),(t=rt)?(t=n_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Ft=i,rt=null)):t=null,t===null)throw Cr(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Vr(),h=i.mode,x=vc({mode:"hidden",children:x},h),l=js(l,h,a,null),x.return=i,l.return=i,x.sibling=l,i.child=x,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,fl(null,l)):(Mr(i),pd(i,x))}var N=t.memoizedState;if(N!==null&&(x=N.dehydrated,x!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),x=l.fallback,h=i.mode,l=vc({mode:"visible",children:l.children},h),x=js(x,h,a,null),x.flags|=2,l.return=i,x.return=i,l.sibling=x,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,i=fl(null,l));else if(Mr(i),$d(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(It||Ma(t,i,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=it,v!==null&&(l=Mo(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ps(t,l),fn(v,t,l),cd;Xd(x)||Rc(),i=gd(t,i,a)}else Xd(x)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=Ln(x.nextSibling),Ft=i,Be=!0,Rr=null,Pn=!1,t!==null&&Ng(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?(Vr(),x=l.fallback,h=i.mode,N=t.child,G=N.sibling,l=zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?x=zi(G,x):(x=js(x,h,a,null),x.flags|=2),x.return=i,l.return=i,l.sibling=x,i.child=l,fl(null,l),l=i.child,x=t.child.memoizedState,x===null?x=dd(a):(h=x.cachePool,h!==null?(N=Rt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Pg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=md(t,v,a),i.memoizedState=fd,fl(t.child,l)):(Mr(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return Fs(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function yd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function $y(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=vt.current,x=(v&2)!==0;if(x?(v=v&1|2,i.flags|=128):v&=1,ae(vt,v),Kt(t,i,l,a),l=Be?Zo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,i);else if(t.tag===19)Xy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function Bx(t,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Ir(i,Rt,t.memoizedState.cache),Ls();break;case 27:case 5:vs(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(Mr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $y(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(vt,vt.current),l)break;return null;case 22:return i.lanes=0,qy(t,i,a,i.pendingProps);case 24:Ir(i,Rt,t.memoizedState.cache)}return Ki(t,i,a)}function Wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return It=!1,Bx(t,i,a);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&Ig(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=Ks(t,l),i.tag=1,i=Ky(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=zy(null,i,t,l,a);break e}}throw i=He(t)||t,Error(s(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),Ky(t,i,l,h,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),ol(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ir(i,Rt,l),l!==d.cache&&Of(i,[Rt],a,!0),al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),el(h),i=Qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Ln(t.firstChild),Ft=i,Be=!0,Rr=null,Pn=!0,a=qg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),l===h){i=Ki(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=l_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Vc(Se.current).createElement(a),l[St]=i,l[jt]=t,Qt(l,a,t),wt(l),i.stateNode=l):i.memoizedState=l_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vs(i),t===null&&Be&&(l=i.stateNode=s_(i.type,i.pendingProps,Se.current),Ft=i,Pn=!0,h=rt,qr(i.type)?(Wd=h,rt=Ln(l.firstChild)):rt=h),Kt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=rt)&&(l=yS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,rt=Ln(l.firstChild),Pn=!1,h=!0):h=!1),h||Cr(i)),vs(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:v!==null&&Kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,Ox,null,null,a),Rl._currentValue=h),yc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=vS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ft=i,rt=null,t=!0):t=!1),t||Cr(i)),null;case 13:return Yy(t,i,a);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return zy(t,i,i.type,i.pendingProps,a);case 15:return By(t,i,i.type,i.pendingProps,a);case 19:return $y(t,i,a);case 31:return zx(t,i,a);case 22:return qy(t,i,a,i.pendingProps);case 24:return zs(i),l=Gt(Rt),t===null?(h=kf(),h===null&&(h=it,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),Ir(i,Rt,h)):((t.lanes&a)!==0&&(Lf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Rt,l)):(l=d.cache,Ir(i,Rt,l),l!==h.cache&&Of(i,[Rt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function _d(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Sv())t.flags|=8192;else throw Hs=nc,Pf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!d_(i))if(Sv())t.flags|=8192;else throw Hs=nc,Pf}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Ga|=i)}function dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qx(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Rt),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(st(i),Jy(i,d)):(st(i),_d(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),st(i),Jy(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),st(i),_d(i,h,t,l,a)),null;case 27:if(ca(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=se.current,Oa(i)?Dg(i):(t=s_(h,l,a),i.stateNode=t,Qi(i))}return st(i),null;case 5:if(ca(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=se.current,Oa(i))Dg(i);else{var v=Vc(Se.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[St]=i,d[jt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return st(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yv(t.nodeValue,a)),t||Cr(i,!0)}else t=Vc(t).createTextNode(l),t[St]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),st(i),null);case 4:return Fe(),t===null&&Bd(i.stateNode.containerInfo),st(i),null;case 10:return Hi(i.type),st(i),null;case 19:if($(vt),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ag(a,t),a=a.sibling;return ae(vt,vt.current&1|2),Be&&Bi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Sc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ac(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*nn()-l.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=vt.current,ae(vt,h?a&1|2:a&1),Be&&Bi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return En(i),qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Rt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Hx(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(Rt),Fe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(vt),null;case 4:return Fe(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),qf(),t!==null&&$(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(Rt),null;case 25:return null;default:return null}}function Zy(t,i){switch(Rf(i),i.tag){case 3:Hi(Rt),Fe();break;case 26:case 27:case 5:ca(i);break;case 4:Fe();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:$(vt);break;case 10:Hi(i.type);break;case 22:case 23:En(i),qf(),t!==null&&$(Bs);break;case 24:Hi(Rt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){Je(i,i.return,x)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=i;var N=a,G=x;try{G()}catch(W){Je(h,N,W)}}}l=l.next}while(l!==d)}}catch(W){Je(i,i.return,W)}}function ev(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Fg(i,a)}catch(l){Je(t,t.return,l)}}}function tv(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function nv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;hS(l,t.type,a,i),l[jt]=i}catch(h){Je(t,t.return,h)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qr(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function rv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[St]=t,i[jt]=a}catch(d){Je(t,t.return,d)}}var Yi=!1,Nt=!1,xd=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Fx(t,i){if(t=t.containerInfo,Fd=Bc,t=yg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,x=-1,N=-1,G=0,W=0,ee=t,K=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(x=v+h),ee!==d||l!==0&&ee.nodeType!==3||(N=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===t)break t;if(K===a&&++G===h&&(x=v),K===d&&++W===l&&(N=v),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Bc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function av(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&ml(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&ev(a),l&512&&pl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&rv(a);case 26:case 5:$i(t,a),i===null&&l&4&&nv(a),l&512&&pl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&uv(t,a);break;case 13:$i(t,a),l&4&&cv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Zx.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Nt,h=Yi;var d=Nt;Yi=l,(Nt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Yi=h,Nt=d}break;case 30:break;default:$i(t,a)}}function ov(t){var i=t.alternate;i!==null&&(t.alternate=null,ov(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Xi(t,i,a){for(a=a.child;a!==null;)lv(t,i,a),a=a.sibling}function lv(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,i);var l=ct,h=ln;qr(a.type)&&(ct=a.stateNode,ln=!1),Xi(t,i,a),Sl(a.stateNode),ct=l,ln=h;break;case 5:Nt||Ai(a,i);case 6:if(l=ct,h=ln,ct=null,Xi(t,i,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(ln?(t=ct,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):e_(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Xi(t,i,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),Nt||kr(4,a,i),Xi(t,i,a);break;case 1:Nt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&tv(a,i,l)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Xi(t,i,a),Nt=l;break;default:Xi(t,i,a)}}function uv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Je(i,i.return,a)}}}function cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Je(i,i.return,a)}}function Gx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sv),i;default:throw Error(s(435,t.tag))}}function bc(t,i){var a=Gx(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=eS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(qr(x.type)){ct=x.stateNode,ln=!1;break e}break;case 5:ct=x.stateNode,ln=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,ln=!0;break e}x=x.return}if(ct===null)throw Error(s(160));lv(d,v,h),ct=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)hv(i,t),i=i.sibling}var ei=null;function hv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(kr(3,t,t.return),ml(3,t),kr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var v=h_("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=h_("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else f_(h,t.type,t.stateNode);else t.stateNode=c_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?f_(h,t.type,t.stateNode):c_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){Je(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Je(t,t.return,he)}}break;case 3:if(jc=null,h=ei,ei=kc(i.containerInfo),un(i,t),ei=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(he){Je(t,t.return,he)}xd&&(xd=!1,fv(t));break;case 4:l=ei,ei=kc(t.stateNode.containerInfo),un(i,t),cn(t),ei=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=Yi,W=Nt;if(Yi=G||h,Nt=W||N,un(i,t),Nt=W,Yi=G,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Yi||Nt||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=N.stateNode;var ee=N.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Je(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Je(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?t_(Y,!0):t_(N.stateNode,!1)}catch(he){Je(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(iv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);Ec(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var x=bd(t);Ec(t,x,v);break;case 3:case 4:var N=a.stateNode.containerInfo,G=bd(t);Td(t,G,N);break;default:throw Error(s(161))}}catch(W){Je(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)av(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Qs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&tv(i,i.return,a),Qs(i);break;case 27:Sl(i.stateNode);case 26:case 5:Ai(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),ml(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Je(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],x)}catch(G){Je(l,l.return,G)}}a&&v&64&&ev(d),pl(d,d.return);break;case 27:rv(d);case 26:case 5:Wi(h,d,a),a&&l===null&&v&4&&nv(d),pl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&v&4&&uv(h,d);break;case 13:Wi(h,d,a),a&&v&4&&cv(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),pl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dv(t,i,a,l),i=i.sibling}function dv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&ml(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):gl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(v,i);break;case 24:ti(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:ti(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,x=a,N=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,x,N,h),ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?qa(d,v,x,N,h):gl(d,v):(W._visibility|=2,qa(d,v,x,N,h)),h&&G&2048&&Sd(v.alternate,v);break;case 24:qa(d,v,x,N,h),h&&G&2048&&wd(v.alternate,v);break;default:qa(d,v,x,N,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Sd(l.alternate,l);break;case 24:gl(a,l),h&2048&&wd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function Ha(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)mv(t,i,a),t=t.sibling}function mv(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&yl&&t.memoizedState!==null&&DS(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ei;ei=kc(t.stateNode.containerInfo),Ha(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,Ha(t,i,a),yl=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function pv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,yv(l,t)}pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):vl(t);break;default:vl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,yv(l,t)}pv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function yv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(ov(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Kx={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Oe=null,Ve=0,We=0,bn=null,Pr=!1,Fa=!1,Ad=!1,Ji=0,pt=0,jr=0,Ys=0,Rd=0,Tn=0,Ga=0,_l=null,hn=null,Cd=!1,xc=0,vv=0,Sc=1/0,wc=null,Lr=null,Vt=0,Ur=null,Ka=null,Zi=0,Id=0,Nd=null,_v=null,El=0,Dd=null;function xn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:M.T!==null?jd():Au()}function Ev(){if(Tn===0)if((Ve&536870912)===0||Be){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function fn(t,i,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),zr(t,Ve,Tn,!1)),Ts(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Ys|=a),pt===4&&zr(t,Ve,Tn,!1)),Ri(t))}function bv(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?$x(t,i):Md(t,i,!0),d=l;do{if(h===0){Fa&&!l&&zr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Yx(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var x=t;h=_l;var N=x.current.memoizedState.isDehydrated;if(N&&(Qa(x,v).flags|=256),v=Md(x,v,!1),v!==2){if(Ad&&!N){x.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),zr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:zr(l,i,Tn,!Pr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xc+300-nn(),10<h)){if(zr(l,i,Tn,!Pr),ui(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=Jv(Tv.bind(null,l,a,hn,wc,Cd,i,Tn,Ys,Ga,Pr,d,"Throttled",-0,0),h);break e}Tv(l,a,hn,wc,Cd,i,Tn,Ys,Ga,Pr,d,null,-0,0)}}break}while(!0);Ri(t)}function Tv(t,i,a,l,h,d,v,x,N,G,W,ee,K,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},mv(i,d,ee);var he=(d&62914560)===d?xc-nn():(d&4194048)===d?vv-nn():0;if(he=OS(ee,he),he!==null){Zi=d,t.cancelPendingCommit=he(Nv.bind(null,t,i,d,a,l,h,v,x,N,W,ee,null,K,Y)),zr(t,d,v,!G);return}}Nv(t,i,d,a,l,h,v,x,N)}function Yx(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zr(t,i,a,l){i&=~Rd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&xs(t,a,i)}function Ac(){return(Ye&6)===0?(bl(0),!1):!0}function Od(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,qi=Us=null,Yf(t),ja=null,il=0,t=Oe;for(;t!==null;)Zy(t.alternate,t),t=t.return;Oe=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Od(),it=t,Oe=a=zi(t.current,null),Ve=i,We=0,bn=null,Pr=!1,Fa=Gn(t,i),Ad=!1,Ga=Tn=Rd=Ys=jr=pt=0,hn=_l=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,Qu(),a}function xv(t,i){Ie=null,M.H=hl,i===Pa||i===tc?(i=Ug(),We=3):i===Pf?(i=Ug(),We=4):We=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Oe===null&&(pt=1,pc(t,Mn(i,t.current)))}function Sv(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===jn:!1}function wv(){var t=M.H;return M.H=hl,t===null?hl:t}function Av(){var t=M.A;return M.A=Kx,t}function Rc(){pt=4,Pr||(Ve&4194048)!==Ve&&_n.current!==null||(Fa=!0),(jr&134217727)===0&&(Ys&134217727)===0||it===null||zr(it,Ve,Tn,!1)}function Md(t,i,a){var l=Ye;Ye|=2;var h=wv(),d=Av();(it!==t||Ve!==i)&&(wc=null,Qa(t,i)),i=!1;var v=pt;e:do try{if(We!==0&&Oe!==null){var x=Oe,N=bn;switch(We){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var G=We;if(We=0,bn=null,Ya(t,x,N,G),a&&Fa){v=0;break e}break;default:G=We,We=0,bn=null,Ya(t,x,N,G)}}Xx(),v=pt;break}catch(W){xv(t,W)}while(!0);return i&&t.shellSuspendCounter++,qi=Us=null,Ye=l,M.H=h,M.A=d,Oe===null&&(it=null,Ve=0,Qu()),v}function Xx(){for(;Oe!==null;)Rv(Oe)}function $x(t,i){var a=Ye;Ye|=2;var l=wv(),h=Av();it!==t||Ve!==i?(wc=null,Sc=nn()+500,Qa(t,i)):Fa=Gn(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=bn;t:switch(We){case 1:We=0,bn=null,Ya(t,i,d,1);break;case 2:case 9:if(jg(d)){We=0,bn=null,Cv(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),Ri(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:jg(d)?(We=0,bn=null,Cv(i)):(We=0,bn=null,Ya(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var x=Oe;if(v?d_(v):x.stateNode.complete){We=0,bn=null;var N=x.sibling;if(N!==null)Oe=N;else{var G=x.return;G!==null?(Oe=G,Cc(G)):Oe=null}break t}}We=0,bn=null,Ya(t,i,d,5);break;case 6:We=0,bn=null,Ya(t,i,d,6);break;case 8:Od(),pt=6;break e;default:throw Error(s(462))}}Wx();break}catch(W){xv(t,W)}while(!0);return qi=Us=null,M.H=l,M.A=h,Ye=a,Oe!==null?0:(it=null,Ve=0,Qu(),pt)}function Wx(){for(;Oe!==null&&!uf();)Rv(Oe)}function Rv(t){var i=Wy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function Cv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Gy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Gy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Yf(i);default:Zy(a,i),i=Oe=Ag(i,Ji),i=Wy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function Ya(t,i,a,l){qi=Us=null,Yf(i),ja=null,il=0;var h=i.return;try{if(Ux(t,h,i,a,Ve)){pt=1,pc(t,Mn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;pt=1,pc(t,Mn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(Ve&536870912)!==0?t=!1:(Pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iv(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){Iv(i,Pr);return}t=i.return;var a=qx(i.alternate,i,Ji);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);pt===0&&(pt=5)}function Iv(t,i){do{var a=Hx(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);pt=6,Oe=null}function Nv(t,i,a,l,h,d,v,x,N){t.cancelPendingCommit=null;do Ic();while(Vt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,ff(t,a,d,v,x,N),t===it&&(Oe=it=null,Ve=0),Ka=i,Ur=t,Zi=a,Id=d,Nd=h,_v=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tS(gr,function(){return kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=te.p,te.p=2,v=Ye,Ye|=4;try{Fx(t,i,a)}finally{Ye=v,te.p=h,M.T=l}}Vt=1,Dv(),Ov(),Mv()}}function Dv(){if(Vt===1){Vt=0;var t=Ur,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{hv(i,t);var d=Gd,v=yg(t.containerInfo),x=d.focusedElem,N=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&gg(x.ownerDocument.documentElement,x)){if(N!==null&&gf(x)){var G=N.start,W=N.end;if(W===void 0&&(W=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(W,x.value.length);else{var ee=x.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),he=x.textContent.length,ve=Math.min(N.start,he),nt=N.end===void 0?ve:Math.min(N.end,he);!Y.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var L=pg(x,ve),k=pg(x,nt);if(L&&k&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(L.node,L.offset),Y.removeAllRanges(),ve>nt?(Y.addRange(H),Y.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Y.addRange(H))}}}}for(ee=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var J=ee[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Bc=!!Fd,Gd=Fd=null}finally{Ye=h,te.p=l,M.T=a}}t.current=i,Vt=2}}function Ov(){if(Vt===2){Vt=0;var t=Ur,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{av(t,i.alternate,i)}finally{Ye=h,te.p=l,M.T=a}}Vt=3}}function Mv(){if(Vt===4||Vt===3){Vt=0,_u();var t=Ur,i=Ka,a=Zi,l=_v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ka=Ur=null,Vv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Pi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=M.T,h=te.p,te.p=2,M.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];d(x.value,{componentStack:x.stack})}}finally{M.T=i,te.p=h}}(Zi&3)!==0&&Ic(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?El++:(El=0,Dd=t):El=0,bl(0)}}function Vv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ic(){return Dv(),Ov(),Mv(),kv()}function kv(){if(Vt!==5)return!1;var t=Ur,i=Id;Id=0;var a=Pi(Zi),l=M.T,h=te.p;try{te.p=32>a?32:a,M.T=null,a=Nd,Nd=null;var d=Ur,v=Zi;if(Vt=0,Ka=Ur=null,Zi=0,(Ye&6)!==0)throw Error(s(331));var x=Ye;if(Ye|=4,gv(d.current),dv(d,d.current,v,a),Ye=x,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{te.p=h,M.T=l,Vv(t,i)}}function Pv(t,i,a){i=Mn(a,i),i=ud(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(Ts(t,2),Ri(t))}function Je(t,i,a){if(t.tag===3)Pv(t,t,a);else for(;i!==null;){if(i.tag===3){Pv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Mn(a,t),a=jy(2),l=Or(i,a,2),l!==null&&(Ly(a,l,i,t),Ts(l,2),Ri(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Qx;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=Jx.bind(null,t,i,a),i.then(t,t))}function Jx(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Ve&a)===a&&(pt===4||pt===3&&(Ve&62914560)===Ve&&300>nn()-xc?(Ye&2)===0&&Qa(t,0):Rd|=a,Ga===Ve&&(Ga=0)),Ri(t)}function jv(t,i){i===0&&(i=wu()),t=Ps(t,i),t!==null&&(Ts(t,i),Ri(t))}function Zx(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),jv(t,a)}function eS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),jv(t,a)}function tS(t,i){return Mt(t,i)}var Nc=null,Xa=null,kd=!1,Dc=!1,Pd=!1,Br=0;function Ri(t){t!==Xa&&t.next===null&&(Xa===null?Nc=Xa=t:Xa=Xa.next=t),Dc=!0,kd||(kd=!0,iS())}function bl(t,i){if(!Pd&&Dc){Pd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Bv(l,d))}else d=Ve,d=ui(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,Bv(l,d));l=l.next}while(a);Pd=!1}}function nS(){Lv()}function Lv(){Dc=kd=!1;var t=0;Br!==0&&dS()&&(t=Br);for(var i=nn(),a=null,l=Nc;l!==null;){var h=l.next,d=Uv(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Vt!==0&&Vt!==5||bl(t),Br!==0&&(Br=0)}function Uv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-gt(d),x=1<<v,N=h[v];N===-1?((x&a)===0||(x&l)!==0)&&(h[v]=hf(x,i)):N<=i&&(t.expiredLanes|=x),d&=~x}if(i=it,a=Ve,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pr(l),Pi(a)){case 2:case 8:a=Do;break;case 32:a=gr;break;case 268435456:a=Eu;break;default:a=gr}return l=zv.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function zv(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Ve;return l=ui(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bv(t,l,i),Uv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?zv.bind(null,t):null)}function Bv(t,i){if(Ic())return null;bv(t,i,!0)}function iS(){pS(function(){(Ye&6)!==0?Mt(No,nS):Lv()})}function jd(){if(Br===0){var t=Va;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Br=t}return Br}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function Hv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=qv((h[jt]||null).action),v=l.submitter;v&&(i=(i=v[jt]||null)?qv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var x=new Ei("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var N=v?Hv(h,v):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(x.preventDefault(),N=v?Hv(h,v):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ld=0;Ld<Ef.length;Ld++){var Ud=Ef[Ld],sS=Ud.toLowerCase(),aS=Ud[0].toUpperCase()+Ud.slice(1);Zn(sS,"on"+aS)}Zn(Eg,"onAnimationEnd"),Zn(bg,"onAnimationIteration"),Zn(Tg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Tx,"onTransitionRun"),Zn(xx,"onTransitionStart"),Zn(Sx,"onTransitionCancel"),Zn(xg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Fv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var x=l[v],N=x.instance,G=x.currentTarget;if(x=x.listener,N!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=G;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(x=l[v],N=x.instance,G=x.currentTarget,x=x.listener,N!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=G;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=N}}}}function Me(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(Gv(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Gv(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Oc]){t[Oc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(oS.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,zd("selectionchange",!1,i))}}function Gv(t,i,a,l){switch(E_(i)){case 2:var h=kS;break;case 8:h=PS;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=di(x),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}x=x.parentNode}}l=l.return}Tr(function(){var G=d,W=In(a),ee=[];e:{var K=Sg.get(t);if(K!==void 0){var Y=Ei,he=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Y=Hu;break;case"focusin":he="focus",Y=Os;break;case"focusout":he="blur",Y=Os;break;case"beforeblur":case"afterblur":Y=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Eg:case bg:case Tg:Y=Pu;break;case xg:Y=S;break;case"scroll":case"scrollend":Y=Ko;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ui;break;case"toggle":case"beforetoggle":Y=Ce}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),L=ve?K!==null?K+"Capture":null:K;ve=[];for(var k=G,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=Xn(k,L),J!=null&&ve.push(xl(k,J,H))),nt)break;k=k.return}0<ve.length&&(K=new Y(K,he,null,a,W),ee.push({event:K,listeners:ve}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Ho&&(he=a.relatedTarget||a.fromElement)&&(di(he)||he[hi]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=G,he=he?di(he):null,he!==null&&(nt=u(he),ve=he.tag,he!==nt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Y=null,he=G),Y!==he)){if(ve=Qo,J="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ui,J="onPointerLeave",L="onPointerEnter",k="pointer"),nt=Y==null?K:pn(Y),H=he==null?K:pn(he),K=new ve(J,k+"leave",Y,a,W),K.target=nt,K.relatedTarget=H,J=null,di(W)===G&&(ve=new ve(L,k+"enter",he,a,W),ve.target=H,ve.relatedTarget=nt,J=ve),nt=J,Y&&he)t:{for(ve=lS,L=Y,k=he,H=0,J=L;J;J=ve(J))H++;J=0;for(var pe=k;pe;pe=ve(pe))J++;for(;0<H-J;)L=ve(L),H--;for(;0<J-H;)k=ve(k),J--;for(;H--;){if(L===k||k!==null&&L===k.alternate){ve=L;break t}L=ve(L),k=ve(k)}ve=null}else ve=null;Y!==null&&Kv(ee,K,Y,ve,!1),he!==null&&nt!==null&&Kv(ee,nt,he,ve,!0)}}e:{if(K=G?pn(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var Ge=ug;else if(og(K))if(cg)Ge=_x;else{Ge=yx;var de=gx}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&va(G.elementType)&&(Ge=ug):Ge=vx;if(Ge&&(Ge=Ge(t,G))){lg(ee,Ge,a,W);break e}de&&de(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&zo(K,"number",K.value)}switch(de=G?pn(G):window,t){case"focusin":(og(de)||de.contentEditable==="true")&&(Aa=de,yf=G,Jo=null);break;case"focusout":Jo=yf=Aa=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,vg(ee,a,W);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":vg(ee,a,W)}var Ne;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else wa?Ms(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(xi&&a.locale!=="ko"&&(wa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&wa&&(Ne=Go()):(_i=W,Fo="value"in _i?_i.value:_i.textContent,wa=!0)),de=Mc(G,ke),0<de.length&&(ke=new Ti(ke,t,null,a,W),ee.push({event:ke,listeners:de}),Ne?ke.data=Ne:(Ne=Sa(a),Ne!==null&&(ke.data=Ne)))),(Ne=Dn?fx(t,a):dx(t,a))&&(ke=Mc(G,"onBeforeInput"),0<ke.length&&(de=new Ti("onBeforeInput","beforeinput",null,a,W),ee.push({event:de,listeners:ke}),de.data=Ne)),rS(ee,t,G,a,W)}Fv(ee,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Xn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var x=a,N=x.alternate,G=x.stateNode;if(x=x.tag,N!==null&&N===l)break;x!==5&&x!==26&&x!==27||G===null||(N=G,h?(G=Xn(a,d),G!=null&&v.unshift(xl(a,G,N))):h||(G=Xn(a,d),G!=null&&v.push(xl(a,G,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(cS,"")}function Yv(t,i){return i=Qv(i),Qv(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,ga(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,v,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var x=d=v=h=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":N=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:tt(t,i,l,W,a,null)}}Nu(t,d,x,N,G,v,h,!1);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:tt(t,i,h,x,a,null)}i=d,a=v,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:tt(t,i,v,x,a,null)}_r(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,N,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,G,l,a,null)}return;default:if(va(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Hd(t,i,W,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&tt(t,i,x,l,a,null))}function hS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,x=null,N=null,G=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||tt(t,i,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&tt(t,i,K,Y,l,ee)}}ya(t,v,x,N,G,W,d,h);return;case"select":Y=v=x=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==N&&tt(t,i,h,d,l,N)}i=x,a=v,l=Y,K!=null?vr(t,!!a,K,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:tt(t,i,x,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,v,h,l,d)}Du(t,K,Y);return;case"option":for(var he in a)K=a[he],a.hasOwnProperty(he)&&K!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:tt(t,i,he,null,l,K));for(N in l)K=l[N],Y=a[N],l.hasOwnProperty(N)&&K!==Y&&(K!=null||Y!=null)&&(N==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":tt(t,i,N,K,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,K);for(G in l)if(K=l[G],Y=a[G],l.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:tt(t,i,G,K,l,Y)}return;default:if(va(i)){for(var nt in a)K=a[nt],a.hasOwnProperty(nt)&&K!==void 0&&!l.hasOwnProperty(nt)&&Hd(t,i,nt,void 0,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||Hd(t,i,W,K,l,Y);return}}for(var L in a)K=a[L],a.hasOwnProperty(L)&&K!=null&&!l.hasOwnProperty(L)&&tt(t,i,L,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||tt(t,i,ee,K,l,Y)}function Xv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,x=h.duration;if(d&&x&&Xv(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],G=N.startTime;if(G>x)break;var W=N.transferSize,ee=N.initiatorType;W&&Xv(ee)&&(N=N.responseEnd,v+=W*(N<x?1:(x-G)/(N-G)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function dS(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(t){return Zv.resolve(null).then(t).catch(gS)}:Jv;function gS(t){setTimeout(function(){throw t})}function qr(t){return t==="head"}function e_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[fi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);Za(i)}function t_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function vS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function n_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Wd=null;function i_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function r_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function s_(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Un=new Map,a_=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=te.d;te.d={f:ES,r:bS,D:TS,C:xS,L:SS,m:wS,X:RS,S:AS,M:CS};function ES(){var t=er.f(),i=Ac();return t||i}function bS(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):er.r(t)}var $a=typeof document>"u"?null:document;function o_(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),a_.has(h)||(a_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),wt(i),l.head.appendChild(i)))}}function TS(t){er.D(t),o_("dns-prefetch",t,null)}function xS(t,i){er.C(t,i),o_("preconnect",t,i)}function SS(t,i,a){er.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Ja(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Qt(i,"link",t),wt(i),l.head.appendChild(i)))}}function wS(t,i){er.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Qt(l,"link",t),wt(l),a.head.appendChild(l)}}}function AS(t,i,a){er.S(t,i,a);var l=$a;if(l&&t){var h=mi(l).hoistableStyles,d=Wa(t);i=i||"default";var v=h.get(d);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(wl(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Jd(t,a);var N=v=l.createElement("link");wt(N),Qt(N,"link",t),N._p=new Promise(function(G,W){N.onload=G,N.onerror=W}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Pc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(d,v)}}}function RS(t,i){er.X(t,i);var a=$a;if(a&&t){var l=mi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),wt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CS(t,i){er.M(t,i);var a=$a;if(a&&t){var l=mi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),wt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function l_(t,i,a,l){var h=(h=Se.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=mi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(wl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||IS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+an(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function u_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),wt(i),t.head.appendChild(i))}function Ja(t){return'[src="'+an(t)+'"]'}function Al(t){return"script[async]"+t}function c_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Qt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=u_(a),(h=Un.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var v=d;return v._p=new Promise(function(x,N){v.onload=x,v.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,wt(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===i)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function h_(t,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var x=l.get(v);x?x.push(d):l.set(v,[d])}}return l}function f_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function NS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=u_(l),(h=Un.get(h))&&Jd(l,h),d=d.createElement("link"),wt(d);var v=d;v._p=new Promise(function(x,N){v.onload=x,v.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function OS(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*fS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(MS,t),Uc=null,Lc.call(t))}function MS(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:le,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function VS(t,i,a,l,h,d,v,x,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function m_(t,i,a,l,h,d,v,x,N,G,W,ee){return t=new VS(t,i,a,v,N,G,W,ee,x),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function p_(t){return t?(t=Ia,t):Ia}function g_(t,i,a,l,h,d){h=p_(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(fn(a,t,i),sl(a,t,i))}function y_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){y_(t,i),(t=t.alternate)&&y_(t,i)}function v_(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&fn(i,t,67108864),tm(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var i=xn();i=Ss(i);var a=Ps(t,i);a!==null&&fn(a,t,i),tm(t,i)}}var Bc=!0;function kS(t,i,a,l){var h=M.T;M.T=null;var d=te.p;try{te.p=2,nm(t,i,a,l)}finally{te.p=d,M.T=h}}function PS(t,i,a,l){var h=M.T;M.T=null;var d=te.p;try{te.p=8,nm(t,i,a,l)}finally{te.p=d,M.T=h}}function nm(t,i,a,l){if(Bc){var h=im(l);if(h===null)qd(t,i,l,qc,a),b_(t,l);else if(LS(h,t,i,a,l))l.stopPropagation();else if(b_(t,l),i&4&&-1<jS.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=li(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var N=1<<31-gt(v);x.entanglements[1]|=N,v&=~N}Ri(d),(Ye&6)===0&&(Sc=nn()+500,bl(0))}}break;case 31:case 13:x=Ps(d,2),x!==null&&fn(x,d,2),Ac(),tm(d,2)}if(d=im(l),d===null&&qd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,i,l,null,a)}}function im(t){return t=In(t),rm(t)}var qc=null;function rm(t){if(qc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case No:return 2;case Do:return 8;case gr:case cf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var sm=!1,Hr=null,Fr=null,Gr=null,Cl=new Map,Il=new Map,Kr=[],jS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,i){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&v_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function LS(t,i,a,l,h){switch(i){case"focusin":return Hr=Nl(Hr,t,i,a,l,h),!0;case"dragenter":return Fr=Nl(Fr,t,i,a,l,h),!0;case"mouseover":return Gr=Nl(Gr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function T_(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){__(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){__(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=Cn(a),i!==null&&v_(i),t.blockedOn=a,!1;i.shift()}return!0}function x_(t,i,a){Hc(t)&&a.delete(i)}function US(){sm=!1,Hr!==null&&Hc(Hr)&&(Hr=null),Fr!==null&&Hc(Fr)&&(Fr=null),Gr!==null&&Hc(Gr)&&(Gr=null),Cl.forEach(x_),Il.forEach(x_)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,US)))}var Gc=null;function S_(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(N){return Fc(N,t)}Hr!==null&&Fc(Hr,t),Fr!==null&&Fc(Fr,t),Gr!==null&&Fc(Gr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)T_(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||S_(a);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)x=v.formAction;else if(rm(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),S_(a)}}}function w_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}Kc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();g_(a,l,t,i,null,null)},Kc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;g_(t.current,2,null,t,null,null),Ac(),i[hi]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&T_(t)}};var A_=e.version;if(A_!=="19.2.3")throw Error(s(527,A_,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var zS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Fn=Qc.inject(zS),qt=Qc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=Vy,v=ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=m_(t,1,!1,null,null,a,l,null,h,d,v,w_),t[hi]=i.current,Bd(t),new am(i)},Ol.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,v=Vy,x=ky,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=m_(t,1,!0,i,a??null,l,h,N,d,v,x,w_),i.context=p_(null),a=i.current,l=xn(),l=Ss(l),h=Dr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,Ts(i,a),Ri(i),t[hi]=i.current,Bd(t),new Kc(i)},Ol.version="19.2.3",Ol}var P_;function $S(){if(P_)return um.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=XS(),um.exports}var WS=$S();const JS=_E(WS);var j_="popstate";function ZS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return tw(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function L_(r,e){return{usr:r.state,key:r.key,idx:e}}function Dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||s||ew()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function tw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function T(){m="POP";let U=b(),Z=U==null?null:U-g;g=U,p&&p({action:m,location:F.location,delta:Z})}function w(U,Z){m="PUSH";let ie=Dm(F.location,U,Z);g=b()+1;let le=L_(ie,g),ge=F.createHref(ie);try{f.pushState(le,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&p&&p({action:m,location:F.location,delta:1})}function O(U,Z){m="REPLACE";let ie=Dm(F.location,U,Z);g=b();let le=L_(ie,g),ge=F.createHref(ie);f.replaceState(le,"",ge),u&&p&&p({action:m,location:F.location,delta:0})}function j(U){return nw(U)}let F={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(j_,T),p=U,()=>{o.removeEventListener(j_,T),p=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let Z=j(U);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:O,go(U){return f.go(U)}};return F}function nw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function EE(r,e,n="/"){return iw(r,e,n,!1)}function iw(r,e,n,s){let o=typeof e=="string"?vo(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let f=bE(r);rw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=pw(u);m=dw(f[p],g,s)}return m}function bE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ft(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=sr([s,b.relativePath]),w=n.concat(b);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),bE(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:hw(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of TE(f.path))u(f,m,!0,p)}),e}function TE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=TE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function rw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:fw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,aw=3,ow=2,lw=1,uw=10,cw=-2,U_=r=>r==="*";function hw(r,e){let n=r.split("/"),s=n.length;return n.some(U_)&&(s+=cw),e&&(s+=ow),n.filter(o=>!U_(o)).reduce((o,u)=>o+(sw.test(u)?aw:u===""?lw:uw),s)}function fw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function dw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:sr([u,T.pathname]),pathnameBase:_w(sr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=sr([u,T.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=mw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},w)=>{if(b==="*"){let j=m[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=m[w];return T&&!O?g[b]=void 0:g[b]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function mw(r,e=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gw=r=>xE.test(r);function yw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?vo(r):r,u;if(n)if(gw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=z_(n.substring(1),"/"):u=z_(n,e)}else u=e;return{pathname:u,search:Ew(s),hash:bw(o)}}function z_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SE(r){let e=vw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wE(r,e,n,s=!1){let o;typeof r=="string"?o=vo(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=yw(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),_w=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ew=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Tw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Sw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RE(r,e){let n=r;if(typeof n!="string"||!xE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(AE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=lr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var ww=["GET",...CE];new Set(ww);var _o=B.createContext(null);_o.displayName="DataRouter";var jh=B.createContext(null);jh.displayName="DataRouterState";var Aw=B.createContext(!1),IE=B.createContext({isTransitioning:!1});IE.displayName="ViewTransition";var Rw=B.createContext(new Map);Rw.displayName="Fetchers";var Cw=B.createContext(null);Cw.displayName="Await";var Hn=B.createContext(null);Hn.displayName="Navigation";var ru=B.createContext(null);ru.displayName="Location";var dr=B.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var ap=B.createContext(null);ap.displayName="RouteError";var NE="REACT_ROUTER_ERROR",Iw="REDIRECT",Nw="ROUTE_ERROR_RESPONSE";function Dw(r){if(r.startsWith(`${NE}:${Iw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ow(r){if(r.startsWith(`${NE}:${Nw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Tw(e.status,e.statusText,e.data)}catch{}}function Mw(r,{relative:e}={}){ft(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Hn),{hash:o,pathname:u,search:f}=au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function su(){return B.useContext(ru)!=null}function fs(){return ft(su(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ru).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(r){B.useContext(Hn).static||B.useLayoutEffect(r)}function Vw(){let{isDataRoute:r}=B.useContext(dr);return r?Qw():kw()}function kw(){ft(su(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(_o),{basename:e,navigator:n}=B.useContext(Hn),{matches:s}=B.useContext(dr),{pathname:o}=fs(),u=JSON.stringify(SE(s)),f=B.useRef(!1);return OE(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(si(f.current,DE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=wE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:sr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}B.createContext(null);function au(r,{relative:e}={}){let{matches:n}=B.useContext(dr),{pathname:s}=fs(),o=JSON.stringify(SE(n));return B.useMemo(()=>wE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Pw(r,e){return ME(r,e)}function ME(r,e,n,s,o){ft(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Hn),{matches:f}=B.useContext(dr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";kE(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=fs(),O;if(e){let ie=typeof e=="string"?vo(e):e;ft(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=w;let j=O.pathname||"/",F=j;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(ie.length).join("/")}let U=EE(r,{pathname:F});si(T||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Bw(U&&U.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:sr([b,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:sr([b,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&Z?B.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Z):Z}function jw(){let r=Kw(),e=xw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var Lw=B.createElement(jw,null),VE=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Ow(r.digest);n&&(r=n)}let e=r!==void 0?B.createElement(dr.Provider,{value:this.props.routeContext},B.createElement(ap.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(Uw,{error:r},e):e}};VE.contextType=Aw;var mm=new WeakMap;function Uw({children:r,error:e}){let{basename:n}=B.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Dw(e.digest);if(s){let o=mm.get(e);if(o)throw o;let u=RE(s.location,n);if(AE&&!mm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw mm.set(e,f),f}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function zw({routeContext:r,match:e,children:n}){let s=B.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(dr.Provider,{value:r},n)}function Bw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ft(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:w,errors:O}=n,j=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Sw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,w)=>{let O,j=!1,F=null,U=null;n&&(O=f&&T.route.id?f[T.route.id]:void 0,F=T.route.errorElement||Lw,m&&(p<0&&w===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,U=null):p===w&&(j=!0,U=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,w+1)),ie=()=>{let le;return O?le=F:j?le=U:T.route.Component?le=B.createElement(T.route.Component,null):T.route.element?le=T.route.element:le=b,B.createElement(zw,{match:T,routeContext:{outlet:b,matches:Z,isDataRoute:n!=null},children:le})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?B.createElement(VE,{location:n.location,revalidation:n.revalidation,component:F,error:O,children:ie(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):ie()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(r){let e=B.useContext(_o);return ft(e,op(r)),e}function Hw(r){let e=B.useContext(jh);return ft(e,op(r)),e}function Fw(r){let e=B.useContext(dr);return ft(e,op(r)),e}function lp(r){let e=Fw(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Gw(){return lp("useRouteId")}function Kw(){let r=B.useContext(ap),e=Hw("useRouteError"),n=lp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Qw(){let{router:r}=qw("useNavigate"),e=lp("useNavigate"),n=B.useRef(!1);return OE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{si(n.current,DE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var B_={};function kE(r,e,n){!e&&!B_[r]&&(B_[r]=!0,si(!1,n))}B.memo(Yw);function Yw({routes:r,future:e,state:n,onError:s}){return ME(r,void 0,n,s,e)}function $s(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=vo(n));let{pathname:g="/",search:b="",hash:T="",state:w=null,key:O="default"}=n,j=B.useMemo(()=>{let F=lr(g,m);return F==null?null:{location:{pathname:F,search:b,hash:T,state:w,key:O},navigationType:s}},[m,g,b,T,w,O,s]);return si(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(Hn.Provider,{value:p},B.createElement(ru.Provider,{children:e,value:j}))}function $w({children:r,location:e}){return Pw(Om(r),e)}function Om(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Om(s.props.children,u));return}ft(s.type===$s,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function Lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Ww(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function Jw(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function Zw(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function eA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tA(r,e){return r.button===0&&(!e||e==="_self")&&!eA(r)}var Yc=null;function nA(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var iA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(r){return r!=null&&!iA.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function rA(r,e){let n,s,o,u,f;if(Jw(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||th,o=pm(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(Ww(r)||Zw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=pm(r.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!nA()){let{name:g,type:b,value:T}=r;if(b==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&lr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function aA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await aA(u,n);return f.links?f.links():[]}return[]}));return fA(s.flat(1).filter(oA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function uA(r,e,{includeHydrateFallback:n}={}){return cA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cA(r){return[...new Set(r)]}function hA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function fA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function PE(){let r=B.useContext(_o);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dA(){let r=B.useContext(jh);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cp=B.createContext(void 0);cp.displayName="FrameworkContext";function jE(){let r=B.useContext(cp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function mA(r,e){let n=B.useContext(cp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=Z=>{Z.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[r]),B.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ml(m,O),onBlur:Ml(p,j),onMouseEnter:Ml(g,O),onMouseLeave:Ml(b,j),onTouchStart:Ml(T,O)}]:[!1,w,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function pA({page:r,...e}){let{router:n}=PE(),s=B.useMemo(()=>EE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(yA,{page:r,matches:s,...e}):null}function gA(r){let{manifest:e,routeModules:n}=jE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return lA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function yA({page:r,matches:e,...n}){let s=fs(),{future:o,manifest:u,routeModules:f}=jE(),{basename:m}=PE(),{loaderData:p,matches:g}=dA(),b=B.useMemo(()=>q_(r,e,g,u,s,"data"),[r,e,g,u,s]),T=B.useMemo(()=>q_(r,e,g,u,s,"assets"),[r,e,g,u,s]),w=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,U=!1;if(e.forEach(ie=>{let le=u.routes[ie.route.id];!le||!le.hasLoader||(!b.some(ge=>ge.route.id===ie.route.id)&&ie.route.id in p&&f[ie.route.id]?.shouldRevalidate||le.hasClientLoader?U=!0:F.add(ie.route.id))}),F.size===0)return[];let Z=sA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&F.size>0&&Z.searchParams.set("_routes",e.filter(ie=>F.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,b,e,r,f]),O=B.useMemo(()=>uA(T,u),[T,u]),j=gA(T);return B.createElement(B.Fragment,null,w.map(F=>B.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),O.map(F=>B.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:U})=>B.createElement("link",{key:F,nonce:n.nonce,...U})))}function vA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.12.0")}catch{}function EA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=ZS({window:s,v5Compat:!0}));let u=o.current,[f,m]=B.useState({action:u.action,location:u.location}),p=B.useCallback(g=>{n===!1?m(g):B.startTransition(()=>m(g))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(Xw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:w,...O},j){let{basename:F,unstable_useTransitions:U}=B.useContext(Hn),Z=typeof g=="string"&&LE.test(g),ie=RE(g,F);g=ie.to;let le=Mw(g,{relative:o}),[ge,Te,xe]=mA(s,O),I=SA(g,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:U});function A(P){e&&e(P),P.defaultPrevented||I(P)}let R=B.createElement("a",{...O,...xe,href:ie.absoluteURL||le,onClick:ie.isExternal||u?e:A,ref:vA(j,Te),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return ge&&!Z?B.createElement(B.Fragment,null,R,B.createElement(pA,{page:le})):R});tr.displayName="Link";var bA=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},b){let T=au(f,{relative:g.relative}),w=fs(),O=B.useContext(jh),{navigator:j,basename:F}=B.useContext(Hn),U=O!=null&&IA(T)&&m===!0,Z=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ie=w.pathname,le=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),le=le?le.toLowerCase():null,Z=Z.toLowerCase()),le&&F&&(le=lr(le,F)||le);const ge=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Te=ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(ge)==="/",xe=le!=null&&(le===Z||!o&&le.startsWith(Z)&&le.charAt(Z.length)==="/"),I={isActive:Te,isPending:xe,isTransitioning:U},A=Te?e:void 0,R;typeof s=="function"?R=s(I):R=[s,Te?"active":null,xe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(I):u;return B.createElement(tr,{...g,"aria-current":A,className:R,ref:b,style:P,to:f,viewTransition:m},typeof p=="function"?p(I):p)});bA.displayName="NavLink";var TA=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:w,...O},j)=>{let{unstable_useTransitions:F}=B.useContext(Hn),U=RA(),Z=CA(m,{relative:g}),ie=f.toLowerCase()==="get"?"get":"post",le=typeof m=="string"&&LE.test(m),ge=Te=>{if(p&&p(Te),Te.defaultPrevented)return;Te.preventDefault();let xe=Te.nativeEvent.submitter,I=xe?.getAttribute("formmethod")||f,A=()=>U(xe||Te.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:w});F&&n!==!1?B.startTransition(()=>A()):A()};return B.createElement("form",{ref:j,method:ie,action:Z,onSubmit:s?p:ge,...O,"data-discover":!le&&r==="render"?"true":void 0})});TA.displayName="Form";function xA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(r){let e=B.useContext(_o);return ft(e,xA(r)),e}function SA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Vw(),b=fs(),T=au(r,{relative:u});return B.useCallback(w=>{if(tA(w,e)){w.preventDefault();let O=n!==void 0?n:Ql(b)===Ql(T),j=()=>g(r,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?B.startTransition(()=>j()):j()}},[b,g,T,n,s,e,r,o,u,f,m,p])}var wA=0,AA=()=>`__${String(++wA)}__`;function RA(){let{router:r}=UE("useSubmit"),{basename:e}=B.useContext(Hn),n=Gw(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=rA(u,e);if(f.navigate===!1){let w=f.fetcherKey||AA();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function CA(r,{relative:e}={}){let{basename:n}=B.useContext(Hn),s=B.useContext(dr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(r||".",{relative:e})},f=fs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Ql(u)}function IA(r,{relative:e}={}){let n=B.useContext(IE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UE("useViewTransitionState"),o=au(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}const NA=()=>{};var H_={};const zE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(w=64)),s.push(n[b],n[T],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new OA;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(r){const e=zE(r);return BE.encodeByteArray(e,!0)},ph=function(r){return MA(r).replace(/\./g,"")},qE=function(r){try{return BE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kA=()=>VA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qE(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return NA()||kA()||PA()||jA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HE=r=>Uh()?.emulatorHosts?.[r],LA=r=>{const e=HE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FE=()=>Uh()?.config,GE=r=>Uh()?.[`_${r}`];class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(r){return(await fetch(r,{credentials:"include"})).ok}function zA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const zl={};function BA(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function qA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let F_=!1;function QE(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||zl[r]===e||zl[r]||F_)return;zl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=BA().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{F_=!0,f()},w}function b(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=qA(s),O=n("text"),j=document.getElementById(O)||document.createElement("span"),F=n("learnmore"),U=document.getElementById(F)||document.createElement("a"),Z=n("preprendIcon"),ie=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const le=w.element;m(le),b(U,F);const ge=g();p(ie,Z),le.append(ie,j,U,ge),document.body.appendChild(le)}u?(j.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function FA(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const JA="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JA,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ZA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new mr(o,m,s)}}function ZA(r,e){return r.replace(e1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const e1=/\{\$([^}]+)}/g;function t1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(G_(u)&&G_(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function n1(r,e){const n=new i1(r,e);return n.subscribe.bind(n)}class i1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");r1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function gm(){}function Bt(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class s1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new UA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o1(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:a1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(r){return r===Ws?void 0:r}function o1(r){return r.instantiationMode==="EAGER"}class l1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const u1={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},c1=je.INFO,h1={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},f1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=h1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const d1=(r,e)=>e.some(n=>r instanceof n);let K_,Q_;function m1(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Mm=new WeakMap,XE=new WeakMap,ym=new WeakMap,fp=new WeakMap;function g1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function y1(r){if(Mm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mm.set(r,e)}let Vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||XE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function v1(r){Vm=r(Vm)}function _1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(vm(this),e,...n);return XE.set(s,e.sort?e.sort():[e]),es(s)}:p1().includes(r)?function(...e){return r.apply(vm(this),e),es(YE.get(this))}:function(...e){return es(r.apply(vm(this),e))}}function E1(r){return typeof r=="function"?_1(r):(r instanceof IDBTransaction&&y1(r),d1(r,m1())?new Proxy(r,Vm):r)}function es(r){if(r instanceof IDBRequest)return g1(r);if(ym.has(r))return ym.get(r);const e=E1(r);return e!==r&&(ym.set(r,e),fp.set(e,r)),e}const vm=r=>fp.get(r);function b1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const T1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],_m=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=x1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||T1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return _m.set(e,u),u}v1(r=>({...r,get:(e,n,s)=>Y_(e,n)||r.get(e,n,s),has:(e,n)=>!!Y_(e,n)||r.has(e,n)}));class S1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function w1(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",X_="0.14.6";const ur=new hp("@firebase/app"),A1="@firebase/app-compat",R1="@firebase/analytics-compat",C1="@firebase/analytics",I1="@firebase/app-check-compat",N1="@firebase/app-check",D1="@firebase/auth",O1="@firebase/auth-compat",M1="@firebase/database",V1="@firebase/data-connect",k1="@firebase/database-compat",P1="@firebase/functions",j1="@firebase/functions-compat",L1="@firebase/installations",U1="@firebase/installations-compat",z1="@firebase/messaging",B1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",F1="@firebase/remote-config",G1="@firebase/remote-config-compat",K1="@firebase/storage",Q1="@firebase/storage-compat",Y1="@firebase/firestore",X1="@firebase/ai",$1="@firebase/firestore-compat",W1="firebase",J1="12.6.0";const Pm="[DEFAULT]",Z1={[km]:"fire-core",[A1]:"fire-core-compat",[C1]:"fire-analytics",[R1]:"fire-analytics-compat",[N1]:"fire-app-check",[I1]:"fire-app-check-compat",[D1]:"fire-auth",[O1]:"fire-auth-compat",[M1]:"fire-rtdb",[V1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[P1]:"fire-fn",[j1]:"fire-fn-compat",[L1]:"fire-iid",[U1]:"fire-iid-compat",[z1]:"fire-fcm",[B1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[F1]:"fire-rc",[G1]:"fire-rc-compat",[K1]:"fire-gcs",[Q1]:"fire-gcs-compat",[Y1]:"fire-fst",[$1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};const gh=new Map,eR=new Map,jm=new Map;function $_(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(jm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const n of gh.values())$_(n,r);for(const n of eR.values())$_(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new ou("app","Firebase",tR);class nR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const bo=J1;function $E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=FE()),!n)throw ts.create("no-options");const u=gh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new l1(o);for(const p of jm.values())f.addComponent(p);const m=new nR(n,s,f);return gh.set(o,m),m}function WE(r=Pm){const e=gh.get(r);if(!e&&r===Pm&&FE())return $E();if(!e)throw ts.create("no-app",{appName:r});return e}function ns(r,e,n){let s=Z1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}co(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const iR="firebase-heartbeat-database",rR=1,Yl="firebase-heartbeat-store";let Em=null;function JE(){return Em||(Em=b1(iR,rR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Em}async function sR(r){try{const n=(await JE()).transaction(Yl),s=await n.objectStore(Yl).get(ZE(r));return await n.done,s}catch(e){if(e instanceof mr)ur.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function W_(r,e){try{const s=(await JE()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,ZE(r)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}const aR=1024,oR=30;class lR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>oR){const o=hR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:n,unsentEntries:s}=uR(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function uR(r,e=aR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Z_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Z_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Z_(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function hR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function fR(r){co(new ia("platform-logger",e=>new S1(e),"PRIVATE")),co(new ia("heartbeat",e=>new lR(e),"PRIVATE")),ns(km,X_,r),ns(km,X_,"esm2020"),ns("fire-js","")}fR("");function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=eb,tb=new ou("auth","Firebase",eb());const yh=new hp("@firebase/auth");function mR(r,...e){yh.logLevel<=je.WARN&&yh.warn(`Auth (${bo}): ${r}`,...e)}function ih(r,...e){yh.logLevel<=je.ERROR&&yh.error(`Auth (${bo}): ${r}`,...e)}function qn(r,...e){throw pp(r,...e)}function ii(r,...e){return pp(r,...e)}function mp(r,e,n){const s={...dR(),[e]:n};return new ou("auth","Firebase",s).create(e,{appName:r.name})}function ar(r){return mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(r,"argument-error"),mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return tb.create(r,...e)}function Ee(r,e,...n){if(!r)throw pp(e,...n)}function ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function cr(r,e){r||ir(e)}function Lm(){return typeof self<"u"&&self.location?.href||""}function gR(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function yR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||KA()||"connection"in navigator)?navigator.onLine:!0}function vR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=HA()||QA()}get(){return yR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gp(r,e){cr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ER=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bR=new uu(3e4,6e4);function ds(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ms(r,e,n,s,o={}){return ib(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return GA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),nb.fetch()(await rb(r,r.config.apiHost,n,m),g)})}async function ib(r,e,n){r._canInitEmulator=!1;const s={..._R,...e};try{const o=new xR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mp(r,b,g);qn(r,b)}}catch(o){if(o instanceof mr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,n,s,o={}){const u=await ms(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?gp(r.config,o):`${r.config.apiScheme}://${o}`;return ER.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function TR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),bR.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(r,e,s);return o.customData._tokenResponse=n,o}function t0(r){return r!==void 0&&r.enterprise!==void 0}class SR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wR(r,e){return ms(r,"GET","/v2/recaptchaConfig",ds(r,e))}async function AR(r,e){return ms(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return ms(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RR(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=yp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(bm(o.auth_time)),issuedAtTime:Bl(bm(o.iat)),expirationTime:Bl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function yp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=qE(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const e=yp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&CR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(r){const e=r.auth,n=await r.getIdToken(),s=await Xl(r,vh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?sb(o.providerUserInfo):[],f=DR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function NR(r){const e=Bt(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function OR(r,e){const n=await ib(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await rb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),nb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MR(r,e){return ms(r,"POST","/v2/accounts:revokeToken",ds(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=n0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await OR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Yr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new IR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RR(this,e)}reload(){return NR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Xl(this,AR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:j,stsTokenManager:F}=n;Ee(T&&F,e,"internal-error");const U=ao.fromJSON(this.name,F);Ee(typeof T=="string",e,"internal-error"),Yr(s,e.name),Yr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Yr(u,e.name),Yr(f,e.name),Yr(m,e.name),Yr(p,e.name),Yr(g,e.name),Yr(b,e.name);const Z=new ni({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:b});return j&&Array.isArray(j)&&(Z.providerData=j.map(ie=>({...ie}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const i0=new Map;function rr(r){cr(r instanceof Function,"Expected a class definition");let e=i0.get(r);return e?(cr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,i0.set(r,e),e)}class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ab.type="NONE";const r0=ab;function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(rr(r0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(r0);const f=rh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let T;if(typeof b=="string"){const w=await vh(e,{idToken:b}).catch(()=>{});if(!w)break;T=await ni._fromGetAccountInfoResponse(e,w,b)}else T=ni._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,s))}}function s0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(db(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function ob(r=tn()){return/firefox\//i.test(r)}function lb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(r=tn()){return/crios\//i.test(r)}function cb(r=tn()){return/iemobile/i.test(r)}function hb(r=tn()){return/android/i.test(r)}function fb(r=tn()){return/blackberry/i.test(r)}function db(r=tn()){return/webos/i.test(r)}function vp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VR(r=tn()){return vp(r)&&!!window.navigator?.standalone}function kR(){return YA()&&document.documentMode===10}function mb(r=tn()){return vp(r)||hb(r)||db(r)||fb(r)||/windows phone/i.test(r)||cb(r)}function pb(r,e=[]){let n;switch(r){case"Browser":n=s0(tn());break;case"Worker":n=`${s0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class PR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function jR(r,e={}){return ms(r,"GET","/v2/passwordPolicy",ds(r,e))}const LR=6;class UR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new PR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ar(this));const n=e?Bt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jR(this),n=new UR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ps(r){return Bt(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=n1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BR(r){zh=r}function gb(r){return zh.loadJS(r)}function qR(){return zh.recaptchaEnterpriseScript}function HR(){return zh.gapiScript}function FR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GR{constructor(){this.enterprise=new KR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QR="recaptcha-enterprise",yb="NO_RECAPTCHA";class YR{constructor(e){this.type=QR,this.auth=ps(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;t0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(yb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&t0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=qR();p.length!==0&&(p+=m),gb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function o0(r,e,n,s=!1,o=!1){const u=new YR(r);let f;if(o)f=yb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await o0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await o0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function XR(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function $R(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function WR(r,e,n){const s=ps(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vb(e),{host:f,port:m}=JR(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(na(g,s.config.emulator)&&na(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(KE(`${u}//${f}${p}`),QE("Auth",!0)):ZR()}function vb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JR(r){const e=vb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:l0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:l0(f)}}}function l0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function e2(r,e){return ms(r,"POST","/v1/accounts:signUp",e)}async function t2(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",ds(r,e))}async function n2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}async function i2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}class $l extends _p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $l(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",t2);case"emailLink":return n2(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,s,"signUpPassword",e2);case"emailLink":return i2(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",ds(r,e))}const r2="http://localhost";class ra extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:r2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}function s2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a2(r){const e=Vl(kl(r)).link,n=e?Vl(kl(e)).deep_link_id:null,s=Vl(kl(r)).deep_link_id;return(s?Vl(kl(s)).link:null)||s||n||e||r}class Ep{constructor(e){const n=Vl(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=s2(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=a2(e);try{return new Ep(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ep.parseLink(n);return Ee(s,"argument-error"),$l._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends hu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class nr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return nr.credential(n,s)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class Wr extends hu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class Jr extends hu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function o2(r,e){return cu(r,"POST","/v1/accounts:signUp",ds(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=u0(s);return new sa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=u0(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function u0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Eh extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function _b(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function l2(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function u2(r,e,n=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const u=await Xl(r,_b(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=yp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}async function Eb(r,e,n=!1){if(Sn(r.app))return Promise.reject(ar(r));const s="signIn",o=await _b(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function c2(r,e){return Eb(ps(r),e)}async function bb(r){const e=ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h2(r,e,n){if(Sn(r.app))return Promise.reject(ar(r));const s=ps(r),f=await zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bb(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function f2(r,e,n){return Sn(r.app)?Promise.reject(ar(r)):c2(Bt(r),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bb(r),s})}function d2(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function m2(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function p2(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function g2(r){return Bt(r).signOut()}const bh="__sak";class Tb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,v2=10;class xb extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,v2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const _2=xb;class Sb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const wb=Sb;function E2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await E2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function Tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class b2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Tp("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function T2(r){Ii().location.href=r}function Ab(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function x2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){return navigator?.serviceWorker?.controller||null}function w2(){return Ab()?self:null}const Rb="firebaseLocalStorageDb",A2=1,Th="firebaseLocalStorage",Cb="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function R2(){const r=indexedDB.deleteDatabase(Rb);return new fu(r).toPromise()}function Bm(){const r=indexedDB.open(Rb,A2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:Cb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await R2(),e(await Bm()))})})}async function c0(r,e,n){const s=qh(r,!0).put({[Cb]:e,value:n});return new fu(s).toPromise()}async function C2(r,e){const n=qh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function h0(r,e){const n=qh(r,!0).delete(e);return new fu(n).toPromise()}const I2=800,N2=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>N2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(w2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await c0(e,bh,"1"),await h0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>c0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>C2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const D2=Ib;new uu(3e4,6e4);function Nb(r,e){return e?rr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O2(r){return Eb(r.auth,new xp(r),r.bypassAuthState)}function M2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),u2(n,new xp(r),r.bypassAuthState)}async function V2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),l2(n,new xp(r),r.bypassAuthState)}class Db{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:qn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k2=new uu(2e3,1e4);async function P2(r,e,n){if(Sn(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const s=ps(r);pR(r,e,bp);const o=Nb(s,n);return new Js(s,"signInViaPopup",e,o).executeNotNull()}class Js extends Db{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}Js.currentPopupAction=null;const j2="pendingRedirect",sh=new Map;class L2 extends Db{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await U2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(r,e){const n=q2(e),s=B2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function z2(r,e){sh.set(r._key(),e)}function B2(r){return rr(r._redirectPersistence)}function q2(r){return rh(j2,r.config.apiKey,r.name)}async function H2(r,e,n=!1){if(Sn(r.app))return Promise.reject(ar(r));const s=ps(r),o=Nb(s,e),f=await new L2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const F2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ob(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ob({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function K2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(r);default:return!1}}async function Q2(r,e={}){return ms(r,"GET","/v1/projects",e)}const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function $2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Q2(r);for(const n of e)try{if(W2(n))return}catch{}qn(r,"unauthorized-domain")}function W2(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!X2.test(n))return!1;if(Y2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const J2=new uu(3e4,6e4);function d0(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Z2(r){return new Promise((e,n)=>{function s(){d0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d0(),n(ii(r,"network-request-failed"))},timeout:J2.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=FR("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(ii(r,"network-request-failed"))},gb(`${HR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function eC(r){return ah=ah||Z2(r),ah}const tC=new uu(5e3,15e3),nC="__/auth/iframe",iC="emulator/auth/iframe",rC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gp(e,iC):`https://${r.config.authDomain}/${nC}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=sC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function oC(r){const e=await eC(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:aC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},tC.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const lC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uC=500,cC=600,hC="_blank",fC="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dC(r,e,n,s=uC,o=cC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lC,width:s.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=ub(g)?hC:n),ob(g)&&(e=e||fC,p.scrollbars="yes");const b=Object.entries(p).reduce((w,[O,j])=>`${w}${O}=${j},`,"");if(VR(g)&&m!=="_self")return mC(e||"",m),new m0(null);const T=window.open(e||"",m,b);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new m0(T)}function mC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pC="__/auth/handler",gC="emulator/auth/handler",yC=encodeURIComponent("fac");async function p0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof bp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",t1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof hu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${yC}=${encodeURIComponent(p)}`:"";return`${vC(r)}?${lu(m).slice(1)}${g}`}function vC({config:r}){return r.emulator?gp(r,gC):`https://${r.authDomain}/${pC}`}const Tm="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wb,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,n,s,o){cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await p0(e,n,s,Lm(),o);return dC(e,u,Tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await p0(e,n,s,Lm(),o);return T2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oC(e),s=new G2(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||lb()||vp()}}const EC=_C;var g0="@firebase/auth",y0="1.12.0";class bC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(r){co(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(r)},g=new zR(s,o,u,p);return $R(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new ia("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(s=>new bC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(g0,y0,TC(r)),ns(g0,y0,"esm2020")}const SC=300,wC=GE("authIdTokenMaxAge")||SC;let v0=null;const AC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wC)return;const o=n?.token;v0!==o&&(v0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RC(r=WE()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XR(r,{popupRedirectResolver:EC,persistence:[D2,_2,wb]}),s=GE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=AC(u.toString());m2(n,f,()=>f(n.currentUser)),d2(n,m=>f(m))}}const o=HE("auth");return o&&WR(n,`http://${o}`),n}function CC(){return document.getElementsByTagName("head")?.[0]??document}BR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,Mb;(function(){var r;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(P,V,z){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return A.prototype[V].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)P[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)P[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],V=I.g[2];let z=I.g[3],C;C=A+(z^R&(V^z))+P[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[1]+3905402710&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[5]+1200080426&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[9]+2336552879&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[13]+4254626195&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^z&(R^V))+P[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[6]+3225465664&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[10]+38016083&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[14]+3275163606&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[2]+4243563512&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^z)+P[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[8]+2272392833&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[4]+1272893353&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[0]+3936430074&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[12]+3873151461&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~z))+P[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[7]+1126891415&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[3]+2399980690&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[15]+4264355552&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[11]+3174756917&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,P=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=R;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<A;)if(P[V++]=I.charCodeAt(z++),V==this.blockSize){o(this,P),V=0;break}}else for(;z<A;)if(P[V++]=I[z++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)I[A++]=this.g[R]>>>P&255;return I};function u(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function f(I,A){this.h=A;const R=[];let P=!0;for(let V=I.length-1;V>=0;V--){const z=I[V]|0;P&&z==A||(R[V]=z,P=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return U(g(-I));const A=[];let R=1;for(let P=0;I>=R;P++)A[P]=I/R|0,R*=4294967296;return new f(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return U(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let P=T;for(let z=0;z<I.length;z+=8){var V=Math.min(8,I.length-z);const C=parseInt(I.substring(z,z+V),A);V<8?(V=g(Math.pow(A,V)),P=P.j(V).add(g(C))):(P=P.j(R),P=P.add(g(C)))}return P}var T=p(0),w=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-U(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(F(this))return"-"+U(this).toString(I);const A=g(Math.pow(I,6));var R=this;let P="";for(;;){const V=ge(R,A).g;R=Z(R,V.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,j(R))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function F(I){return I.h==-1}r.l=function(I){return I=Z(this,I),F(I)?-1:j(I)?0:1};function U(I){const A=I.g.length,R=[];for(let P=0;P<A;P++)R[P]=~I.g[P];return new f(R,~I.h).add(w)}r.abs=function(){return F(this)?U(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let P=0;for(let V=0;V<=A;V++){let z=P+(this.i(V)&65535)+(I.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);P=C>>>16,z&=65535,C&=65535,R[V]=C<<16|z}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(I,A){return I.add(U(A))}r.j=function(I){if(j(this)||j(I))return T;if(F(this))return F(I)?U(this).j(U(I)):U(U(this).j(I));if(F(I))return U(this.j(U(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<I.g.length;V++){const z=this.i(P)>>>16,C=this.i(P)&65535,He=I.i(V)>>>16,lt=I.i(V)&65535;R[2*P+2*V]+=C*lt,ie(R,2*P+2*V),R[2*P+2*V+1]+=z*lt,ie(R,2*P+2*V+1),R[2*P+2*V+1]+=C*He,ie(R,2*P+2*V+1),R[2*P+2*V+2]+=z*He,ie(R,2*P+2*V+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new f(R,0)};function ie(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function le(I,A){this.g=I,this.h=A}function ge(I,A){if(j(A))throw Error("division by zero");if(j(I))return new le(T,T);if(F(I))return A=ge(U(I),A),new le(U(A.g),U(A.h));if(F(A))return A=ge(I,U(A)),new le(U(A.g),A.h);if(I.g.length>30){if(F(I)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,P=A;P.l(I)<=0;)R=Te(R),P=Te(P);var V=xe(R,1),z=xe(P,1);for(P=xe(P,2),R=xe(R,2);!j(P);){var C=z.add(P);C.l(I)<=0&&(V=V.add(R),z=C),P=xe(P,1),R=xe(R,1)}return A=Z(I,V.j(A)),new le(V,A)}for(V=T;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=g(R),C=z.j(A);F(C)||C.l(I)>0;)R-=P,z=g(R),C=z.j(A);j(z)&&(z=w),V=V.add(z),I=Z(I,C)}return new le(V,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&I.i(P);return new f(R,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|I.i(P);return new f(R,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^I.i(P);return new f(R,this.h^I.h)};function Te(I){const A=I.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=I.i(P)<<1|I.i(P-1)>>>31;return new f(R,I.h)}function xe(I,A){const R=A>>5;A%=32;const P=I.g.length-R,V=[];for(let z=0;z<P;z++)V[z]=A>0?I.i(z+R)>>>A|I.i(z+R+1)<<32-A:I.i(z+R);return new f(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,is=f}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vb,Pl,kb,oh,qm,Pb,jb,Lb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in E))break e;E=E[q]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,q,Q){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return y.prototype[q].apply(S,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function j(c,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Q=q.length||0;c.length=E+Q;for(let ue=0;ue<Q;ue++)c[E+ue]=q[ue]}else c.push(q)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const S=le.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new F(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,xe=!1,I=new ie,A=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(E){U(E)}var y=le;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}xe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function He(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(He,V),He.prototype.init=function(c,y){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),M=0;function te(c,y,E,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=q,this.key=++M,this.da=this.fa=!1}function X(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function _e(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function D(c){const y={};for(const E in c)y[E]=c[E];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(E in S)c[E]=S[E];for(let Q=0;Q<$.length;Q++)E=$[Q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,y,E,S,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ue=Se(c,y,S,q);return ue>-1?(y=c[ue],E||(y.fa=!1)):(y=new te(y,this.src,Q,!!S,q),y.fa=E,c.push(y)),y};function me(c,y){const E=y.type;if(E in c.g){var S=c.g[E],q=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(S,q,1),Q&&(X(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Se(c,y,E,S){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==S)return q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ze={};function Fe(c,y,E,S,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Fe(c,y[Q],E,S,q);return null}return E=Io(E),c&&c[lt]?c.J(y,E,m(S)?!!S.capture:!1,q):vs(c,y,E,!1,S,q)}function vs(c,y,E,S,q,Q){if(!y)throw Error("Invalid event type");const ue=m(q)?!!q.capture:!!q;let Ce=_s(c);if(Ce||(c[De]=Ce=new se(c)),E=Ce.add(y,E,S,ue,Q),E.proxy)return E;if(S=ca(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)z||(q=ue),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(ai(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ca(){function c(E){return y.call(c.src,c.listener,E)}const y=Ro;return c}function ha(c,y,E,S,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ha(c,y[Q],E,S,q);else S=m(S)?!!S.capture:!!S,E=Io(E),c&&c[lt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],E=Se(y,E,S,q),E>-1&&(X(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=_s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,E,S,q)),(E=c>-1?y[c]:null)&&fa(E))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[lt])me(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(ai(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=_s(y))?(me(E,c),E.h==0&&(E.src=null,y[De]=null)):X(c)}}}function ai(c){return c in ze?ze[c]:ze[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new He(y,this);const E=c.listener,S=c.ha||c.src;c.fa&&fa(c),c=E.call(S,y)}return c}function _s(c){return c=c[De],c instanceof se?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function Tt(){P.call(this),this.i=new se(this),this.M=this,this.G=null}T(Tt,P),Tt.prototype[lt]=!0,Tt.prototype.removeEventListener=function(c,y,E,S){ha(this,c,y,E,S)};function Mt(c,y){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var q=y;y=new V(S,c),ae(y,q)}q=!0;let Q,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Q=y.g=E[ue],q=pr(Q,S,!0,y)&&q;if(Q=y.g=c,q=pr(Q,S,!0,y)&&q,q=pr(Q,S,!1,y)&&q,E)for(ue=0;ue<E.length;ue++)Q=y.g=E[ue],q=pr(Q,S,!1,y)&&q}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let S=0;S<E.length;S++)X(E[S]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},Tt.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function pr(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const ue=y[Q];if(ue&&!ue.da&&ue.capture==E){const Ce=ue.listener,yt=ue.ha||ue.src;ue.fa&&me(c.i,ue),q=Ce.call(yt,S)!==!1&&q}}return q&&!S.defaultPrevented}function uf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function _u(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){P.call(this),this.h=c,this.g={}}T(Es,P);var No=[];function Do(c){oe(c.g,function(y,E){this.g.hasOwnProperty(E)&&fa(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Do(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,cf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function bu(){}function Tu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){V.call(this,"d")}T(qt,V);function Rn(){V.call(this,"c")}T(Rn,V);var gt={},xu=null;function da(){return xu=xu||new Tt}gt.Ia="serverreachability";function Su(c){V.call(this,gt.Ia,c)}T(Su,V);function oi(c){const y=da();Mt(y,new Su(y))}gt.STAT_EVENT="statevent";function bs(c,y){V.call(this,gt.STAT_EVENT,c),this.stat=y}T(bs,V);function xt(c){const y=da();Mt(y,new bs(y,c))}gt.Ja="timingevent";function li(c,y){V.call(this,gt.Ja,c),this.size=y}T(li,V);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function hf(c,y,E,S,q,Q){c.info(function(){if(c.g)if(Q){var ue="",Ce=Q.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var yt=Ce[Qe].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const Dn=ut.split("_");ue=Dn.length>=2&&Dn[1]=="type"?ue+(ut+"="+yt+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+E+`
`+ue})}function wu(c,y,E,S,q,Q,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+E+`
`+Q+" "+ue})}function ci(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ff(c,E)+(S?" "+S:"")})}function Ts(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function ff(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return gr(Q)}catch{return y}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Ss(){}T(Ss,bu),Ss.prototype.g=function(){return new XMLHttpRequest},Mo=new Ss;function Pi(c){return encodeURIComponent(String(c))}function Au(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Kn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.S=S||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},jt={};function hi(c,y,E){c.M=1,c.A=ws(At(y)),c.u=E,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),fi(c),c.B=At(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),va(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Qn,c.g=Bu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(No[0]=q.toString()),q=No);for(let Q=0;Q<q.length;Q++){const ue=Fe(E,q[Q],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),hf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=$n(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Qe<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var E=df(this);if(this.o=y==200,wu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Q=S;break t}}Q=null}if(c=Q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,xt(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Cu(this,E),ut==jt){Ce==4&&(this.m=4,xt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,xt(15),ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ut,null),mi(this,ut);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Yo(ue),ue.P=!0,xt(11))}}else ci(this.i,this.l,E,null),mi(this,E);Ce==4&&pn(this),this.o&&!this.K&&(Ce==4?ju(this.j,this):(this.o=!1,fi(this)))}else Li(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),pn(this),Cn(this)}}}catch{}};function df(c){if(!Ru(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let E="";const S=y.length,q=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,E+=c.h.i.decode(y[Q],{stream:!(q&&Q==S-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?jt:(E=Number(y.substring(E,S)),isNaN(E)?St:(S+=1,S+E>y.length?jt:(y=y.slice(S,S+E),c.C=S+E,y)))}Kn.prototype.cancel=function(){this.K=!0,pn(this)};function fi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(oi(),xt(17)),pn(this),this.m=2,Cn(this)):pa(this,this.T-c)};function Cn(c){c.j.I==0||c.K||ju(c.j,c)}function pn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Do(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||gi(E.h,c))){if(!c.L&&gi(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)xa(E),Sr(E);else break e;Os(E),xt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ui(g(E.Va,E),6e3));pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ti(E,11)}else if((c.L||E.g==c)&&xa(E),!C(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Qe=q[y];const ut=Qe[0];if(!(ut<=E.K))if(E.K=ut,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Dn=Qe[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const xi=Qe[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const Wn=Qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Jn=c.g;if(Jn){const Ms=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var Q=S.h;Q.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Po(Q,Q.h),Q.h=null))}if(S.G){const Sa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,$e(S.J,S.G,Sa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ue=c;if(S.na=zu(S,S.L?S.ba:null,S.W),ue.L){jo(S.h,ue);var Ce=ue,yt=S.O;yt&&(Ce.H=yt),Ce.D&&(di(Ce),fi(Ce)),S.g=ue}else ku(S);E.i.length>0&&bi(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Ti(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ti(E,7):Ko(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}oi(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let q,Q=null;S>=0?(q=c[E].substring(0,S),Q=c[E].substring(S+1)):q=c[E],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,Uo(this,Mu(c.i)),this.m=c.m):c&&(y=String(c).match(Iu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),yr(this,y[4]),this.h=yi(y[5]||"",!0),Uo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(As(y,ya,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(As(y,ya,!0),"@"),c.push(Pi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(As(E,E.charAt(0)=="/"?zo:Nu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",As(E,Du)),c.join("")},gn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?Lt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var S=c.h;if(E)yr(y,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ue=0;ue<q.length;){const Ce=q[ue++];Ce=="."?S&&ue==q.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ue==q.length&&Q.push("")):(Q.push(Ce),S=!0)}S=Q.join("/")}else S=q}return E?y.h=S:E=c.i.toString()!=="",E?Uo(y,Mu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new gn(c)}function Lt(c,y,E){c.j=E?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Uo(c,y,E){y instanceof _r?(c.i=y,_a(c.i,c.l)):(E||(y=As(y,vr)),c.i=new _r(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function ws(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Nu=/[#\?:]/g,zo=/[#\?]/g,vr=/[#\?@]/g,Du=/#/g;function _r(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=_r.prototype,r.add=function(c,y){on(this),this.i=null,c=Er(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Ou(c,y){on(c),y=Er(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bo(c,y){return on(c),y=Er(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,S){E.forEach(function(q){c.call(y,q,S,this)},this)},this)};function qo(c,y){on(c);let E=[];if(typeof y=="string")Bo(c,y)&&(E=E.concat(c.g.get(Er(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=Er(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=qo(this,c),c.length>0?String(c[0]):y):y};function va(c,y,E){Ou(c,y),E.length>0&&(c.i=null,c.g.set(Er(c,y),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const q=Pi(E);E=qo(this,E);for(let Q=0;Q<E.length;Q++){let ue=q;E[Q]!==""&&(ue+="="+Pi(E[Q])),c.push(ue)}}return this.i=c.join("&")};function Mu(c){const y=new _r;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Er(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _a(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,S){const q=S.toLowerCase();S!=q&&(Ou(this,S),va(this,q,E))},c)),c.j=y}function Yn(c,y){const E=new Gn;if(f.Image){const S=new Image;S.onload=b(In,E,"TestLoadImage: loaded",!0,y,S),S.onerror=b(In,E,"TestLoadImage: error",!1,y,S),S.onabort=b(In,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(In,E,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ho(c,y){const E=new Gn,S=new AbortController,q=setTimeout(()=>{S.abort(),In(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?In(E,"TestPingServer: ok",!0,y):In(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),In(E,"TestPingServer: error",!1,y)})}function In(c,y,E,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(E)}catch{}}function br(){this.g=new Eu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,bu),vi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,Tt),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Xn(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Na=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return oe(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Cs(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Nn(E),typeof c=="string"?E!=null&&Pi(E):$e(c,y,E))}function Ze(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Tt);var _i=/^https?$/i,Fo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Is(this,Q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)E.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,y,void 0)>=0)||S||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of E)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Is(this,Q)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Go(c),ji(c)}function Go(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=Q===0){let ue=String(c.D).match(Iu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),S=!_i.test(ue?ue.toLowerCase():"")}E=S}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var q=$n(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Go(c)}}finally{ji(c)}}}}function ji(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),cf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var E=Au(c[S]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[q]||[];y[q]=Q,Q.push(E)}_e(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,S){xt(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=zu(this,null,this.W),bi(this)};function Ko(c){if(ba(c),c.I==3){var y=c.V++,E=At(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Ds(c,E),y=new Kn(c,c.j,y),y.M=2,y.A=ws(At(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Bu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}Uu(c)}function Sr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ba(c){Sr(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||A(),xe||(Te(),xe=!0),I.add(y,c),c.D=0}}function Ta(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Kn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=D(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Vu(this,q,y),E=At(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Ds(this,E),Q&&(this.R?y="headers="+Pi(Nn(Q))+"&"+y:this.u&&Cs(E,this.u,Q)),Po(this.h,q),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),q.U=!0,hi(q,E,null)):hi(q,E,y),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||ko(this.h)||Qo(this))};function Qo(c,y){var E;y?E=y.l:E=c.V++;const S=At(c.J);$e(S,"SID",c.M),$e(S,"RID",E),$e(S,"AID",c.K),Ds(c,S),c.u&&c.o&&Cs(S,c.u,c.o),E=new Kn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Vu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,E),hi(E,S,y)}function Ds(c,y){c.H&&oe(c.H,function(E,S){$e(y,S,E)}),c.l&&oe({},function(E,S){$e(y,S,E)})}function Vu(c,y,E){E=Math.min(c.i.length,E);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ce=-1;for(;;){const yt=["count="+E];Ce==-1?E>0?(Ce=q[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Qe=!0;for(let ut=0;ut<E;ut++){var Q=q[ut].g;const Dn=q[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,q[ut].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ue=Dn instanceof Map?Dn:Object.entries(Dn);for(const[xi,Wn]of ue){let Jn=Wn;m(Wn)&&(Jn=gr(Wn)),yt.push(Q+xi+"="+encodeURIComponent(Jn))}}catch(xi){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Dn)}}if(Qe){ue=yt.join("&");break e}}ue=void 0}return c=c.i.splice(0,E),y.G=c,ue}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||A(),xe||(Te(),xe=!0),I.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Sr(this),Pu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ws(At(y)),E.u=null,E.R=!0,ma(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Sr(this),Os(this),xt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,y){var E=null;if(c.g==y){xa(c),Yo(c),c.g=null;var S=2}else if(gi(c.h,y))E=y.G,jo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;S=da(),Mt(S,new li(S,E)),bi(c)}else ku(c);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&Ta(c,y)||S==2&&Os(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Lu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),S=c.Ua;const q=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),ws(S),q?Yn(S.toString(),E):Ho(S.toString(),E)}else xt(2);c.I=0,c.l&&c.l.pa(y),Uu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function zu(c,y,E){var S=E instanceof gn?At(E):new gn(E);if(S.g!="")y&&(S.g=y+"."+S.g),yr(S,S.u);else{var q=f.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new gn(null);S&&Lt(Q,S),y&&(Q.g=y),q&&yr(Q,q),E&&(Q.h=E),S=Q}return E=c.G,y=c.wa,E&&y&&$e(S,E,y),$e(S,"VER",c.ka),Ds(c,S),S}function Bu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new vi({ab:E})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ui(this)}T(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=gr(c),c=E);y.i.push(new wt(y.Ya++,c)),y.I==3&&bi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Hu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Hu,qt);function Fu(){Rn.call(this),this.status=1}T(Fu,Rn);function Ui(c){this.g=c}T(Ui,qu),Ui.prototype.ra=function(){Mt(this.g,"a")},Ui.prototype.qa=function(c){Mt(this.g,new Hu(c))},Ui.prototype.pa=function(c){Mt(this.g,new Fu)},Ui.prototype.oa=function(){Mt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Lb=function(){return new wr},jb=function(){return da()},Pb=gt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,oh=xs,Oo.COMPLETE="complete",kb=Oo,Tu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Pl=Tu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Vb=Ze}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",b0="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let xo="12.7.0";const aa=new hp("@firebase/firestore");function to(){return aa.logLevel}function ce(r,...e){if(aa.logLevel<=je.DEBUG){const n=e.map(Sp);aa.debug(`Firestore (${xo}): ${r}`,...n)}}function hr(r,...e){if(aa.logLevel<=je.ERROR){const n=e.map(Sp);aa.error(`Firestore (${xo}): ${r}`,...n)}}function ho(r,...e){if(aa.logLevel<=je.WARN){const n=e.map(Sp);aa.warn(`Firestore (${xo}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ub(r,s,n)}function Ub(r,e,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Xe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Ub(e,o,s)}function Re(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class NC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class OC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Hm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return xm(o)===xm(u)?Le(o,u):xm(o)?1:-1}return Le(r.length,e.length)}const PC=55296,jC=57343;function xm(r){const e=r.charCodeAt(0);return e>=PC&&e<=jC}function fo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const x0="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class at extends Ci{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const LC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ci{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return LC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new Xt([x0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function Bb(r,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function UC(r,e,n,s){if(e===!0&&s===!0)throw new fe(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function S0(r){if(!ye.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w0(r){if(ye.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ap(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function An(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ap(r);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!qb(r))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}const A0=-62135596800,R0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*R0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A0)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function zC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new ss(o,ye.empty(),e)}function BC(r){return new ss(r.readTime,r.key,Wl)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(we.min(),ye.empty(),Wl)}static max(){return new ss(we.max(),ye.empty(),Wl)}}function qC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==HC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{f[g]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function GC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Rp=-1;function Fh(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function KC(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Hb="";function QC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=C0(e)),e=YC(r.get(n),e);return C0(e)}function YC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Hb:n+="";break;default:n+=u}}return n}function C0(r){return r+Hb+""}function I0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Fb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=XC.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const Kb="server_timestamp",Qb="__type__",Yb="__previous_value__",Xb="__local_write_time__";function Cp(r){return(r?.mapValue?.fields||{})[Qb]?.stringValue===Kb}function Gh(r){const e=r.mapValue.fields[Yb];return Cp(e)?Gh(e):e}function Jl(r){const e=as(r.mapValue.fields[Xb].timestampValue);return new ot(e.seconds,e.nanos)}class $C{constructor(e,n,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Sh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const $b="__type__",WC="__max__",Jc={mapValue:{}},Wb="__vector__",wh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cp(r)?4:ZC(r)?9007199254740991:JC(r)?10:11:be(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I0(f)!==I0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),p=Et(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return D0(r.timestampValue,e.timestampValue);case 4:return D0(Jl(r),Jl(e));case 5:return Hm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=os(u),p=os(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Le(m[g],p[g]);if(b!==0)return b}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(Et(u.latitude),Et(f.latitude));return m!==0?m:Le(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return O0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[wh]?.arrayValue,b=p[wh]?.arrayValue,T=Le(g?.values?.length||0,b?.values?.length||0);return T!==0?T:O0(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const w=Hm(p[T],b[T]);if(w!==0)return w;const O=mo(m[p[T]],g[b[T]]);if(O!==0)return O}return Le(p.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function D0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=as(r),s=as(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function O0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function po(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function lh(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,f)=>{o+=u.length+lh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function Gm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function M0(r){return!!r&&"nullValue"in r}function V0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function JC(r){return(r?.mapValue?.fields||{})[$b]?.stringValue===Wb}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function ZC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(ql(this.value))}}function Jb(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Xt([n]);if(uh(s)){const u=Jb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function k0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function P0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Zb{}class kt extends Zb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nI(e,n,s):n==="array-contains"?new sI(e,s):n==="in"?new aI(e,s):n==="not-in"?new oI(e,s):n==="array-contains-any"?new lI(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iI(e,s):new rI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends Zb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return eT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eT(r){return r.op==="and"}function tT(r){return tI(r)&&eT(r)}function tI(r){for(const e of r.filters)if(e instanceof ki)return!1;return!0}function Km(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(tT(r))return r.filters.map((e=>Km(e))).join(",");{const e=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${e})`}}function nT(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,e):r instanceof ki?(function(s,o){return o instanceof ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&nT(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function iT(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"})(r):"Filter"}class nI extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class iI extends kt{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rT(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class sI extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&eu(n.arrayValue,this.value)}}class aI extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class oI extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class lI extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class uI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function j0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new uI(r,e,n,s,o,u,f)}function Np(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P0(r.startAt,e.startAt)&&P0(r.endAt,e.endAt)}function Qm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Kh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cI(r,e,n,s,o,u,f,m){return new Kh(r,e,n,s,o,u,f,m)}function Qh(r){return new Kh(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hI(r){return r.collectionGroup!==null}function Hl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Xt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Rh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Rh(Xt.keyField(),s))}return e.Ie}function Ni(r){const e=Re(r);return e.Ee||(e.Ee=fI(e,Hl(r))),e.Ee}function fI(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Rh(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ym(r,e,n){return new Kh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Dp(Ni(r),Ni(e))&&r.limitType===e.limitType}function sT(r){return`${Np(Ni(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>iT(o))).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=k0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const g=k0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Hl(s),o))})(r,e)}function dI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function aT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=mI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}const pI=new dt(ye.comparator);function fr(){return pI}const oT=new dt(ye.comparator);function jl(...r){let e=oT;for(const n of r)e=e.insert(n.key,n);return e}function lT(r){let e=oT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Fl()}function uT(){return Fl()}function Fl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gI=new dt(ye.comparator),yI=new Pt(ye.comparator);function Ue(...r){let e=yI;for(const n of r)e=e.add(n);return e}const vI=new Pt(Le);function _I(){return vI}function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function cT(r){return{integerValue:""+r}}function EI(r,e){return KC(e)?cT(e):Op(r,e)}class $h{constructor(){this._=void 0}}function bI(r,e,n){return r instanceof Ch?(function(o,u){const f={fields:{[Qb]:{stringValue:Kb},[Xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=Gh(u)),u&&(f.fields[Yb]=u),{mapValue:f}})(n,e):r instanceof tu?fT(r,e):r instanceof nu?dT(r,e):(function(o,u){const f=hT(o,u),m=U0(f)+U0(o.Ae);return Gm(f)&&Gm(o.Ae)?cT(m):Op(o.serializer,m)})(r,e)}function TI(r,e,n){return r instanceof tu?fT(r,e):r instanceof nu?dT(r,e):n}function hT(r,e){return r instanceof Ih?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ch extends $h{}class tu extends $h{constructor(e){super(),this.elements=e}}function fT(r,e){const n=mT(e);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends $h{constructor(e){super(),this.elements=e}}function dT(r,e){let n=mT(e);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class Ih extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function U0(r){return Et(r.integerValue||r.doubleValue)}function mT(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?fo(s.elements,o.elements,Vi):s instanceof Ih&&o instanceof Ih?Vi(s.Ae,o.Ae):s instanceof Ch&&o instanceof Ch})(r.transform,e.transform)}class SI{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function pT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Mp(r.key,ri.none()):new mu(r.key,r.data,ri.none());{const n=r.data,s=mn.empty();let o=new Pt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ys(r.key,s,new wn(o.toArray()),ri.none())}}function wI(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),p=B0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=B0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(gT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof mu?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const g=u.value.clone(),b=q0(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const g=q0(u.fieldTransforms,p,f),b=f.data;return b.setAll(gT(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function AI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=hT(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function z0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>xI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function B0(r,e,n){const s=new Map;Xe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,TI(f,m,n[o]))}return s}function q0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,bI(u,f,e))}return s}class Mp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RI extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=pT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,s)=>z0(n,s)))&&fo(this.baseMutations,e.baseMutations,((n,s)=>z0(n,s)))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Vp(e,n,s,o)}}class II{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function DI(r){switch(r){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function yT(r){if(r===void 0)return hr("GRPC error has no .code"),re.UNKNOWN;switch(r){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function OI(){return new TextEncoder}const MI=new is([4294967295,4294967295],0);function H0(r){const e=OI().encode(r),n=new Mb;return n.update(e),new Uint8Array(n.digest())}function F0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(MI)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=H0(e),[s,o]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=H0(e),[s,o]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(we.min(),o,new dt(Le),fr(),Ue())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ue(),Ue(),Ue())}}class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class vT{constructor(e,n){this.targetId=e,this.Ce=n}}class _T{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class G0{constructor(){this.ve=0,this.Fe=K0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=Zc(),this.He=Zc(),this.Ye=new dt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new ye(u.path);this.et(n,f,en.newNoDocument(f,we.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(p){if(p instanceof Gb)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return ho(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Qm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=Zc(),this.He=Zc(),this.Ye=new dt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new G0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new dt(ye.comparator)}function K0(){return new dt(ye.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},PI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class LI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UI(r,e){return Nh(r,e.toTimestamp())}function Di(r){return Xe(!!r,49232),we.fromTimestamp((function(n){const s=as(n);return new ot(s.seconds,s.nanos)})(r))}function Pp(r,e){return $m(r,e).canonicalString()}function $m(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function bT(r){const e=at.fromString(r);return Xe(AT(e),10190,{key:e.toString()}),e}function Wm(r,e){return Pp(r.databaseId,e.path)}function Sm(r,e){const n=bT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(xT(n))}function TT(r,e){return Pp(r.databaseId,e)}function zI(r){const e=bT(r);return e.length===4?at.emptyPath():xT(e)}function Jm(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q0(r,e,n){return{name:Wm(r,e),fields:n.value.mapValue.fields}}function BI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?re.UNKNOWN:yT(g.code);return new fe(b,g.message||"")})(f);n=new _T(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new hh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Di(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new NI(o,u),m=s.targetId;n=new vT(m,f)}}return n}function qI(r,e){let n;if(e instanceof mu)n={update:Q0(r,e.key,e.value)};else if(e instanceof Mp)n={delete:Wm(r,e.key)};else if(e instanceof ys)n={update:Q0(r,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof RI))return be(16599,{Vt:e.type});n={verify:Wm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:UI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function HI(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(we.min())&&(f=Di(u)),new SI(f,o.transformResults||[])})(n,e)))):[]}function FI(r,e){return{documents:[TT(r,e.path)]}}function GI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TT(r,o);const u=(function(g){if(g.length!==0)return wT(ki.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(w){return{field:io(w.field),direction:YI(w.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function KI(r){let e=zI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const w=ST(T);return w instanceof ki&&tT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(j){return new Rh(ro(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Fh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,O=T.values||[];return new Ah(O,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,O=T.values||[];return new Ah(O,w)})(n.endAt)),cI(e,o,f,u,m,"F",p,g)}function QI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>ST(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function YI(r){return kI[r]}function XI(r){return PI[r]}function $I(r){return jI[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Xt.fromServerFormat(r.fieldPath)}function wT(r){return r instanceof kt?(function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(M0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(M0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:XI(n.op),value:n.value}}})(r):r instanceof ki?(function(n){const s=n.getFilters().map((o=>wT(o)));return s.length===1?s[0]:{compositeFilter:{op:$I(n.op),filters:s}}})(r):be(54877,{filter:r})}function WI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JI{constructor(e){this.yt=e}}function ZI(r){const e=KI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ym(e,e.limit,"L"):e}class eN{constructor(){this.Cn=new tN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ss.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class tN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(RT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const X0="LruGarbageCollector",nN=1048576;function $0([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class iN{constructor(e){this.Ir=e,this.buffer=new Pt($0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(X0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ce(X0,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class sN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Hh.ce);const s=new iN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Y0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),to()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function aN(r,e){return new sN(r,e)}class oN{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,wn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=fr();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ys)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Gl(b.mutation,g,b.mutation.getFieldMask(),ot.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new lN(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new dt(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||wn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=uT();b.forEach((w=>{if(!u.has(w)){const O=pT(n.get(w),s.get(w));O!==null&&T.set(w,O),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Zs());let m=Wl,p=u;return f.next((g=>ne.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((b=>({batchId:m,changes:lT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new Kh(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=jl();return f.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&Gl(b.mutation,g,wn.empty(),ot.now()),Xh(n,g)&&(m=m.insert(p,g))})),m}))}}class cN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ZI(o.bundledQuery),readTime:Di(o.readTime)}})(n)),ne.resolve()}}class hN{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Zs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new II(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class fN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class jp{constructor(){this.Qr=new Pt(zt.$r),this.Ur=new Pt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class dN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Le);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Pt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mN{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qC(BC(b),s)<=0||(o.has(b.key)||Xh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pN(this)}getSize(e){return ne.resolve(this.size)}}class pN extends oN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class gN{constructor(e){this.persistence=e,this.si=new la((n=>Np(n)),Dp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class CT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=e(this),this.Pi=new gN(this),this.indexManager=new eN,this.remoteDocumentCache=(function(o){return new mN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new JI(n),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new yN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class yN extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.pi=new la((s=>QC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aN(this,n)}static mi(e,n){return new Dh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,s,o)}}class vN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XA()?8:GC(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new vN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(to()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(to()<=je.DEBUG&&ce("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(to()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):ne.resolve())}ys(e,n){if(L0(n))return ne.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return L0(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(to()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,f,n,zC(o,Wl)).next((m=>m)))}))}Ds(e,n){let s=new Pt(aT(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return to()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,ss.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const zp="LocalStore",EN=3e8;class bN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Le),this.xs=new la((u=>Np(u)),Dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TN(r,e,n,s){return new bN(r,e,n,s)}async function IT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function xN(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,w=T.keys();let O=ne.resolve();return w.forEach((j=>{O=O.next((()=>b.getEntry(p,j))).next((F=>{const U=g.docVersions.get(j);Xe(U!==null,48541),F.version.compareTo(U)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),b.addEntry(F)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function NT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SN(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(T,O),(function(F,U,Z){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=EN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,O,b)&&m.push(n.Pi.updateTargetData(u,O))}));let p=fr(),g=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(wN(u,f,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function wN(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function AN(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RN(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ce(zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function W0(r,e,n){const s=Re(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,b){const T=Re(p),w=T.xs.get(b);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,b)})(s,f,Ni(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ue()))).next((m=>(CN(s,dI(e),m),{documents:m,Qs:u})))))}function CN(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class J0{constructor(){this.activeTargetIds=_I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IN{constructor(){this.Mo=new J0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NN{Oo(e){}shutdown(){}}const Z0="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function ep(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const wm="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ON{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ep(),m=this.zo(e,n.toUriEncodedString());ce(wm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Eo(g);return this.Jo(e,m,p,s,b).then((T=>(ce(wm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw ho(wm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=DN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class MN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class VN extends ON{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ep();return new Promise(((m,p)=>{const g=new Vb;g.setWithCredentials(!0),g.listenOnce(kb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const T=g.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case oh.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),p(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const w=g.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O?.error;if(j&&j.status&&j.message){const F=(function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ie)>=0?ie:re.UNKNOWN})(j.status);p(new fe(F,j.message))}else p(new fe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Lb(),m=jb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=f.createWebChannel(b,p);this.I_(T);let w=!1,O=!1;const j=new MN({Yo:U=>{O?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),F=(U,Z,ie)=>{U.listen(Z,(le=>{try{ie(le)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return F(T,Pl.EventType.OPEN,(()=>{O||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),F(T,Pl.EventType.CLOSE,(()=>{O||(O=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),F(T,Pl.EventType.ERROR,(U=>{O||(O=!0,ho(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),F(T,Pl.EventType.MESSAGE,(U=>{if(!O){const Z=U.data[0];Xe(!!Z,16349);const ie=Z,le=ie?.error||ie[0]?.error;if(le){ce(Jt,`RPC '${e}' stream ${o} received error:`,le);const ge=le.status;let Te=(function(A){const R=Dt[A];if(R!==void 0)return yT(R)})(ge),xe=le.message;Te===void 0&&(Te=re.INTERNAL,xe="Unknown error status: "+ge+" with message "+le.message),O=!0,j.a_(new fe(Te,xe)),T.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,Z),j.u_(Z)}})),F(m,Pb.STAT_EVENT,(U=>{U.stat===qm.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===qm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Am(){return typeof document<"u"?document:null}function Zh(r){return new LI(r,!0)}class DT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tE="PersistentStream";class OT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kN extends OT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Di(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Qm(p)?{documents:FI(u,p)}:{query:GI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ET(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=QI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.q_(n)}}class PN extends OT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HI(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qI(this.serializer,s)))};this.q_(n)}}class jN{}class LN extends jN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,$m(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,$m(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(re.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class zN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ce(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new UN(s,o)}}async function ef(r){if(ua(r))for(const e of r.da)await e(!0)}async function gu(r){for(const e of r.da)await e(!1)}function MT(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?Hp(n):Ao(n).O_()&&qp(n,e))}function Bp(r,e){const n=Re(r),s=Ao(n);n.Ia.delete(e),s.O_()&&VT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function qp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function VT(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function Hp(r){r.Va=new VI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Fp(r){return ua(r)&&!Ao(r).x_()&&r.Ia.size>0}function ua(r){return Re(r).Ea.size===0}function kT(r){r.Va=void 0}async function BN(r){r.Ra.set("Online")}async function qN(r){r.Ia.forEach(((e,n)=>{qp(r,e)}))}async function HN(r,e){kT(r),Fp(r)?(r.Ra.ha(e),Hp(r)):r.Ra.set("Unknown")}async function FN(r,e,n){if(r.Ra.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof vT?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await NT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),VT(u,p);const T=new Zr(b.target,p,g,b.sequenceNumber);qp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(oa,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await gu(r),r.Ra.set("Offline"),n||(n=()=>NT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function PT(r,e){return e().catch((n=>Oh(r,n,e)))}async function tf(r){const e=Re(r),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;GN(e);)try{const o=await AN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KN(e,o)}catch(o){await Oh(e,o)}jT(e)&&LT(e)}function GN(r){return ua(r)&&r.Ta.length<10}function KN(r,e){r.Ta.push(e);const n=us(r);n.O_()&&n.X_&&n.ea(e.mutations)}function jT(r){return ua(r)&&!us(r).x_()&&r.Ta.length>0}function LT(r){us(r).start()}async function QN(r){us(r).ra()}async function YN(r){const e=us(r);for(const n of r.Ta)e.ea(n.mutations)}async function XN(r,e,n){const s=r.Ta.shift(),o=Vp.from(s,e,n);await PT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function $N(r,e){e&&us(r).X_&&await(async function(s,o){if((function(f){return DI(f)&&f!==re.ABORTED})(o.code)){const u=s.Ta.shift();us(s).B_(),await PT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),jT(r)&&LT(r)}async function nE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(oa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function WN(r,e){const n=Re(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new kN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:BN.bind(null,r),t_:qN.bind(null,r),r_:HN.bind(null,r),H_:FN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Fp(r)?Hp(r):r.Ra.set("Unknown")):(await r.ma.stop(),kT(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new PN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QN.bind(null,r),r_:$N.bind(null,r),ta:YN.bind(null,r),na:XN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Gp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(hr("AsyncQueue",`${e}: ${r}`),wo(r))return new fe(re.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class iE{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class JN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZN{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=rE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function rE(){return new la((r=>sT(r)),Yh)}async function Qp(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new JN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function Yp(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eD(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Xp(n)}function tD(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Xp(r){r.Ca.forEach((e=>{e.next()}))}var tp,sE;(sE=tp||(tp={})).Ma="default",sE.Cache="cache";class $p{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}class UT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class nD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=aT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new iE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const w=o.get(b),O=Xh(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;w&&O?w.data.isEqual(O.data)?j!==F&&(s.track({type:3,doc:O}),U=!0):this.su(w,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),U=!0):w&&!O&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(O?(f=f.add(O),u=F?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(O,j){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:U})}};return F(O)-F(j)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new zT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new UT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class iD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rD{constructor(e){this.key=e,this.hu=!1}}class sD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>sT(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aD(r,e,n=!0){const s=KT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BT(s,e,n,!0),o}async function oD(r,e){const n=KT(r);await BT(n,e,!0,!1)}async function BT(r,e,n,s){const o=await RN(r.localStore,Ni(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&MT(r.remoteStore,o),m}async function lD(r,e,n,s,o){r.pu=(T,w,O)=>(async function(F,U,Z,ie){let le=U.view.ru(Z);le.Cs&&(le=await W0(F.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,le))));const ge=ie&&ie.targetChanges.get(U.targetId),Te=ie&&ie.targetMismatches.get(U.targetId)!=null,xe=U.view.applyChanges(le,F.isPrimaryClient,ge,Te);return oE(F,U.targetId,xe.au),xe.snapshot})(r,T,w,O);const u=await W0(r.localStore,e,!0),f=new nD(e,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);oE(r,n,g.au);const b=new iD(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function uD(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bp(s.remoteStore,o.targetId),np(s,o.targetId)})).catch(So)):(np(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function cD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bp(n.remoteStore,s.targetId))}async function hD(r,e,n){const s=vD(r);try{const o=await(function(f,m){const p=Re(f),g=ot.now(),b=m.reduce(((O,j)=>O.add(j.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let j=fr(),F=Ue();return p.Ns.getEntries(O,b).next((U=>{j=U,j.forEach(((Z,ie)=>{ie.isValidDocument()||(F=F.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,j))).next((U=>{T=U;const Z=[];for(const ie of m){const le=AI(ie,T.get(ie.key).overlayedDocument);le!=null&&Z.push(new ys(ie.key,le,Jb(le.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Z,m)})).next((U=>{w=U;const Z=U.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(O,U.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:lT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function qT(r,e){const n=Re(r);try{const s=await SN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await So(s)}}function aE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Xp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fD(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ye.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=Ue().add(u),p=new Jh(we.min(),new Map,new dt(Le),f,m);await qT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Jp(s)}else await Zm(s.localStore,e,!1).then((()=>np(s,e,n))).catch(So)}async function dD(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await xN(n.localStore,e);FT(n,s,null),HT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await So(o)}}async function mD(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);FT(s,e,n),HT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await So(o)}}function HT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function FT(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||GT(r,s)}))}function GT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Bp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Jp(r))}function oE(r,e,n){for(const s of n)s instanceof UT?(r.Ru.addReference(s.key,e),pD(r,s)):s instanceof zT?(ce(Wp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||GT(r,s.key)):be(19791,{wu:s})}function pD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Wp,"New document in limbo: "+n),r.Eu.add(s),Jp(r))}function Jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(at.fromString(e)),s=r.fu.next();r.Au.set(s,new rD(n)),r.du=r.du.insert(n,s),MT(r.remoteStore,new Zr(Ni(Qh(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function yu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Up.As(p.targetId,g);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(O=>b.persistence.referenceDelegate.addReference(T,w.targetId,O))).next((()=>ne.forEach(w.ds,(O=>b.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))))))}catch(T){if(!wo(T))throw T;ce(zp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=b.Ms.get(w),j=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(j);b.Ms=b.Ms.insert(w,F)}}})(s.localStore,u))}async function gD(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(Wp,"User change. New user:",e.toKey());const s=await IT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(re.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function yD(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fD.bind(null,e),e.Pu.H_=eD.bind(null,e.eventManager),e.Pu.yu=tD.bind(null,e.eventManager),e}function vD(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TN(this.persistence,new _N,e.initialUser,this.serializer)}Cu(e){return new CT(Lp.mi,this.serializer)}Du(e){return new IN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class _D extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new CT((s=>Dh.mi(s,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gD.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZN})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=(function(u){return new VN(u)})(e.databaseInfo);return(function(u,f,m,p){return new LN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new zN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new NN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,b){const T=new sD(o,u,f,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(oa,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const cs="FirestoreClient";class ED{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function lE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await bD(r);ce(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>nE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>nE(e.remoteStore,o))),r._onlineComponents=e}async function bD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(cs,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Mh)}}else ce(cs,"Using default OfflineComponentProvider"),await Rm(r,new _D(void 0));return r._offlineComponents}async function QT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(cs,"Using user provided OnlineComponentProvider"),await lE(r,r._uninitializedComponentsProvider._online)):(ce(cs,"Using default OnlineComponentProvider"),await lE(r,new ip))),r._onlineComponents}function TD(r){return QT(r).then((e=>e.syncEngine))}async function Vh(r){const e=await QT(r),n=e.eventManager;return n.onListen=aD.bind(null,e.syncEngine),n.onUnlisten=uD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cD.bind(null,e.syncEngine),n}function xD(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new Zp({next:w=>{b.Nu(),f.enqueueAndForget((()=>Yp(u,T)));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new $p(Qh(m.path),b,{includeMetadataChanges:!0,qa:!0});return Qp(u,T)})(await Vh(r),r.asyncQueue,e,n,s))),s.promise}function SD(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new Zp({next:w=>{b.Nu(),f.enqueueAndForget((()=>Yp(u,T))),w.fromCache&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new $p(m,b,{includeMetadataChanges:!0,qa:!0});return Qp(u,T)})(await Vh(r),r.asyncQueue,e,n,s))),s.promise}function YT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const uE=new Map;const XT="firestore.googleapis.com",cE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=cE}else this.host=e.host,this.ssl=e.ssl??cE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nN)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IC;switch(s.type){case"firstParty":return new MC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=uE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),uE.delete(n),s.terminate())})(this),Promise.resolve()}}function wD(r,e,n,s={}){r=An(r,nf);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(KE(`https://${m}`),QE("Firestore",!0)),u.host!==XT&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=Zt.MOCK_USER;else{g=zA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(T)}r._authCredentials=new NC(new zb(g,b))}}class vu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vu(this.firestore,e,this._query)}}class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,bt._jsonSchema))return new bt(e,s||null,new ye(at.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class rs extends vu{constructor(e,n,s){super(e,n,Qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function kh(r,e,...n){if(r=Bt(r),Bb("collection","path",e),r instanceof nf){const s=at.fromString(e,...n);return w0(s),new rs(r,null,s)}{if(!(r instanceof bt||r instanceof rs))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return w0(s),new rs(r.firestore,null,s)}}function ht(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=wp.newId()),Bb("doc","path",e),r instanceof nf){const s=at.fromString(e,...n);return S0(s),new bt(r,null,new ye(s))}{if(!(r instanceof bt||r instanceof rs))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return S0(s),new bt(r.firestore,r instanceof rs?r.converter:null,new ye(s))}}const fE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&ce(fE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ce(fE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",mE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function pE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class hs extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function AD(r,e){const n=typeof r=="object"?r:WE(),s=typeof r=="string"?r:Sh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=LA("firestore");u&&wD(o,...u)}return o}function rf(r){if(r._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RD(r),r._firestoreClient}function RD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new $C(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,YT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ot("string",zn._jsonSchemaVersion),bytes:Ot("string")};class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(du(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ot("string",Oi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),vectorValues:Ot("object")};const CD=/^__.*__$/;class ID{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class $T{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class tg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WT(this.Ac)&&CD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}Cc(e,n,s,o=!1){return new tg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JT(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new ND(r._databaseId,!!e.ignoreUndefinedProperties,n)}function DD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ng("Data must be an object, but it was:",f,s);const m=ZT(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const w=rp(e,T,n);if(!f.contains(w))throw new fe(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tx(b,w)||b.push(w)}p=new wn(b),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new ID(new mn(m),p,g)}class af extends eg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function OD(r,e,n,s){const o=r.Cc(1,e,n);ng("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();gs(s,((p,g)=>{const b=ig(e,p,n);g=Bt(g);const T=o.yc(b);if(g instanceof af)u.push(b);else{const w=of(g,T);w!=null&&(u.push(b),f.set(b,w))}}));const m=new wn(u);return new $T(f,m,o.fieldTransforms)}function MD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[rp(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(rp(e,u[w])),p.push(u[w+1]);const g=[],b=mn.empty();for(let w=m.length-1;w>=0;--w)if(!tx(g,m[w])){const O=m[w];let j=p[w];j=Bt(j);const F=f.yc(O);if(j instanceof af)g.push(O);else{const U=of(j,F);U!=null&&(g.push(O),b.set(O,U))}}const T=new wn(g);return new $T(b,T,f.fieldTransforms)}function of(r,e){if(ex(r=Bt(r)))return ng("Unsupported field value:",e,r),ZT(r,e);if(r instanceof eg)return(function(s,o){if(!WT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=of(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:ET(o.serializer,s._byteString)};if(s instanceof bt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,m){return{mapValue:{fields:{[$b]:{stringValue:Wb},[wh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Op(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ap(s)}`)})(r,e)}function ZT(r,e){const n={};return Fb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=of(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ex(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Oi||r instanceof zn||r instanceof bt||r instanceof eg||r instanceof Mi)}function ng(r,e,n){if(!ex(n)||!qb(n)){const s=Ap(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function rp(r,e,n){if((e=Bt(e))instanceof sf)return e._internalPath;if(typeof e=="string")return ig(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function ig(r,e,n){if(e.search(VD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(re.INVALID_ARGUMENT,m+r+p)}function tx(r,e){return r.some((n=>n.isEqual(e)))}class nx{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kD extends nx{data(){return super.data()}}function ix(r,e){return typeof e=="string"?ig(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}function rx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PD{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[wh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=as(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Xe(AT(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function jD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends nx{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ix("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class fh extends ea{data(e={}){return super.data(e)}}class ta{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:LD(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function gE(r){r=An(r,bt);const e=An(r.firestore,hs);return xD(rf(e),r._key).then((n=>ax(e,r,n)))}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Ot("string",ta._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class rg extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function sx(r){r=An(r,vu);const e=An(r.firestore,hs),n=rf(e),s=new rg(e);return rx(r._query),SD(n,r._query).then((o=>new ta(e,s,r,o)))}function Bn(r,e,n){r=An(r,bt);const s=An(r.firestore,hs),o=jD(r.converter,e);return sg(s,[DD(JT(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function Cm(r,e,n,...s){r=An(r,bt);const o=An(r.firestore,hs),u=JT(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof sf?MD(u,"updateDoc",r._key,e,n,s):OD(u,"updateDoc",r._key,e),sg(o,[f.toMutation(r._key,ri.exists(!0))])}function Kl(r){return sg(An(r.firestore,hs),[new Mp(r._key,ri.none())])}function iu(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof bt)f=An(r.firestore,hs),m=Qh(r._key.path),u={next:p=>{e[s]&&e[s](ax(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=An(r,vu);f=An(p.firestore,hs),m=p._query;const g=new rg(f);u={next:b=>{e[s]&&e[s](new ta(f,g,p,b))},error:e[s+1],complete:e[s+2]},rx(r._query)}return(function(g,b,T,w){const O=new Zp(w),j=new $p(b,O,T);return g.asyncQueue.enqueueAndForget((async()=>Qp(await Vh(g),j))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>Yp(await Vh(g),j)))}})(rf(f),m,o,u)}function sg(r,e){return(function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>hD(await TD(s),o,u))),u.promise})(rf(r),e)}function ax(r,e,n){const s=n.docs.get(e._key),o=new rg(r);return new ea(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){xo=o})(bo),co(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new hs(new DC(s.getProvider("auth-internal")),new VC(f,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ns(E0,b0,e),ns(E0,b0,"esm2020")})();var UD="firebase",zD="12.7.0";ns(UD,zD,"app");const BD={apiKey:"AIzaSyBB71D6BVo4MHXOU2HH5jRxTTSTF299XHY",authDomain:"patagonia-rnd-hub.firebaseapp.com",projectId:"patagonia-rnd-hub",storageBucket:"patagonia-rnd-hub.firebasestorage.app",messagingSenderId:"655359223000",appId:"1:655359223000:web:dc20c2d9a8993ca18c23ad"};let Pe=null,Xr=null;try{const r=$E(BD);Pe=AD(r),Xr=RC(r),console.log(" Firebase initialized successfully")}catch(r){console.warn(" Firebase initialization failed:",r.message),Pe=null,Xr=null}const ox=B.createContext(),ag=()=>{const r=B.useContext(ox);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},qD=({children:r})=>{const[e,n]=B.useState(null),[s,o]=B.useState(null),[u,f]=B.useState(!0),[m,p]=B.useState(null);B.useEffect(()=>{if(!Xr){f(!1);return}const F=p2(Xr,async U=>{if(U&&Pe){const Z=ht(Pe,"users",U.uid),ie=iu(Z,async le=>{if(le.exists()){const ge=le.data();o(ge),n(U)}else{const ge={email:U.email,displayName:U.displayName||U.email.split("@")[0],approved:!1,isAdmin:!1,createdAt:new Date().toISOString(),uid:U.uid};await Bn(Z,ge),o(ge),n(U)}f(!1)});return()=>ie()}else n(null),o(null),f(!1)});return()=>F()},[]);const j={user:e,userProfile:s,loading:u,error:m,signInWithEmail:async(F,U)=>{try{return p(null),(await f2(Xr,F,U)).user}catch(Z){throw p(Z.message),Z}},signUpWithEmail:async(F,U)=>{try{return p(null),(await h2(Xr,F,U)).user}catch(Z){throw p(Z.message),Z}},signInWithGoogle:async()=>{try{p(null);const F=new nr;return(await P2(Xr,F)).user}catch(F){throw p(F.message),F}},signOut:async()=>{try{await g2(Xr)}catch(F){throw p(F.message),F}},isPasskeySupported:window.PublicKeyCredential!==void 0&&typeof window.PublicKeyCredential=="function",isAuthenticated:!!e,isApproved:s?.approved||!1};return _.jsx(ox.Provider,{value:j,children:!u&&r})},lx=B.createContext(),lf=()=>{const r=B.useContext(lx);if(!r)throw new Error("useTeams must be used within a TeamProvider");return r},Xs={teamA:{name:"Team A",color:"#4A90E2"},teamB:{name:"Team B",color:"#E94B3C"},teamC:{name:"Team C",color:"#50C878"},teamD:{name:"Team D",color:"#9B59B6"},rndEvents:{name:"R&D Events",color:"#95A5A6"}},HD=({children:r})=>{const[e,n]=B.useState(()=>{const m=localStorage.getItem("patagonia-teams");if(m){const p=JSON.parse(m);return p.allHands&&delete p.allHands,p.rndEvents||(p.rndEvents=Xs.rndEvents),localStorage.setItem("patagonia-teams",JSON.stringify(p)),p}return Xs}),[s,o]=B.useState(!1);B.useEffect(()=>{(async()=>{try{Pe&&(o(!0),console.log(" Firebase connected for teams"))}catch{console.log(" Using localStorage for teams"),o(!1)}})()},[]),B.useEffect(()=>{if(!s)return;const m=iu(ht(Pe,"config","teams"),p=>{if(p.exists()){const g=p.data();n(g),localStorage.setItem("patagonia-teams",JSON.stringify(g))}},p=>{console.error("Firebase teams sync error:",p),o(!1)});return()=>m()},[s]),B.useEffect(()=>{s||localStorage.setItem("patagonia-teams",JSON.stringify(e))},[e,s]);const u=async(m,p)=>{const g={...e,[m]:{...e[m],...p}};if(s)try{await Bn(ht(Pe,"config","teams"),g)}catch(b){console.error("Error updating team in Firebase:",b),n(g)}else n(g)},f=async()=>{if(s)try{await Bn(ht(Pe,"config","teams"),Xs)}catch(m){console.error("Error resetting teams in Firebase:",m),n(Xs),localStorage.setItem("patagonia-teams",JSON.stringify(Xs))}else n(Xs),localStorage.setItem("patagonia-teams",JSON.stringify(Xs))};return _.jsx(lx.Provider,{value:{teams:e,updateTeam:u,resetTeams:f,useFirebase:s},children:r})},ux=B.createContext(),FD=()=>{const r=B.useContext(ux);if(!r)throw new Error("useEvents must be used within an EventProvider");return r},eo=[{id:1,teamId:"teamA",title:"Retro",dayIndex:0,startTime:8,duration:.5,frequency:"Bi-weekly"},{id:2,teamId:"teamB",title:"Retro",dayIndex:0,startTime:8.5,duration:.5,frequency:"Bi-weekly"},{id:3,teamId:"teamC",title:"Retro",dayIndex:0,startTime:9,duration:.5,frequency:"Bi-weekly"},{id:4,teamId:"teamD",title:"Retro",dayIndex:0,startTime:9.5,duration:.5,frequency:"Bi-weekly"},{id:5,teamId:"rndEvents",title:"All Hands Meeting",dayIndex:1,startTime:9,duration:2,frequency:"Weekly"},{id:103,teamId:"teamC",title:"Daily Scrum",dayIndex:2,startTime:7.5,duration:.25,frequency:"Daily"},{id:104,teamId:"teamD",title:"Daily Scrum",dayIndex:2,startTime:7.75,duration:.25,frequency:"Daily"},{id:6,teamId:"teamA",title:"Grooming + Estimation",dayIndex:2,startTime:8,duration:1,frequency:"Weekly"},{id:7,teamId:"teamB",title:"Grooming + Estimation",dayIndex:2,startTime:9,duration:1,frequency:"Weekly"},{id:8,teamId:"teamC",title:"Grooming + Estimation",dayIndex:3,startTime:7.5,duration:1,frequency:"Weekly"},{id:9,teamId:"teamD",title:"Grooming + Estimation",dayIndex:3,startTime:8.5,duration:1,frequency:"Weekly"},{id:105,teamId:"teamA",title:"Daily Scrum",dayIndex:3,startTime:9.5,duration:.25,frequency:"Daily"},{id:106,teamId:"teamB",title:"Daily Scrum",dayIndex:3,startTime:9.75,duration:.25,frequency:"Daily"},{id:107,teamId:"teamA",title:"Daily Scrum",dayIndex:4,startTime:8,duration:.25,frequency:"Daily"},{id:108,teamId:"teamB",title:"Daily Scrum",dayIndex:4,startTime:8.25,duration:.25,frequency:"Daily"},{id:109,teamId:"teamC",title:"Daily Scrum",dayIndex:4,startTime:8.5,duration:.25,frequency:"Daily"},{id:110,teamId:"teamD",title:"Daily Scrum",dayIndex:4,startTime:8.75,duration:.25,frequency:"Daily"},{id:201,teamId:"teamA",title:"Daily Scrum",dayIndex:5,startTime:8,duration:.25,frequency:"Daily"},{id:202,teamId:"teamB",title:"Daily Scrum",dayIndex:5,startTime:8.25,duration:.25,frequency:"Daily"},{id:203,teamId:"teamC",title:"Daily Scrum",dayIndex:5,startTime:8.5,duration:.25,frequency:"Daily"},{id:204,teamId:"teamD",title:"Daily Scrum",dayIndex:5,startTime:8.75,duration:.25,frequency:"Daily"},{id:10,teamId:"rndEvents",title:"All Hands Meeting",dayIndex:6,startTime:9,duration:2,frequency:"Weekly"},{id:205,teamId:"teamC",title:"Daily Scrum",dayIndex:7,startTime:7.5,duration:.25,frequency:"Daily"},{id:206,teamId:"teamD",title:"Daily Scrum",dayIndex:7,startTime:7.75,duration:.25,frequency:"Daily"},{id:11,teamId:"teamA",title:"Grooming + Estimation",dayIndex:7,startTime:8,duration:1,frequency:"Weekly"},{id:12,teamId:"teamB",title:"Grooming + Estimation",dayIndex:7,startTime:9,duration:1,frequency:"Weekly"},{id:13,teamId:"teamC",title:"Grooming + Estimation",dayIndex:8,startTime:7.5,duration:1,frequency:"Weekly"},{id:14,teamId:"teamD",title:"Grooming + Estimation",dayIndex:8,startTime:8.5,duration:1,frequency:"Weekly"},{id:207,teamId:"teamB",title:"Daily Scrum",dayIndex:8,startTime:9.5,duration:.25,frequency:"Daily"},{id:15,teamId:"teamA",title:"Sprint Planning",dayIndex:8,startTime:9.75,duration:.75,frequency:"Bi-weekly"},{id:208,teamId:"teamA",title:"Daily Scrum",dayIndex:9,startTime:7.5,duration:.25,frequency:"Daily"},{id:16,teamId:"teamB",title:"Sprint Planning",dayIndex:9,startTime:7.75,duration:.75,frequency:"Bi-weekly"},{id:17,teamId:"teamC",title:"Sprint Planning",dayIndex:9,startTime:8.5,duration:.75,frequency:"Bi-weekly"},{id:18,teamId:"teamD",title:"Sprint Planning",dayIndex:9,startTime:9.25,duration:.75,frequency:"Bi-weekly"}],GD=({children:r})=>{const[e,n]=B.useState(()=>{const b=localStorage.getItem("patagonia-events");return b?JSON.parse(b):eo}),[s,o]=B.useState(!1);B.useEffect(()=>{(async()=>{try{Pe&&(o(!0),console.log(" Firebase connected - syncing data"))}catch{console.log(" Using localStorage - Firebase not configured"),o(!1)}})()},[]),B.useEffect(()=>{if(!s)return;const b=iu(kh(Pe,"events"),T=>{const w=T.docs.map(O=>({...O.data(),id:O.id}));w.length>0&&(n(w),localStorage.setItem("patagonia-events",JSON.stringify(w)))},T=>{console.error("Firebase sync error:",T),o(!1)});return()=>b()},[s]),B.useEffect(()=>{s||localStorage.setItem("patagonia-events",JSON.stringify(e))},[e,s]);const u=async b=>{const T={...b,id:String(Math.max(0,...e.map(w=>Number(w.id)||0))+1)};if(s)try{await Bn(ht(Pe,"events",T.id),T)}catch(w){console.error("Error adding event to Firebase:",w),n(O=>[...O,T])}else n(w=>[...w,T])},f=async b=>{let T=Math.max(0,...e.map(O=>Number(O.id)||0))+1;const w=b.map((O,j)=>({...O,id:String(T+j)}));if(s)try{await Promise.all(w.map(O=>Bn(ht(Pe,"events",O.id),O)))}catch(O){console.error("Error adding events to Firebase:",O),n(j=>[...j,...w])}else n(O=>[...O,...w])},m=async(b,T)=>{if(s)try{const w=e.find(O=>O.id===b);await Bn(ht(Pe,"events",String(b)),{...w,...T})}catch(w){console.error("Error updating event in Firebase:",w),n(O=>O.map(j=>j.id===b?{...j,...T}:j))}else n(w=>w.map(O=>O.id===b?{...O,...T}:O))},p=async b=>{if(s)try{await Kl(ht(Pe,"events",String(b)))}catch(T){console.error("Error deleting event from Firebase:",T),n(w=>w.filter(O=>O.id!==b))}else n(T=>T.filter(w=>w.id!==b))},g=async()=>{if(s)try{const b=await sx(kh(Pe,"events"));await Promise.all(b.docs.map(T=>Kl(T.ref))),await Promise.all(eo.map(T=>Bn(ht(Pe,"events",String(T.id)),T)))}catch(b){console.error("Error resetting events in Firebase:",b),n(eo),localStorage.setItem("patagonia-events",JSON.stringify(eo))}else n(eo),localStorage.setItem("patagonia-events",JSON.stringify(eo))};return _.jsx(ux.Provider,{value:{events:e,addEvent:u,addMultipleEvents:f,updateEvent:m,deleteEvent:p,resetEvents:g,useFirebase:s},children:r})},dh=[{name:"Monday",week:1,label:"Week 1 - Monday"},{name:"Tuesday",week:1,label:"Week 1 - Tuesday"},{name:"Wednesday",week:1,label:"Week 1 - Wednesday"},{name:"Thursday",week:1,label:"Week 1 - Thursday"},{name:"Friday",week:1,label:"Week 1 - Friday"},{name:"Monday",week:2,label:"Week 2 - Monday"},{name:"Tuesday",week:2,label:"Week 2 - Tuesday"},{name:"Wednesday",week:2,label:"Week 2 - Wednesday"},{name:"Thursday",week:2,label:"Week 2 - Thursday"},{name:"Friday",week:2,label:"Week 2 - Friday"}],cx=[6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10,10.25,10.5,10.75,11,11.25,11.5,11.75,12,12.25,12.5,12.75,13,13.25,13.5,13.75,14,14.25,14.5,14.75,15,15.25,15.5,15.75,16,16.25,16.5,16.75,17],so=r=>{const e=Math.floor(r),n=r%1*60,s=e>=12?"PM":"AM";return`${e>12?e-12:e}:${n.toString().padStart(2,"0")} ${s}`},yE=r=>r===1?"1 hr":r<1?`${r*60} min`:`${r} hrs`;function KD({selectedTeams:r=[]}){const{teams:e}=lf(),{events:n,addEvent:s,addMultipleEvents:o,updateEvent:u,deleteEvent:f,resetEvents:m}=FD(),[p,g]=B.useState(null),[b,T]=B.useState(!1),[w,O]=B.useState(null),[j,F]=B.useState(null),[U,Z]=B.useState(1),ie=Nm.useRef(null);Nm.useEffect(()=>{setTimeout(()=>{ie.current&&(ie.current.scrollTop=200)},150)},[U]);const le=X=>e[X]||e.rndEvents,ge=dh.filter(X=>X.week===U),Te=dh.map((X,oe)=>({...X,originalIndex:oe})).filter(X=>X.week===U).map(X=>X.originalIndex),xe=X=>{Z(X)},I=(X,oe)=>{g(oe),X.dataTransfer.effectAllowed="move"},A=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},R=(X,oe,_e)=>{if(X.preventDefault(),p){const D=Te[oe];u(p.id,{dayIndex:D,startTime:_e}),g(null)}},P=(X,oe)=>{const _e=Te[X];O({dayIndex:_e,timeSlot:oe}),T(!0)},V=X=>{F(X),T(!0)},z=X=>{if(j)u(j.id,X);else{const{frequency:oe,..._e}=X,{dayIndex:D,timeSlot:$}=w||{dayIndex:X.dayIndex,timeSlot:X.startTime},ae=[];if(oe==="Daily")dh.forEach((se,me)=>{ae.push({..._e,frequency:oe,dayIndex:me,startTime:$})});else if(oe==="Weekly"){const se=D%5;ae.push({..._e,frequency:oe,dayIndex:se,startTime:$}),ae.push({..._e,frequency:oe,dayIndex:se+5,startTime:$})}else oe==="Bi-weekly"||oe==="Monthly"?ae.push({..._e,frequency:oe,dayIndex:D,startTime:$}):ae.push({..._e,frequency:oe,dayIndex:D,startTime:$});ae.length>1?o(ae):s(ae[0])}T(!1),F(null),O(null)},C=X=>{window.confirm("Are you sure you want to delete this event?")&&(f(X),T(!1),F(null))},He=(X,oe)=>{const _e=Te[X];return n.filter(D=>{const $=D.startTime+D.duration,ae=le(D.teamId),se=r.length===0||r.includes(ae.name);return D.dayIndex===_e&&D.startTime<oe+.25&&$>oe&&se})},lt=X=>X*200,M=(X,oe)=>{const _e=X.startTime+X.duration,D=oe.startTime+oe.duration;return!(X.startTime>=D||_e<=oe.startTime)},te=(X,oe)=>{const _e=Te[oe],$=n.filter(ze=>ze.dayIndex===_e).filter(ze=>ze.id!==X.id&&M(ze,X));if($.length===0)return{left:0,width:100,totalOverlapping:1};const ae=[X,...$].sort((ze,Fe)=>ze.startTime!==Fe.startTime?ze.startTime-Fe.startTime:typeof ze.id=="string"&&typeof Fe.id=="string"?ze.id.localeCompare(Fe.id):String(ze.id).localeCompare(String(Fe.id))),se=ae.findIndex(ze=>ze.id===X.id),me=ae.length,Se=100/me;return{left:se*Se,width:Se,totalOverlapping:me}};return _.jsxs("div",{className:"w-full bg-white p-2 rounded-xl shadow-lg flex flex-col h-full overflow-hidden max-md:p-1 max-md:rounded-lg",children:[_.jsxs("div",{className:"flex gap-2 mb-2 justify-between items-center flex-shrink-0 flex-wrap max-md:gap-1 max-md:mb-1",children:[_.jsxs("div",{className:"flex gap-2 items-center flex-wrap max-md:w-full max-md:justify-center max-md:gap-1",children:[_.jsx("button",{onClick:()=>xe(1),className:`px-3 py-1.5 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-white text-xs whitespace-nowrap bg-gradient-to-r from-indigo-500 to-purple-600 ${U===1?"bg-gray-500 cursor-default":"hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40"} disabled:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-60 max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem]`,disabled:U===1,children:" Week 1"}),_.jsxs("span",{className:"font-bold text-sm text-gray-800 min-w-[100px] text-center max-md:text-xs max-md:min-w-[90px]",children:["Sprint Week ",U]}),_.jsx("button",{onClick:()=>xe(2),className:`px-3 py-1.5 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-white text-xs whitespace-nowrap bg-gradient-to-r from-indigo-500 to-purple-600 ${U===2?"bg-gray-500 cursor-default":"hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40"} disabled:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-60 max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem]`,disabled:U===2,children:"Week 2 "})]}),_.jsxs("div",{className:"flex gap-2 flex-wrap max-md:w-full max-md:justify-center",children:[_.jsx("button",{onClick:()=>T(!0),className:"px-4 py-2 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-sm bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md shadow-indigo-300/30 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40 whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem] max-md:flex-1",children:" Add Event"}),_.jsx("button",{onClick:m,className:"px-4 py-2 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-sm bg-red-600 text-white shadow-md shadow-red-300/30 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-red-400/40 whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem] max-md:flex-1",children:" Reset to Defaults"})]})]}),_.jsx("div",{className:"flex gap-2 mb-2 flex-wrap p-1.5 bg-gray-50 rounded-lg text-xs flex-shrink-0 justify-center max-md:gap-1.5 max-md:p-1 max-md:text-[0.7rem]",children:Object.entries(e).sort(([,X],[,oe])=>X.name==="R&D Events"?1:oe.name==="R&D Events"?-1:X.name.localeCompare(oe.name)).map(([X,oe])=>{const _e=r.includes(oe.name);return _.jsxs("div",{className:`flex items-center gap-1.5 transition-opacity duration-200 ${_e?"opacity-100":"opacity-30"}`,children:[_.jsx("div",{className:"w-4 h-4 rounded flex-shrink-0 max-md:w-3.5 max-md:h-3.5",style:{backgroundColor:oe.color}}),_.jsx("span",{children:oe.name})]},X)})}),_.jsxs("div",{className:"overflow-hidden border-2 border-gray-300 rounded-lg flex-1 flex flex-col min-h-0 text-xs max-md:text-[0.75rem]",children:[_.jsxs("div",{className:"grid grid-cols-[100px_repeat(5,1fr)] bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold sticky top-0 z-[100]",children:[_.jsx("div",{className:"p-3 text-center border-r border-white/30 text-sm max-md:text-xs",children:"Time"}),ge.map((X,oe)=>_.jsx("div",{className:"p-3 text-center border-r border-white/30 flex flex-col justify-center",children:_.jsx("div",{className:"text-sm font-bold max-md:text-xs",children:X.name})},oe))]}),_.jsx("div",{className:"bg-white overflow-y-auto flex-1 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-track]:rounded [&::-webkit-scrollbar-thumb]:bg-indigo-500 [&::-webkit-scrollbar-thumb]:rounded hover:[&::-webkit-scrollbar-thumb]:bg-purple-600",ref:ie,children:cx.map((X,oe)=>_.jsxs("div",{className:"grid grid-cols-[100px_repeat(5,1fr)] min-h-[50px] border-b border-gray-300 max-md:min-h-[40px]",children:[_.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 border-r-2 border-gray-300 flex items-start justify-center text-xs sticky left-0 z-10",children:so(X)}),ge.map((_e,D)=>{const $=He(D,X),ae=se=>se.startTime===X;return _.jsx("div",{className:"border-r border-gray-300 relative cursor-pointer transition-colors duration-200 hover:bg-gray-50",onDragOver:A,onDrop:se=>R(se,D,X),onDoubleClick:()=>P(D,X),children:$.filter(ae).map(se=>{const me=le(se.teamId),Se=lt(se.duration),De=`${me.name} - ${se.title}
${so(se.startTime)} - ${so(se.startTime+se.duration)}
${yE(se.duration)}
${se.frequency||""}`,ze=te(se,D);return _.jsxs("div",{className:"absolute top-0.5 p-1.5 rounded-md text-white text-xs cursor-move shadow-md transition-all duration-200 overflow-hidden z-10 whitespace-nowrap text-ellipsis hover:scale-[1.02] hover:shadow-lg hover:z-20 hover:overflow-visible hover:whitespace-normal max-md:text-[0.6rem] max-md:p-1",style:{backgroundColor:me.color,height:`${Se}px`,left:`${ze.left}%`,width:`calc(${ze.width}% - 4px)`,marginLeft:"2px"},draggable:!0,onDragStart:Fe=>I(Fe,se),onClick:()=>V(se),title:De,children:[_.jsx("div",{className:"font-bold mb-0.5 text-xs overflow-hidden text-ellipsis max-md:text-[0.65rem]",children:se.title}),_.jsx("div",{className:"text-[0.7rem] opacity-90 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:me.name}),_.jsxs("div",{className:"text-[0.65rem] mt-0.5 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:[so(se.startTime)," - ",so(se.startTime+se.duration)]}),_.jsxs("div",{className:"text-[0.6rem] italic opacity-80 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:["(",yE(se.duration),")"]}),se.frequency&&_.jsx("div",{className:"text-[0.6rem] mt-0.5 opacity-90 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:se.frequency})]},se.id)})},D)})]},oe))})]}),b&&_.jsx(QD,{event:j,teams:e,onSave:z,onDelete:j?()=>C(j.id):null,onClose:()=>{T(!1),F(null),O(null)}}),_.jsx("div",{className:"mt-3 p-2 bg-blue-50 border-l-4 border-blue-500 rounded text-blue-900 text-xs flex-shrink-0 max-md:text-[0.75rem] max-md:p-1.5",children:_.jsxs("p",{className:"m-0",children:[" ",_.jsx("strong",{children:"Tip:"})," Double-click a cell to add an event, drag events to move them, click an event to edit. Scroll down to see more time slots (6 AM - 5 PM). 2-week sprint cycle shown."]})})]})}function QD({event:r,teams:e,onSave:n,onDelete:s,onClose:o}){const[u,f]=B.useState({teamId:r?.teamId||"teamA",title:r?.title||"",dayIndex:r?.dayIndex||0,startTime:r?.startTime||8,duration:r?.duration||.5,frequency:r?.frequency||"Bi-weekly"}),m=p=>{p.preventDefault(),n(u)};return _.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] max-md:p-2",onClick:o,children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-lg w-[90%] max-h-[90vh] overflow-y-auto max-md:w-[95%] max-md:p-4 max-md:max-h-[85vh]",onClick:p=>p.stopPropagation(),children:[_.jsx("h2",{className:"mb-6 text-gray-800 max-md:text-xl",children:r?"Edit Event":"Add New Event"}),_.jsxs("form",{onSubmit:m,children:[_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Team"}),_.jsx("select",{value:u.teamId,onChange:p=>f({...u,teamId:p.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:Object.entries(e).map(([p,g])=>_.jsx("option",{value:p,children:g.name},p))})]}),_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Event Title"}),_.jsx("input",{type:"text",value:u.title,onChange:p=>f({...u,title:p.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm"})]}),_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Day"}),_.jsx("select",{value:u.dayIndex,onChange:p=>f({...u,dayIndex:parseInt(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:dh.map((p,g)=>_.jsx("option",{value:g,children:p.label},g))})]}),_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Start Time"}),_.jsx("select",{value:u.startTime,onChange:p=>f({...u,startTime:parseFloat(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:cx.map(p=>_.jsx("option",{value:p,children:so(p)},p))})]}),_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Duration (hours)"}),_.jsxs("select",{value:u.duration,onChange:p=>f({...u,duration:parseFloat(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:[_.jsx("option",{value:.25,children:"15 minutes"}),_.jsx("option",{value:.5,children:"30 minutes"}),_.jsx("option",{value:.75,children:"45 minutes"}),_.jsx("option",{value:1,children:"1 hour"}),_.jsx("option",{value:1.25,children:"1 hour 15 min"}),_.jsx("option",{value:1.5,children:"1.5 hours"}),_.jsx("option",{value:1.75,children:"1 hour 45 min"}),_.jsx("option",{value:2,children:"2 hours"}),_.jsx("option",{value:2.5,children:"2.5 hours"}),_.jsx("option",{value:3,children:"3 hours"})]})]}),_.jsxs("div",{className:"mb-6 max-md:mb-4",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Frequency"}),_.jsxs("select",{value:u.frequency,onChange:p=>f({...u,frequency:p.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:[_.jsx("option",{value:"Daily",children:"Daily (Every day, both weeks)"}),_.jsx("option",{value:"Weekly",children:"Weekly (Same day, both weeks)"}),_.jsx("option",{value:"Bi-weekly",children:"Bi-weekly (Once per 2-week sprint)"}),_.jsx("option",{value:"Monthly",children:"Monthly (Once per 2-week sprint)"})]}),_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.frequency==="Daily"&&" Event will be added to all 10 days (Mon-Fri both weeks)",u.frequency==="Weekly"&&" Event will be added to the same day in both weeks",u.frequency==="Bi-weekly"&&" Event will be added only to the selected day",u.frequency==="Monthly"&&" Event will be added only to the selected day"]})]}),_.jsxs("div",{className:"flex gap-4 justify-end mt-8 max-md:mt-6",children:[s&&_.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-red-600 text-white hover:-translate-y-0.5 mr-auto max-md:px-4 max-md:py-2.5 max-md:text-sm",children:"Delete"}),_.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-gray-500 text-white hover:-translate-y-0.5 max-md:px-4 max-md:py-2.5 max-md:text-sm",children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:-translate-y-0.5 max-md:px-4 max-md:py-2.5 max-md:text-sm",children:r?"Update":"Add"})]})]})]})})}function YD(){const{teams:r}=lf(),[e,n]=B.useState([]);B.useEffect(()=>{const m=Object.values(r||{});m.length>0&&n(m.map(p=>p.name))},[r]);const s=m=>{n(p=>p.includes(m)?p.filter(g=>g!==m):[...p,m])},o=()=>{const m=Object.values(r||{});n(m.map(p=>p.name))},u=()=>{n([])},f=Object.values(r||{}).sort((m,p)=>m.name==="R&D Events"?1:p.name==="R&D Events"?-1:m.name.localeCompare(p.name));return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:"text-center mb-2 max-md:mb-1",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1 max-md:text-lg",children:"Sprint Cycle Calendar (2 Weeks)"}),_.jsx("p",{className:"text-sm text-gray-600 max-md:text-xs",children:"Drag and drop events to reschedule, double-click to add new events"})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-2 max-md:p-2 max-md:mb-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 max-md:flex-col max-md:items-start",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-semibold text-gray-700 text-sm max-md:text-xs",children:"Filter by Team:"}),_.jsx("button",{onClick:o,className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors",children:"Select All"}),_.jsx("button",{onClick:u,className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Clear All"})]}),_.jsxs("div",{className:"text-xs text-gray-500 max-md:hidden",children:[e.length," of ",f.length," teams selected"]})]}),_.jsx("div",{className:"flex flex-wrap gap-2 max-md:gap-1",children:f.map(m=>_.jsx("button",{onClick:()=>s(m.name),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 max-md:px-2 max-md:py-1 max-md:text-xs ${e.includes(m.name)?"shadow-md scale-105":"opacity-50 hover:opacity-75"}`,style:{backgroundColor:e.includes(m.name)?m.color:"#e5e7eb",color:e.includes(m.name)?"#fff":"#6b7280"},children:m.name},m.name))})]}),_.jsx(KD,{selectedTeams:e})]})}function XD(){return _.jsxs("div",{className:"max-w-6xl mx-auto p-8 bg-gray-50 max-md:p-4",children:[_.jsxs("div",{className:"text-center mb-12 p-8 bg-white rounded-xl shadow-md",children:[_.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-2",children:"Story Pointing & Planning Poker Guide"}),_.jsx("p",{className:"text-xl text-gray-600 italic",children:" For Grooming & Refinement Sessions "})]}),_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-md:p-4",children:[_.jsxs("div",{className:"flex gap-8 mb-8 flex-wrap",children:[_.jsxs("div",{className:"flex-1 min-w-[300px]",children:[_.jsxs("h2",{className:"text-2xl text-gray-800 mb-4",children:["Story points are a ",_.jsx("em",{className:"text-blue-700 font-bold italic",children:"relative, unitless measure of effort"}),"."]}),_.jsxs("ul",{className:"list-none pl-4",children:[_.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Complexity"}),_.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Uncertainty"}),_.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Work"})]})]}),_.jsxs("div",{className:"bg-gray-200 p-8 rounded-lg text-center text-lg text-gray-700 min-w-[250px]",children:[_.jsx("strong",{children:"Not hours!"}),_.jsx("br",{}),"Not time estimates!"]})]}),_.jsx("div",{className:"text-center my-8 p-6 bg-gray-50 rounded-lg",children:_.jsxs("h3",{className:"text-2xl text-gray-800",children:["Planning Poker: ",_.jsx("span",{className:"text-blue-700 italic",children:"Team discussion to reach consensus."})]})}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 my-8",children:[_.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[_.jsx("h3",{className:"text-2xl text-gray-800 mb-4 text-center pb-2 border-b-2 border-blue-700",children:"Fibonacci Scale"}),_.jsxs("table",{className:"w-full border-collapse mb-4 bg-white rounded-lg overflow-hidden",children:[_.jsx("thead",{className:"bg-blue-700 text-white",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Points"}),_.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Effort"}),_.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Example"})]})}),_.jsxs("tbody",{children:[_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"1"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Trivial"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"Text Change"})})]}),_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"2"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Small"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"Simple Validation"})})]}),_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"3"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Moderate"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"Small API Change"})})]}),_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"5"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Medium"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"New Page with Backend"})})]}),_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"8"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Large"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"Feature Across Teams"})})]}),_.jsxs("tr",{className:"hover:bg-gray-100",children:[_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("strong",{children:"13"})}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:"Very Large"}),_.jsx("td",{className:"p-3 border-b border-gray-300",children:_.jsx("em",{children:"Major Workflow (Break Down)"})})]})]})]}),_.jsxs("div",{className:"text-red-600 text-lg text-center p-4 bg-red-100 rounded-lg mt-4",children:["> 13 ",_.jsx("strong",{children:"Split the Story!"})]})]}),_.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[_.jsx("h3",{className:"text-2xl text-gray-800 mb-4 text-center pb-2 border-b-2 border-blue-700",children:"How We Estimate"}),_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[_.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"1"}),_.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[_.jsx("strong",{children:"BA walks through the particular ticket"}),_.jsx("div",{className:"text-2xl",children:""})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[_.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"2"}),_.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[_.jsx("strong",{children:"Ask Questions"}),_.jsx("div",{className:"text-2xl",children:""})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[_.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"3"}),_.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[_.jsx("strong",{children:"Pick a Card"}),_.jsx("div",{className:"text-2xl",children:""})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[_.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"4"}),_.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[_.jsx("strong",{children:"Reveal & Discuss"}),_.jsx("div",{className:"text-2xl",children:""})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[_.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"5"}),_.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("strong",{children:"Assign Final Story Points"}),_.jsx("br",{}),_.jsx("span",{className:"text-sm text-gray-600 italic",children:"(Re-Vote if Needed)"})]}),_.jsx("div",{className:"text-2xl",children:""})]})]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 my-8 mt-12",children:[_.jsxs("div",{className:"bg-gray-50 p-0 rounded-lg overflow-hidden",children:[_.jsx("h3",{className:"text-2xl text-gray-800 mb-0 text-center pb-2 bg-amber-100 p-4 rounded-t-lg",children:"Pointing Session Protocol"}),_.jsxs("ul",{className:"list-none p-6 bg-white m-0 rounded-b-lg",children:[_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl",children:""})," Weekly Sessions"]}),_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl",children:""})," BA, EM, Team"]}),_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl",children:""})," Review, Discuss & Point Tickets"]})]})]}),_.jsxs("div",{className:"bg-gray-50 p-0 rounded-lg overflow-hidden",children:[_.jsx("h3",{className:"text-2xl text-gray-800 mb-0 text-center pb-2 bg-emerald-100 p-4 rounded-t-lg",children:"Guidelines & Key Points"}),_.jsxs("ul",{className:"list-none p-6 bg-white m-0 rounded-b-lg",children:[_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("strong",{children:"No Hours"})," - Use Past Stories"]}),_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("strong",{children:"Time Box"})," Discussions"]}),_.jsxs("li",{className:"py-3 flex items-center gap-3",children:[_.jsx("strong",{children:"Split Stories"})," > 13"]})]})]})]}),_.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white text-center p-8 mt-12 rounded-lg relative before:content-[''] before:absolute before:top-[-15px] before:left-1/2 before:-translate-x-1/2 before:w-0 before:h-0 before:border-l-[30px] before:border-l-transparent before:border-r-[30px] before:border-r-transparent before:border-b-[30px] before:border-b-orange-600",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Pointing Session Protocol"}),_.jsx("p",{className:"text-lg italic",children:"Accuracy Improves as We Calibrate Together"})]})]})]})}function hx(){const{teams:r,updateTeam:e,resetTeams:n}=lf(),[s,o]=B.useState(null),u=(p,g)=>{e(p,{name:g})},f=(p,g)=>{e(p,{color:g})},m=()=>{window.confirm("Are you sure you want to reset all teams to default settings?")&&(n(),o(null))};return _.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-8 p-8 bg-white rounded-xl shadow-md",children:[_.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Team Configuration"}),_.jsx("p",{className:"text-lg text-gray-600",children:"Customize team names and colors across the application"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:Object.entries(r).map(([p,g])=>_.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[_.jsx("div",{className:"p-6 text-white text-center",style:{backgroundColor:g.color},children:_.jsx("h3",{className:"m-0 text-2xl font-semibold",children:g.name})}),_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{htmlFor:`name-${p}`,className:"block mb-2 font-semibold text-gray-800",children:"Team Name"}),_.jsx("input",{id:`name-${p}`,type:"text",value:g.name,onChange:b=>u(p,b.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{htmlFor:`color-${p}`,className:"block mb-2 font-semibold text-gray-800",children:"Team Color"}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("input",{id:`color-${p}`,type:"color",value:g.color,onChange:b=>f(p,b.target.value),className:"w-[60px] h-[45px] border-2 border-gray-300 rounded-md cursor-pointer"}),_.jsx("input",{type:"text",value:g.color,onChange:b=>f(p,b.target.value),className:"flex-1 p-3 border-2 border-gray-300 rounded-md text-base font-mono focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"#000000"})]})]}),_.jsx("div",{className:"p-4 text-center text-white font-bold rounded-md mt-4 shadow-[1px_1px_2px_rgba(0,0,0,0.5)]",style:{backgroundColor:g.color},children:"Preview"})]})]},p))}),_.jsx("div",{className:"text-center py-8 border-t-2 border-b-2 border-gray-300 my-8",children:_.jsx("button",{onClick:m,className:"px-8 py-4 text-base font-semibold text-white bg-gradient-to-r from-red-500 to-red-700 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200",children:"Reset to Defaults"})}),_.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mt-8",children:[_.jsx("h3",{className:"text-gray-800 mb-4 text-xl font-semibold",children:" Information"}),_.jsxs("ul",{className:"list-none p-0",children:[_.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Changes are saved automatically"}),_.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Team colors and names will update across all pages"}),_.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Settings persist across browser sessions"}),_.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Use the reset button to restore default settings"})]})]})]})]})}function $D(){const[r,e]=B.useState("users"),[n,s]=B.useState([]),[o,u]=B.useState(!0),[f,m]=B.useState(null);B.useEffect(()=>{p()},[]);const p=async()=>{if(!Pe){u(!1);return}try{const j=kh(Pe,"users"),U=(await sx(j)).docs.map(Z=>({id:Z.id,...Z.data()}));U.sort((Z,ie)=>Z.approved===ie.approved?new Date(ie.createdAt)-new Date(Z.createdAt):Z.approved?1:-1),s(U)}catch(j){console.error("Error loading users:",j)}finally{u(!1)}},g=async j=>{m(j);try{const F=ht(Pe,"users",j);await Cm(F,{approved:!0,approvedAt:new Date().toISOString()}),s(n.map(U=>U.id===j?{...U,approved:!0,approvedAt:new Date().toISOString()}:U))}catch(F){console.error("Error approving user:",F),alert("Failed to approve user. Check console for details.")}finally{m(null)}},b=async(j,F)=>{m(j);try{const U=ht(Pe,"users",j);await Cm(U,{isAdmin:!F,adminUpdatedAt:new Date().toISOString()}),s(n.map(Z=>Z.id===j?{...Z,isAdmin:!F,adminUpdatedAt:new Date().toISOString()}:Z))}catch(U){console.error("Error updating admin status:",U),alert("Failed to update admin status. Check console for details.")}finally{m(null)}},T=async j=>{m(j);try{const F=ht(Pe,"users",j);await Cm(F,{approved:!1,revokedAt:new Date().toISOString()}),s(n.map(U=>U.id===j?{...U,approved:!1,revokedAt:new Date().toISOString()}:U))}catch(F){console.error("Error revoking access:",F),alert("Failed to revoke access. Check console for details.")}finally{m(null)}};if(o)return _.jsx("div",{className:"flex items-center justify-center p-12",children:_.jsx("div",{className:"text-gray-600",children:"Loading users..."})});const w=n.filter(j=>!j.approved),O=n.filter(j=>j.approved);return _.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[_.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Panel"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Manage users and team settings"}),_.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[_.jsx("button",{onClick:()=>e("users"),className:`px-6 py-3 font-semibold transition-colors ${r==="users"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:" User Management"}),_.jsx("button",{onClick:()=>e("teams"),className:`px-6 py-3 font-semibold transition-colors ${r==="teams"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:" Team Settings"})]})]}),r==="users"?_.jsxs(_.Fragment,{children:[w.length>0&&_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx("span",{className:"text-2xl",children:""}),_.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Pending Approval (",w.length,")"]})]}),_.jsx("div",{className:"space-y-3",children:w.map(j=>_.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-amber-200 bg-amber-50 rounded-lg",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-semibold text-gray-800",children:j.displayName}),_.jsx("div",{className:"text-sm text-gray-600",children:j.email}),_.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Signed up: ",new Date(j.createdAt).toLocaleString()]})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("button",{onClick:()=>g(j.id),disabled:f===j.id,className:"bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold px-6 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f===j.id?"Approving...":"Approve"})})]},j.id))})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx("span",{className:"text-2xl",children:""}),_.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Approved Users (",O.length,")"]})]}),O.length===0?_.jsx("div",{className:"text-gray-500 text-center py-8",children:"No approved users yet"}):_.jsx("div",{className:"space-y-3",children:O.map(j=>_.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-green-200 bg-green-50 rounded-lg",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"font-semibold text-gray-800",children:j.displayName}),j.isAdmin&&_.jsx("span",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"ADMIN"})]}),_.jsx("div",{className:"text-sm text-gray-600",children:j.email}),_.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Approved: ",new Date(j.approvedAt||j.createdAt).toLocaleString()]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>b(j.id,j.isAdmin),disabled:f===j.id,className:`${j.isAdmin?"bg-gradient-to-r from-gray-500 to-gray-600":"bg-gradient-to-r from-purple-500 to-purple-600"} text-white font-semibold px-4 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm`,children:j.isAdmin?"Remove Admin":"Make Admin"}),_.jsx("button",{onClick:()=>{window.confirm(`Revoke access for ${j.email}?`)&&T(j.id)},disabled:f===j.id,className:"bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold px-4 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:f===j.id?"Revoking...":"Revoke"})]})]},j.id))})]})]}):_.jsx(hx,{})]})}const WD=[1,2,3,5,8,13,"?",""];function Im(){const{teams:r}=lf(),[e,n]=B.useState(!1),[s,o]=B.useState(""),[u,f]=B.useState(null),[m,p]=B.useState(""),[g,b]=B.useState(""),[T,w]=B.useState(null),[O,j]=B.useState({}),[F,U]=B.useState(!1),[Z,ie]=B.useState("");B.useEffect(()=>{const te=new URLSearchParams(window.location.search).get("session");if(te){const X=decodeURIComponent(te);o(X),le(X)}},[]);const le=async M=>{if(Pe)try{const te=ht(Pe,"poker-sessions",M),X=await gE(te);X.exists()&&f(X.data())}catch(te){console.error("Error checking session:",te)}},ge=Object.values(r||{}).sort((M,te)=>M.name==="R&D Events"?1:te.name==="R&D Events"?-1:M.name.localeCompare(te.name)).filter(M=>M.name!=="R&D Events");B.useEffect(()=>{if(!s||!Pe)return;const M=iu(ht(Pe,"poker-sessions",s),te=>{if(te.exists()){const X=te.data();f(X),U(X.revealed||!1),ie(X.ticketName||"")}else f(null),U(!1)});return()=>M()},[s]),B.useEffect(()=>{if(!s||!Pe)return;const M=iu(kh(Pe,"poker-sessions",s,"votes"),te=>{const X={};te.forEach(oe=>{X[oe.id]=oe.data()}),j(X)});return()=>M()},[s]);const Te=async()=>{if(!s.trim()){alert("Please enter a session name");return}try{await Bn(ht(Pe,"poker-sessions",s),{createdAt:new Date().toISOString(),revealed:!1,ticketName:"",team:g}),n(!0)}catch(M){console.error("Error starting session:",M),alert("Failed to start session. Make sure Firebase is configured.")}},xe=async()=>{if(!s.trim()||!m.trim()||!g){alert("Please enter session name, your name, and select a team");return}try{const M=ht(Pe,"poker-sessions",s),te=await gE(M);if(!te.exists()){alert("Session not found. Please check the session name or ask the admin for the correct link.");return}f(te.data())}catch(M){console.error("Error joining session:",M),alert("Failed to join session. Make sure Firebase is configured.")}},I=async M=>{if(!m.trim()||!g){alert("Please enter your name and select a team");return}w(M);try{await Bn(ht(Pe,"poker-sessions",s,"votes",m),{userName:m,team:g,card:F?M:"***",actualCard:M,timestamp:new Date().toISOString()})}catch(te){console.error("Error casting vote:",te)}},A=async()=>{try{await Bn(ht(Pe,"poker-sessions",s),{...u,revealed:!0})}catch(M){console.error("Error revealing cards:",M)}},R=async()=>{try{const M=Object.keys(O);await Promise.all(M.map(te=>Kl(ht(Pe,"poker-sessions",s,"votes",te)))),await Bn(ht(Pe,"poker-sessions",s),{...u,revealed:!1}),w(null)}catch(M){console.error("Error resetting votes:",M)}},P=async M=>{try{await Bn(ht(Pe,"poker-sessions",s),{...u,ticketName:M})}catch(te){console.error("Error updating ticket name:",te)}},V=async()=>{if(window.confirm("Are you sure you want to end this session?"))try{const M=Object.keys(O);await Promise.all(M.map(te=>Kl(ht(Pe,"poker-sessions",s,"votes",te)))),await Kl(ht(Pe,"poker-sessions",s)),o(""),f(null),n(!1),j({}),w(null)}catch(M){console.error("Error ending session:",M)}},z=()=>{const M=`${window.location.origin}${window.location.pathname}?session=${encodeURIComponent(s)}`;navigator.clipboard.writeText(M).then(()=>{alert("Session link copied to clipboard! Share it with your team.")}).catch(te=>{console.error("Failed to copy:",te),prompt("Copy this link:",M)})},He=F?(()=>{const M=Object.values(O).filter(ae=>typeof ae.actualCard=="number").map(ae=>ae.actualCard);if(M.length===0)return null;const X=M.reduce((ae,se)=>ae+se,0)/M.length,oe=[...M].sort((ae,se)=>ae-se),_e=oe.length%2===0?(oe[oe.length/2-1]+oe[oe.length/2])/2:oe[Math.floor(oe.length/2)],D=Math.min(...M),$=Math.max(...M);return{avg:X.toFixed(1),median:_e,min:D,max:$,count:M.length}})():null,lt=Object.values(O).reduce((M,te)=>{const X=te.team||"Unknown";return M[X]||(M[X]=[]),M[X].push(te),M},{});return u&&!e&&(!m||!g)?_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-md:p-4",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2 max-md:text-2xl",children:"Join Planning Poker"}),_.jsxs("p",{className:"text-gray-600 max-md:text-sm",children:["Session: ",_.jsx("strong",{children:s})]})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Your Name"}),_.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:"Enter your name",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",autoFocus:!0})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Select Your Team"}),_.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",children:[_.jsx("option",{value:"",children:"Choose a team..."}),ge.map(M=>_.jsx("option",{value:M.name,children:M.name},M.name))]})]}),_.jsx("button",{onClick:()=>{if(!m.trim()||!g){alert("Please enter your name and select a team");return}},disabled:!m.trim()||!g,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed max-md:py-3 max-md:text-sm",children:" Join Session"}),_.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200 max-md:text-sm",children:_.jsxs("p",{className:"text-sm text-blue-800",children:[_.jsx("strong",{children:"Active Session Found!"})," Enter your details above to start voting with your team."]})})]})}):!u&&!e?_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-md:p-4",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2 max-md:text-2xl",children:"Planning Poker"}),_.jsx("p",{className:"text-gray-600 max-md:text-sm",children:"Collaborative estimation for agile teams"})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Session Name"}),_.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),placeholder:"e.g., Sprint-25-Planning",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm"})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Your Name"}),_.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:"Enter your name",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm"})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Select Team"}),_.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",children:[_.jsx("option",{value:"",children:"Choose a team..."}),ge.map(M=>_.jsx("option",{value:M.name,children:M.name},M.name))]})]}),_.jsxs("div",{className:"flex gap-4 max-md:flex-col",children:[_.jsx("button",{onClick:Te,className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 max-md:py-3 max-md:text-sm",children:" Start New Session (Admin)"}),_.jsx("button",{onClick:xe,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 max-md:py-3 max-md:text-sm",children:" Join Existing Session"})]}),_.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200 max-md:text-sm",children:_.jsxs("p",{className:"text-sm text-blue-800",children:[_.jsx("strong",{children:"How it works:"})," Admin starts a session, team members join using the same session name. Everyone votes using Fibonacci cards (1, 2, 3, 5, 8, 13). Admin reveals all votes at once."]})})]})}):_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4",children:_.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 mb-4 max-md:p-4",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4 max-md:flex-col max-md:gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 max-md:text-xl",children:[" Planning Poker: ",_.jsx("span",{className:"text-indigo-600",children:s})]}),e?_.jsx("div",{className:"flex items-center gap-2 max-md:flex-col max-md:items-start max-md:w-full",children:_.jsx("input",{type:"text",value:Z,onChange:M=>P(M.target.value),placeholder:"Enter ticket/story name...",className:"flex-1 p-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 max-md:w-full max-md:text-sm"})}):Z&&_.jsxs("p",{className:"text-lg text-gray-600 max-md:text-sm",children:[" ",Z]})]}),_.jsxs("div",{className:"flex gap-2 max-md:w-full max-md:flex-col",children:[_.jsx("button",{onClick:z,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" Share Link"}),e&&_.jsxs(_.Fragment,{children:[!F&&Object.keys(O).length>0&&_.jsx("button",{onClick:A,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" Reveal Cards"}),F&&_.jsx("button",{onClick:R,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" New Vote"}),_.jsx("button",{onClick:V,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" End Session"})]})]})]}),!e&&_.jsxs("div",{className:"text-sm text-gray-600",children:[_.jsx("strong",{children:"You:"})," ",m," (",g,")"]})]}),!e&&_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 mb-4 max-md:p-4",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 max-md:text-lg",children:"Select Your Estimate"}),_.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-3 max-md:gap-2",children:WD.map(M=>_.jsx("button",{onClick:()=>I(M),disabled:F,className:`aspect-[2/3] rounded-xl text-3xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl hover:-translate-y-1 max-md:text-2xl ${T===M?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white scale-105":"bg-white text-gray-800 border-2 border-gray-300 hover:border-indigo-500"} ${F?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:M},M))})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-md:p-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h2",{className:"text-xl font-bold text-gray-800 max-md:text-lg",children:["Participants (",Object.keys(O).length,")"]}),F&&He&&_.jsxs("div",{className:"flex gap-4 text-sm max-md:flex-col max-md:gap-1 max-md:items-end",children:[_.jsxs("span",{className:"font-semibold",children:[" Avg: ",He.avg]}),_.jsxs("span",{className:"font-semibold",children:[" Median: ",He.median]}),_.jsxs("span",{className:"text-gray-600",children:["Min: ",He.min," | Max: ",He.max]})]})]}),Object.keys(lt).map(M=>{const te=ge.find(oe=>oe.name===M)||{color:"#999"},X=lt[M];return _.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b-2",style:{borderColor:te.color},children:[_.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te.color}}),_.jsxs("h3",{className:"font-bold text-gray-800 max-md:text-sm",children:[M," (",X.length,")"]})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 max-md:gap-2",children:X.map(oe=>_.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-gray-50 border-2 border-gray-200 max-md:p-2",children:[_.jsx("div",{className:"text-sm font-semibold text-gray-700 text-center max-md:text-xs",children:oe.userName}),_.jsx("div",{className:`w-16 h-24 rounded-lg flex items-center justify-center text-2xl font-bold shadow-md max-md:w-12 max-md:h-18 max-md:text-xl ${F?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white":"bg-gray-300 text-gray-600"}`,children:F?oe.actualCard:""})]},oe.userName))})]},M)}),Object.keys(O).length===0&&_.jsxs("div",{className:"text-center py-12 text-gray-500 max-md:py-8 max-md:text-sm",children:[_.jsx("div",{className:"text-6xl mb-4 max-md:text-4xl",children:""}),_.jsx("p",{children:"Waiting for participants to vote..."})]})]})]})})}function vE(){return _.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.jsxs("div",{className:"text-center px-8 py-16 bg-white rounded-xl shadow-lg mb-12",children:[_.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"Patagonia R&D Hub"}),_.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Manage and visualize your team's sprint ceremonies"}),_.jsx(tr,{to:"/weeklyschedule",className:"inline-block px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200",children:"View Weekly Schedule"})]}),_.jsxs("div",{className:"mt-12",children:[_.jsx("h2",{className:"text-center text-3xl font-bold text-gray-800 mb-8",children:"Features"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[_.jsx("div",{className:"text-5xl mb-4",children:""}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Weekly Schedule"}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:"View all sprint ceremonies in a clear calendar format"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[_.jsx("div",{className:"text-5xl mb-4",children:""}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Multiple Teams"}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Track ceremonies across multiple agile teams"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[_.jsx("div",{className:"text-5xl mb-4",children:""}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Time Management"}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:"See all meeting times at a glance"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[_.jsx("div",{className:"text-5xl mb-4",children:""}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Color Coded"}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Easily distinguish between team events"})]})]})]})]})}function JD(){const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(!1),[f,m]=B.useState(""),{signInWithEmail:p,signUpWithEmail:g,signInWithGoogle:b,isPasskeySupported:T}=ag(),w=async j=>{j.preventDefault(),m("");try{o?await g(r,n):await p(r,n)}catch(F){m(F.message)}},O=async()=>{m("");try{await b()}catch(j){m(j.message)}};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Patagonia R&D Hub"}),_.jsx("p",{className:"text-gray-600",children:"Sign in to access your sprint calendar"})]}),f&&_.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:f}),_.jsxs("form",{onSubmit:w,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),_.jsx("input",{id:"email",type:"email",value:r,onChange:j=>e(j.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"your.email@example.com"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),_.jsx("input",{id:"password",type:"password",value:n,onChange:j=>s(j.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors",placeholder:""})]}),_.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-3 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:o?"Sign Up":"Sign In"})]}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-gray-300"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),_.jsxs("button",{onClick:O,className:"mt-4 w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-50 hover:shadow-md transition-all duration-200",children:[_.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),T&&_.jsxs("div",{className:"mt-3 text-center text-sm text-gray-600 flex items-center justify-center gap-2",children:[_.jsx("span",{className:"text-green-600",children:""}),_.jsx("span",{children:"Passkey support detected"})]})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{type:"button",onClick:()=>u(!o),className:"text-indigo-600 hover:text-indigo-700 font-semibold text-sm",children:o?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})})}function ZD(){const{user:r,signOut:e}=ag();return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-500 via-orange-500 to-red-500 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Pending Approval"}),_.jsxs("div",{className:"mb-6 text-gray-600",children:[_.jsxs("p",{className:"mb-4",children:["Welcome, ",_.jsx("span",{className:"font-semibold text-gray-800",children:r?.email}),"!"]}),_.jsx("p",{className:"mb-4",children:"Your account is pending approval from an administrator."}),_.jsx("p",{className:"text-sm",children:"You will receive access once your account has been approved. Please check back later or contact an administrator."})]}),_.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:_.jsxs("p",{className:"text-sm text-amber-800",children:[_.jsx("strong",{children:"Note:"})," This app requires admin approval for new users to ensure secure access to the sprint calendar and team data."]})}),_.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold py-3 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:"Sign Out"})]})})}function eO(){const r=fs(),{user:e,userProfile:n,signOut:s,loading:o}=ag(),u=r.pathname==="/weeklyschedule",f=r.pathname==="/planningpoker",m=n?.isAdmin===!0,g=new URLSearchParams(r.search).has("session");return f&&g?_.jsx(Im,{}):o?_.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),_.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})]})}):e?!m&&n&&!n.approved?_.jsx(ZD,{}):f?_.jsx(Im,{}):_.jsxs("div",{className:"min-h-screen bg-gray-100",children:[_.jsx("nav",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-md sticky top-0 z-[1000]",children:_.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4 flex justify-between items-center flex-wrap",children:[_.jsx(tr,{to:"/",className:"text-xl font-bold text-white flex items-center gap-2 max-md:text-lg",children:" Patagonia"}),_.jsxs("ul",{className:"flex list-none gap-4 flex-wrap max-md:gap-2 max-md:w-full max-md:justify-center max-md:mt-2",children:[_.jsx("li",{children:_.jsx(tr,{to:"/",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Home"})}),_.jsx("li",{children:_.jsx(tr,{to:"/weeklyschedule",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Weekly Schedule"})}),_.jsx("li",{children:_.jsx(tr,{to:"/storypointing",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Story Pointing"})}),m&&_.jsxs(_.Fragment,{children:[_.jsx("li",{children:_.jsx(tr,{to:"/planningpoker",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:" Planning Poker"})}),_.jsx("li",{children:_.jsx(tr,{to:"/admin",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:" Admin"})})]}),_.jsx("li",{children:_.jsx("button",{onClick:s,className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Sign Out"})})]})]})}),_.jsx("main",{className:`max-w-screen-xl mx-auto ${u?"h-[calc(100vh-70px)] overflow-hidden p-1 max-md:h-[calc(100vh-100px)] max-md:p-1":"p-4 max-md:p-2"}`,children:_.jsxs($w,{children:[_.jsx($s,{path:"/",element:_.jsx(vE,{})}),_.jsx($s,{path:"/weeklyschedule",element:_.jsx(YD,{})}),_.jsx($s,{path:"/storypointing",element:_.jsx(XD,{})}),_.jsx($s,{path:"/planningpoker",element:_.jsx(Im,{})}),_.jsx($s,{path:"/teamsettings",element:_.jsx(hx,{})}),_.jsx($s,{path:"/admin",element:m?_.jsx($D,{}):_.jsx(vE,{})})]})})]}):_.jsx(JD,{})}function tO(){return _.jsx(qD,{children:_.jsx(HD,{children:_.jsx(GD,{children:_.jsx(EA,{basename:"/react-process-app",children:_.jsx(eO,{})})})})})}JS.createRoot(document.getElementById("root")).render(_.jsx(Nm.StrictMode,{children:_.jsx(tO,{})}));
