(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},Dl={};var xv;function zw(){if(xv)return Dl;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var Av;function Bw(){return Av||(Av=1,om.exports=zw()),om.exports}var E=Bw(),lm={exports:{}},Ae={};var Rv;function qw(){if(Rv)return Ae;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,U={};function Z(D,$,ae){this.props=D,this.context=$,this.refs=U,this.updater=ae||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ie(){}ie.prototype=Z.prototype;function le(D,$,ae){this.props=D,this.context=$,this.refs=U,this.updater=ae||L}var ge=le.prototype=new ie;ge.constructor=le,G(ge,Z.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function Se(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,$,ae){var se=ae.ref;return{$$typeof:r,type:D,key:$,ref:se!==void 0?se:null,props:ae}}function P(D,$){return R(D.type,$,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function z(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return $[ae]})}var C=/\/+/g;function He(D,$){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):$.toString(36)}function lt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Se,Se):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,$,ae,se,me){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var De=!1;if(D===null)De=!0;else switch(we){case"bigint":case"string":case"number":De=!0;break;case"object":switch(D.$$typeof){case r:case e:De=!0;break;case b:return De=D._init,M(De(D._payload),$,ae,se,me)}}if(De)return me=me(D),De=se===""?"."+He(D,0):se,Te(me)?(ae="",De!=null&&(ae=De.replace(C,"$&/")+"/"),M(me,$,ae,"",function(ys){return ys})):me!=null&&(V(me)&&(me=P(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(C,"$&/")+"/")+De)),$.push(me)),1;De=0;var ze=se===""?".":se+":";if(Te(D))for(var Fe=0;Fe<D.length;Fe++)se=D[Fe],we=ze+He(se,Fe),De+=M(se,$,ae,we,me);else if(Fe=O(D),typeof Fe=="function")for(D=Fe.call(D),Fe=0;!(se=D.next()).done;)se=se.value,we=ze+He(se,Fe++),De+=M(se,$,ae,we,me);else if(we==="object"){if(typeof D.then=="function")return M(lt(D),$,ae,se,me);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return De}function te(D,$,ae){if(D==null)return D;var se=[],me=0;return M(D,se,"","",function(we){return $.call(ae,we,me++)}),se}function X(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ve={map:te,forEach:function(D,$,ae){te(D,function(){$.apply(this,arguments)},ae)},count:function(D){var $=0;return te(D,function(){$++}),$},toArray:function(D){return te(D,function($){return $})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=T,Ae.Children=ve,Ae.Component=Z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=le,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,$,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=G({},D.props),me=D.key;if($!=null)for(we in $.key!==void 0&&(me=""+$.key),$)!A.call($,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&$.ref===void 0||(se[we]=$[we]);var we=arguments.length-2;if(we===1)se.children=ae;else if(1<we){for(var De=Array(we),ze=0;ze<we;ze++)De[ze]=arguments[ze+2];se.children=De}return R(D.type,me,se)},Ae.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ae.createElement=function(D,$,ae){var se,me={},we=null;if($!=null)for(se in $.key!==void 0&&(we=""+$.key),$)A.call($,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=$[se]);var De=arguments.length-2;if(De===1)me.children=ae;else if(1<De){for(var ze=Array(De),Fe=0;Fe<De;Fe++)ze[Fe]=arguments[Fe+2];me.children=ze}if(D&&D.defaultProps)for(se in De=D.defaultProps,De)me[se]===void 0&&(me[se]=De[se]);return R(D,we,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:m,render:D}},Ae.isValidElement=V,Ae.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:X}},Ae.memo=function(D,$){return{$$typeof:g,type:D,compare:$===void 0?null:$}},Ae.startTransition=function(D){var $=I.T,ae={};I.T=ae;try{var se=D(),me=I.S;me!==null&&me(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Se,oe)}catch(we){oe(we)}finally{$!==null&&ae.types!==null&&($.types=ae.types),I.T=$}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(D){return I.H.use(D)},Ae.useActionState=function(D,$,ae){return I.H.useActionState(D,$,ae)},Ae.useCallback=function(D,$){return I.H.useCallback(D,$)},Ae.useContext=function(D){return I.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,$){return I.H.useDeferredValue(D,$)},Ae.useEffect=function(D,$){return I.H.useEffect(D,$)},Ae.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(D,$,ae){return I.H.useImperativeHandle(D,$,ae)},Ae.useInsertionEffect=function(D,$){return I.H.useInsertionEffect(D,$)},Ae.useLayoutEffect=function(D,$){return I.H.useLayoutEffect(D,$)},Ae.useMemo=function(D,$){return I.H.useMemo(D,$)},Ae.useOptimistic=function(D,$){return I.H.useOptimistic(D,$)},Ae.useReducer=function(D,$,ae){return I.H.useReducer(D,$,ae)},Ae.useRef=function(D){return I.H.useRef(D)},Ae.useState=function(D){return I.H.useState(D)},Ae.useSyncExternalStore=function(D,$,ae){return I.H.useSyncExternalStore(D,$,ae)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var Cv;function rp(){return Cv||(Cv=1,lm.exports=qw()),lm.exports}var q=rp();const Im=yE(q);var um={exports:{}},Ol={},cm={exports:{}},hm={};var Iv;function Hw(){return Iv||(Iv=1,(function(r){function e(M,te){var X=M.length;M.push(te);e:for(;0<X;){var oe=X-1>>>1,ve=M[oe];if(0<o(ve,te))M[oe]=te,M[X]=ve,X=oe;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var te=M[0],X=M.pop();if(X!==te){M[0]=X;e:for(var oe=0,ve=M.length,D=ve>>>1;oe<D;){var $=2*(oe+1)-1,ae=M[$],se=$+1,me=M[se];if(0>o(ae,X))se<ve&&0>o(me,ae)?(M[oe]=me,M[se]=X,oe=se):(M[oe]=ae,M[$]=X,oe=$);else if(se<ve&&0>o(me,X))M[oe]=me,M[se]=X,oe=se;else break e}}return te}function o(M,te){var X=M.sortIndex-te.sortIndex;return X!==0?X:M.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,T=null,x=3,O=!1,L=!1,G=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ge(M){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=M)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function Te(M){if(G=!1,ge(M),!L)if(n(p)!==null)L=!0,Se||(Se=!0,z());else{var te=n(g);te!==null&&lt(Te,te.startTime-M)}}var Se=!1,I=-1,A=5,R=-1;function P(){return U?!0:!(r.unstable_now()-R<A)}function V(){if(U=!1,Se){var M=r.unstable_now();R=M;var te=!0;try{e:{L=!1,G&&(G=!1,ie(I),I=-1),O=!0;var X=x;try{t:{for(ge(M),T=n(p);T!==null&&!(T.expirationTime>M&&P());){var oe=T.callback;if(typeof oe=="function"){T.callback=null,x=T.priorityLevel;var ve=oe(T.expirationTime<=M);if(M=r.unstable_now(),typeof ve=="function"){T.callback=ve,ge(M),te=!0;break t}T===n(p)&&s(p),ge(M)}else s(p);T=n(p)}if(T!==null)te=!0;else{var D=n(g);D!==null&&lt(Te,D.startTime-M),te=!1}}break e}finally{T=null,x=X,O=!1}te=void 0}}finally{te?z():Se=!1}}}var z;if(typeof le=="function")z=function(){le(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,He=C.port2;C.port1.onmessage=V,z=function(){He.postMessage(null)}}else z=function(){Z(V,0)};function lt(M,te){I=Z(function(){M(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(M){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var X=x;x=te;try{return M()}finally{x=X}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(M,te){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=x;x=M;try{return te()}finally{x=X}},r.unstable_scheduleCallback=function(M,te,X){var oe=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,M){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,M={id:b++,callback:te,priorityLevel:M,startTime:X,expirationTime:ve,sortIndex:-1},X>oe?(M.sortIndex=X,e(g,M),n(p)===null&&M===n(g)&&(G?(ie(I),I=-1):G=!0,lt(Te,X-oe))):(M.sortIndex=ve,e(p,M),L||O||(L=!0,Se||(Se=!0,z()))),M},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(M){var te=x;return function(){var X=x;x=te;try{return M.apply(this,arguments)}finally{x=X}}}})(hm)),hm}var Nv;function Fw(){return Nv||(Nv=1,cm.exports=Hw()),cm.exports}var fm={exports:{}},Wt={};var Dv;function Gw(){if(Dv)return Wt;Dv=1;var r=rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Wt.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:O}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var Ov;function Kw(){if(Ov)return fm.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=Gw(),fm.exports}var Mv;function Qw(){if(Mv)return Ol;Mv=1;var r=Fw(),e=rp(),n=Kw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Z:return"Profiler";case U:return"StrictMode";case Te:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case le:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var lt=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],ve=-1;function D(t){return{current:t}}function $(t){0>ve||(t.current=oe[ve],oe[ve]=null,ve--)}function ae(t,i){ve++,oe[ve]=t.current,t.current=i}var se=D(null),me=D(null),we=D(null),De=D(null);function ze(t,i){switch(ae(we,i),ae(me,t),ae(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(se),ae(se,t)}function Fe(){$(se),$(me),$(we)}function ys(t){t.memoizedState!==null&&ae(De,t);var i=se.current,a=X_(i,t.type);i!==a&&(ae(me,t),ae(se,a))}function ca(t){me.current===t&&($(se),$(me)),De.current===t&&($(De),Rl._currentValue=X)}var ha,fa;function ai(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var Ro=!1;function _s(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){K=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),F=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===F.length)for(l=N.length-1,h=F.length-1;1<=l&&0<=h&&N[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==F[h]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return ai("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,uf=r.unstable_shouldYield,vu=r.unstable_requestPaint,nn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,cf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,bu=r.log,Tu=r.unstable_setDisableYieldValue,Fn=null,qt=null;function Rn(t){if(typeof bu=="function"&&Tu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Fn,t)}catch{}}var gt=Math.clz32?Math.clz32:wu,Su=Math.log,da=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(Su(t)/da|0)|0}var oi=256,Es=262144,St=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=li(l):(_&=S,_!==0?h=li(_):a||(a=S&~t,a!==0&&(h=li(a))))):(S=l&~d,S!==0?h=li(S):_!==0?h=li(_):a||(a=l&~t,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-gt(a),ee=1<<W;S[W]=0,N[W]=-1;var K=F[W];if(K!==null)for(F[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Ts(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:_v(t.type))}function Kn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Qn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,hi="__reactContainer$"+Qn,ma="__reactEvents$"+Qn,df="__reactListeners$"+Qn,Ru="__reactHandles$"+Qn,Cu="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function pa(t){delete t[wt],delete t[Lt],delete t[ma],delete t[df],delete t[Ru]}function di(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=nv(t);t!==null;){if(a=t[wt])return a;t=nv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[wt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[fi]=!0}var Vo=new Set,ko={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},jo={};function Iu(t){return Tt.call(jo,t)?!0:Tt.call(Lo,t)?!1:Po.test(t)?jo[t]=!0:(Lo[t]=!0,!1)}function ga(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=gr(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function an(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,jt(i)):a!=null?zo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+jt(S):t.removeAttribute("name")}function Nu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function zo(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Du(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function _r(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Ho=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,_i=null;function As(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&yr(t,!!a.multiple,i,!1)}}}var Ea=!1;function br(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(Er!==null||_i!==null)&&(Ac(),Er&&(i=Er,t=_i,_i=Er=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Rs=!1}var vi=null,Fo=null,Cs=null;function Go(){if(Cs)return Cs;var t,i=Fo,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cs=h.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function $n(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ht(ji),Tr=T({},ji,{view:0,detail:0}),Ko=Ht(Tr),Sr,ba,bi,Ta=T({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Sr=t.screenX-bi.screenX,ba=t.screenY-bi.screenY):ba=Sr=0,bi=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Qo=Ht(Ta),Ns=T({},Ta,{dataTransfer:0}),Vu=Ht(Ns),ku=T({},Tr,{relatedTarget:0}),Ds=Ht(ku),Yo=T({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ht(Yo),Sa=T({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=Ht(Sa),ju=T({},ji,{data:0}),Ti=Ht(ju),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function wr(){return qu}var rn=T({},Tr,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=Ht(rn),Fu=T({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ht(Fu),c=T({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),y=Ht(c),v=T({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(v),B=T({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ht(B),ue=T({},ji,{newState:0,oldState:0}),Ce=Ht(ue),yt=[9,13,27,32],Qe=Nn&&"CompositionEvent"in window,ut=null;Nn&&"documentMode"in document&&(ut=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ut,Si=Nn&&(!Qe||ut&&8<ut&&11>=ut),Wn=" ",Jn=!1;function Os(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function cS(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function hS(t,i){if(xa)return t==="compositionend"||!Qe&&Os(t,i)?(t=Go(),Cs=Fo=vi=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!fS[t.type]:i==="textarea"}function ag(t,i,a,l){Er?_i?_i.push(l):_i=[l]:Er=l,i=Mc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function dS(t){q_(t,0)}function Gu(t){var i=pn(t);if(ws(i))return t}function og(t,i){if(t==="change")return i}var lg=!1;if(Nn){var mf;if(Nn){var pf="oninput"in document;if(!pf){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),pf=typeof ug.oninput=="function"}mf=pf}else mf=!1;lg=mf&&(!document.documentMode||9<document.documentMode)}function cg(){Xo&&(Xo.detachEvent("onpropertychange",hg),$o=Xo=null)}function hg(t){if(t.propertyName==="value"&&Gu($o)){var i=[];ag(i,$o,t,In(t)),br(dS,i)}}function mS(t,i,a){t==="focusin"?(cg(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",hg)):t==="focusout"&&cg()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu($o)}function gS(t,i){if(t==="click")return Gu(i)}function yS(t,i){if(t==="input"||t==="change")return Gu(i)}function _S(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:_S;function Wo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,i){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var vS=Nn&&"documentMode"in document&&11>=document.documentMode,Aa=null,yf=null,Jo=null,_f=!1;function gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Aa==null||Aa!==yi(l)||(l=Aa,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Mc(yf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},vf={},yg={};Nn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Vs(t){if(vf[t])return vf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return vf[t]=i[a];return t}var _g=Vs("animationend"),vg=Vs("animationiteration"),Eg=Vs("animationstart"),ES=Vs("transitionrun"),bS=Vs("transitionstart"),TS=Vs("transitioncancel"),bg=Vs("transitionend"),Tg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Zn(t,i){Tg.set(t,i),pi(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Ca=0,bf=0;function Qu(){for(var t=Ca,i=bf=Ca=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function Yu(t,i,a,l){On[Ca++]=t,On[Ca++]=i,On[Ca++]=a,On[Ca++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Yu(t,i,a,l),Xu(t)}function ks(t,i){return Yu(t,null,null,i),Xu(t)}function Sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<El)throw El=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function SS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new SS(t,i,a,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Sf(t)&&(_=1);else if(typeof t=="string")_=Cw(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,h),t.elementType=R,t.lanes=d,t;case G:return Ps(a.children,h,d,i);case U:_=8,h|=24;break;case Z:return t=_n(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case Te:return t=_n(13,a,i,h),t.elementType=Te,t.lanes=d,t;case Se:return t=_n(19,a,i,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case ie:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function xg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function xf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var Na=[],Da=0,Wu=null,Zo=0,Vn=[],kn=0,xr=null,wi=1,xi="";function Bi(t,i){Na[Da++]=Zo,Na[Da++]=Wu,Wu=t,Zo=i}function Rg(t,i,a){Vn[kn++]=wi,Vn[kn++]=xi,Vn[kn++]=xr,xr=t;var l=wi;t=xi;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-gt(i)+h|a<<h|l,xi=d+t}else wi=1<<d|a<<h|l,xi=t}function Af(t){t.return!==null&&(Bi(t,1),Rg(t,1,0))}function Rf(t){for(;t===Wu;)Wu=Na[--Da],Na[Da]=null,Zo=Na[--Da],Na[Da]=null;for(;t===xr;)xr=Vn[--kn],Vn[kn]=null,xi=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null}function Cg(t,i){Vn[kn++]=wi,Vn[kn++]=xi,Vn[kn++]=xr,wi=i.id,xi=i.overflow,xr=t}var Ft=null,rt=null,Be=!1,Ar=null,Pn=!1,Cf=Error(s(519));function Rr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Mn(i,t)),Cf}function Ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Lt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Rr(t,!0)}function Ng(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ft=Ft.return}}function Oa(t){if(t!==Ft)return!1;if(!Be)return Ng(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&rt&&Rr(t),Ng(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=tv(t)}else i===27?(i=rt,Br(t.type)?(t=Wd,Wd=null,rt=t):rt=i):rt=Ft?jn(t.stateNode.nextSibling):null;return!0}function Ls(){rt=Ft=null,Be=!1}function If(){var t=Ar;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ar=null),t}function el(t){Ar===null?Ar=[t]:Ar.push(t)}var Nf=D(null),js=null,qi=null;function Cr(t,i,a){ae(Nf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Nf.current,$(Nf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===De.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){js=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Dg(js,t)}function Zu(t,i){return js===null&&Us(t),Dg(t,i)}function Dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var wS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},xS=r.unstable_scheduleCallback,AS=r.unstable_NormalPriority,Rt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new wS,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&xS(AS,function(){t.controller.abort()})}var nl=null,Vf=0,Va=0,ka=null;function RS(t,i){if(nl===null){var a=nl=[];Vf=0,Va=Ld(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Og,Og),i}function Og(){if(--Vf===0&&nl!==null){ka!==null&&(ka.status="fulfilled");var t=nl;nl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function CS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=M.S;M.S=function(t,i){g_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&RS(t,i),Mg!==null&&Mg(t,i)};var zs=D(null);function kf(){var t=zs.current;return t!==null?t:it.pooledCache}function ec(t,i){i===null?ae(zs,zs.current):ae(zs,i.pool)}function Vg(){var t=kf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Pa=Error(s(460)),Pf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw qs=i,Pa}}function Bs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Pa):a}}var qs=null;function Lg(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function jg(t){if(t===Pa||t===tc)throw Error(s(483))}var La=null,il=0;function ic(t){var i=il;return il+=1,La===null&&(La=[]),Pg(La,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(j,k){if(t){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=zi(j,k),j.index=0,j.sibling=null,j}function d(j,k,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,k,H,J){return k===null||k.tag!==6?(k=wf(H,j.mode,J),k.return=j,k):(k=h(k,H),k.return=j,k)}function N(j,k,H,J){var pe=H.type;return pe===G?W(j,k,H.props.children,J,H.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Bs(pe)===k.type)?(k=h(k,H.props),rl(k,H),k.return=j,k):(k=$u(H.type,H.key,H.props,null,j.mode,J),rl(k,H),k.return=j,k)}function F(j,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=xf(H,j.mode,J),k.return=j,k):(k=h(k,H.children||[]),k.return=j,k)}function W(j,k,H,J,pe){return k===null||k.tag!==7?(k=Ps(H,j.mode,J,pe),k.return=j,k):(k=h(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wf(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return H=$u(k.type,k.key,k.props,null,j.mode,H),rl(H,k),H.return=j,H;case L:return k=xf(k,j.mode,H),k.return=j,k;case A:return k=Bs(k),ee(j,k,H)}if(lt(k)||z(k))return k=Ps(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,ic(k),H);if(k.$$typeof===le)return ee(j,Zu(j,k),H);rc(j,k)}return null}function K(j,k,H,J){var pe=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:S(j,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===pe?N(j,k,H,J):null;case L:return H.key===pe?F(j,k,H,J):null;case A:return H=Bs(H),K(j,k,H,J)}if(lt(H)||z(H))return pe!==null?null:W(j,k,H,J,null);if(typeof H.then=="function")return K(j,k,ic(H),J);if(H.$$typeof===le)return K(j,k,Zu(j,H),J);rc(j,H)}return null}function Y(j,k,H,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,S(k,j,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return j=j.get(J.key===null?H:J.key)||null,N(k,j,J,pe);case L:return j=j.get(J.key===null?H:J.key)||null,F(k,j,J,pe);case A:return J=Bs(J),Y(j,k,H,J,pe)}if(lt(J)||z(J))return j=j.get(H)||null,W(k,j,J,pe,null);if(typeof J.then=="function")return Y(j,k,H,ic(J),pe);if(J.$$typeof===le)return Y(j,k,H,Zu(k,J),pe);rc(k,J)}return null}function he(j,k,H,J){for(var pe=null,Ge=null,de=k,Ne=k=0,ke=null;de!==null&&Ne<H.length;Ne++){de.index>Ne?(ke=de,de=null):ke=de.sibling;var Ke=K(j,de,H[Ne],J);if(Ke===null){de===null&&(de=ke);break}t&&de&&Ke.alternate===null&&i(j,de),k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke,de=ke}if(Ne===H.length)return a(j,de),Be&&Bi(j,Ne),pe;if(de===null){for(;Ne<H.length;Ne++)de=ee(j,H[Ne],J),de!==null&&(k=d(de,k,Ne),Ge===null?pe=de:Ge.sibling=de,Ge=de);return Be&&Bi(j,Ne),pe}for(de=l(de);Ne<H.length;Ne++)ke=Y(de,j,Ne,H[Ne],J),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?Ne:ke.key),k=d(ke,k,Ne),Ge===null?pe=ke:Ge.sibling=ke,Ge=ke);return t&&de.forEach(function(Kr){return i(j,Kr)}),Be&&Bi(j,Ne),pe}function _e(j,k,H,J){if(H==null)throw Error(s(151));for(var pe=null,Ge=null,de=k,Ne=k=0,ke=null,Ke=H.next();de!==null&&!Ke.done;Ne++,Ke=H.next()){de.index>Ne?(ke=de,de=null):ke=de.sibling;var Kr=K(j,de,Ke.value,J);if(Kr===null){de===null&&(de=ke);break}t&&de&&Kr.alternate===null&&i(j,de),k=d(Kr,k,Ne),Ge===null?pe=Kr:Ge.sibling=Kr,Ge=Kr,de=ke}if(Ke.done)return a(j,de),Be&&Bi(j,Ne),pe;if(de===null){for(;!Ke.done;Ne++,Ke=H.next())Ke=ee(j,Ke.value,J),Ke!==null&&(k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return Be&&Bi(j,Ne),pe}for(de=l(de);!Ke.done;Ne++,Ke=H.next())Ke=Y(de,j,Ne,Ke.value,J),Ke!==null&&(t&&Ke.alternate!==null&&de.delete(Ke.key===null?Ne:Ke.key),k=d(Ke,k,Ne),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return t&&de.forEach(function(Uw){return i(j,Uw)}),Be&&Bi(j,Ne),pe}function nt(j,k,H,J){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var pe=H.key;k!==null;){if(k.key===pe){if(pe=H.type,pe===G){if(k.tag===7){a(j,k.sibling),J=h(k,H.props.children),J.return=j,j=J;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Bs(pe)===k.type){a(j,k.sibling),J=h(k,H.props),rl(J,H),J.return=j,j=J;break e}a(j,k);break}else i(j,k);k=k.sibling}H.type===G?(J=Ps(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=$u(H.type,H.key,H.props,null,j.mode,J),rl(J,H),J.return=j,j=J)}return _(j);case L:e:{for(pe=H.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),J=h(k,H.children||[]),J.return=j,j=J;break e}else{a(j,k);break}else i(j,k);k=k.sibling}J=xf(H,j.mode,J),J.return=j,j=J}return _(j);case A:return H=Bs(H),nt(j,k,H,J)}if(lt(H))return he(j,k,H,J);if(z(H)){if(pe=z(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),_e(j,k,H,J)}if(typeof H.then=="function")return nt(j,k,ic(H),J);if(H.$$typeof===le)return nt(j,k,Zu(j,H),J);rc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),J=h(k,H),J.return=j,j=J):(a(j,k),J=wf(H,j.mode,J),J.return=j,j=J),_(j)):a(j,k)}return function(j,k,H,J){try{il=0;var pe=nt(j,k,H,J);return La=null,pe}catch(de){if(de===Pa||de===tc)throw de;var Ge=_n(29,de,null,j.mode);return Ge.lanes=J,Ge.return=j,Ge}}}var Hs=Ug(!0),zg=Ug(!1),Ir=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),Sg(t,null,a),i}return Yu(t,l,i,a),Xu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function Uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function al(){if(zf){var t=ka;if(t!==null)throw t}}function ol(t,i,a,l){zf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=F:S.next=F,W.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,W=F=N=null,S=d;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(Ve&K)===K:(l&K)===K){K!==0&&K===Va&&(zf=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,_e=S;K=i;var nt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(nt,ee,K);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,K=typeof he=="function"?he.call(nt,ee,K):he,K==null)break e;ee=T({},ee,K);break e;case 2:Ir=!0}}K=S.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(F=W=Y,N=ee):W=W.next=Y,_|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Pr|=_,t.lanes=_,t.memoizedState=ee}}function Bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],i)}var ja=D(null),sc=D(0);function Hg(t,i){t=Ji,ae(sc,t),ae(ja,i),Ji=t|i.baseLanes}function Bf(){ae(sc,Ji),ae(ja,ja.current)}function qf(){Ji=sc.current,$(ja),$(sc)}var vn=D(null),Ln=null;function Or(t){var i=t.alternate;ae(_t,_t.current&1),ae(vn,t),Ln===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Ln=t)}function Hf(t){ae(_t,_t.current),ae(vn,t),Ln===null&&(Ln=t)}function Fg(t){t.tag===22?(ae(_t,_t.current),ae(vn,t),Ln===null&&(Ln=t)):Mr()}function Mr(){ae(_t,_t.current),ae(vn,vn.current)}function En(t){$(vn),Ln===t&&(Ln=null),$(_t)}var _t=D(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Ie=null,et=null,Ct=null,oc=!1,Ua=!1,Fs=!1,lc=0,ll=0,za=null,IS=0;function mt(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return Fi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=t===null||t.memoizedState===null?Ry:ad,Fs=!1,d=a(l,h),Fs=!1,Ua&&(d=Kg(i,a,l,h)),Gg(t),d}function Gg(t){M.H=hl;var i=et!==null&&et.next!==null;if(Fi=0,Ct=et=Ie=null,oc=!1,ll=0,za=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Ju(t)&&(It=!0))}function Kg(t,i,a,l){Ie=t;var h=0;do{if(Ua&&(za=null),ll=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Cy,d=i(a,l)}while(Ua);return d}function NS(){var t=M.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Kf(){var t=lc!==0;return lc=0,t}function Qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Fi=0,Ct=et=Ie=null,Ua=!1,ll=lc=0,za=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,za===null&&(za=[]),t=Pg(za,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?Ry:ad),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===le)return Gt(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=vt();return $f(i,et,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,F=i,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ve&ee)===ee:(Fi&ee)===ee){var K=F.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Va&&(W=!0);else if((Fi&K)===K){F=F.next,K===Va&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ie.lanes|=K,Pr|=K;ee=F.action,Fs&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else K={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=K,_=d):N=N.next=K,Ie.lanes|=ee,Pr|=ee;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=S,!yn(d,t.memoizedState)&&(It=!0,W&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Qg(t,i,a){var l=Ie,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((et||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,ed($g.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},Xg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Fi&127)!==0||Yg(l,i,a)}return a}function Yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=uc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Wg(i)&&Jg(t)}function $g(t,i,a){return a(function(){Wg(i)&&Jg(t)})}function Wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Jg(t){var i=ks(t,2);i!==null&&fn(i,t,2)}function Jf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Fs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,$f(t,et,typeof l=="function"?l:Gi)}function DS(t,i,a,l,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};M.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ey(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=M.T,_={};M.T=_;try{var S=a(h,l),N=M.S;N!==null&&N(_,S),ty(t,i,S)}catch(F){Zf(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),M.T=d}}else try{d=a(h,l),ty(t,i,d)}catch(F){Zf(t,i,F)}}function ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,i,l)},function(l){return Zf(t,i,l)}):ny(t,i,a)}function ny(t,i,a){i.status="fulfilled",i.value=a,iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ey(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function sy(t,i){if(Be){var a=it.formState;if(a!==null){e:{var l=Ie;if(Be){if(rt){t:{for(var h=rt,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=jn(h.nextSibling),l=h.data==="F!";break e}}Rr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=wy.bind(null,Ie,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ie,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=DS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ay(t){var i=vt();return oy(i,et,t)}function oy(t,i,a){if(i=$f(t,i,ry)[0],t=hc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Pa?tc:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ba(9,{destroy:void 0},OS.bind(null,h,a),null)),[l,d,t]}function OS(t,i){t.action=i}function ly(t){var i=vt(),a=et;if(a!==null)return oy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=uc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function uy(){return vt().memoizedState}function fc(t,i,a,l){var h=sn();Ie.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Ff(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function cy(t,i){fc(8390656,8,t,i)}function ed(t,i){dc(2048,8,t,i)}function MS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=uc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function hy(t){var i=vt().memoizedState;return MS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function fy(t,i){return dc(4,2,t,i)}function dy(t,i){return dc(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function py(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,my.bind(null,i,t),a)}function td(){}function gy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Fs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=__(),Ie.lanes|=t,Pr|=t,a)}function _y(t,i,a,l){return yn(a,i)?a:ja.current!==null?(t=nd(t,a,l),yn(t,i)||(It=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=a):(t=__(),Ie.lanes|=t,Pr|=t,i)}function vy(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var _=M.T,S={};M.T=S,sd(t,!1,i,a);try{var N=h(),F=M.S;if(F!==null&&F(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=CS(N,l);cl(t,i,W,Sn(t))}else cl(t,i,l,Sn(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},Sn())}finally{te.p=d,_!==null&&S.types!==null&&(_.types=S.types),M.T=_}}function VS(){}function id(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ey(t).queue;vy(t,h,i,X,a===null?VS:function(){return by(t),a(l)})}function Ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:X},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function by(t){var i=Ey(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},Sn())}function rd(){return Gt(Rl)}function Ty(){return vt().memoizedState}function Sy(){return vt().memoizedState}function kS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Nr(a);var l=Dr(i,t,a);l!==null&&(fn(l,i,a),sl(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function PS(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?xy(i,a):(a=Tf(t,i,a,l),a!==null&&(fn(a,t,l),Ay(a,i,l)))}function wy(t,i,a){var l=Sn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,yn(S,_))return Yu(t,i,h,0),it===null&&Qu(),!1}catch{}if(a=Tf(t,i,h,l),a!==null)return fn(a,t,l),Ay(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:Ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&fn(i,t,2)}function mc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function xy(t,i){Ua=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var hl={readContext:Gt,use:cc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};hl.useEffectEvent=mt;var Ry={readContext:Gt,use:cc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,my.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Fs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Fs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=wy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=sn();return nd(a,t,i)},useTransition:function(){var t=Jf(!1);return t=vy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Ve&127)!==0||Yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cy($g.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=it.identifierPrefix;if(Be){var a=xi,l=wi;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=IS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:sy,useActionState:sy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return sn().memoizedState=kS.bind(null,Ie)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:Gt,use:cc,useCallback:gy,useContext:Gt,useEffect:ed,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:hc,useRef:uy,useState:function(){return hc(Gi)},useDebugValue:td,useDeferredValue:function(t,i){var a=vt();return _y(a,et.memoizedState,t,i)},useTransition:function(){var t=hc(Gi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Qg,useId:Ty,useHostTransitionStatus:rd,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=vt();return Zg(a,et,t,i)},useMemoCache:Xf,useCacheRefresh:Sy};ad.useEffectEvent=hy;var Cy={readContext:Gt,use:cc,useCallback:gy,useContext:Gt,useEffect:ed,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Wf,useRef:uy,useState:function(){return Wf(Gi)},useDebugValue:td,useDeferredValue:function(t,i){var a=vt();return et===null?nd(a,t,i):_y(a,et.memoizedState,t,i)},useTransition:function(){var t=Wf(Gi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Qg,useId:Ty,useHostTransitionStatus:rd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=vt();return et!==null?Zg(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Sy};Cy.useEffectEvent=hy;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(fn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(fn(i,t,a),sl(i,t,a))}};function Iy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Ny(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Dy(t){Ku(t)}function Oy(t){console.error(t)}function My(t){Ku(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function ky(t){return t=Nr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vy(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function LS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Rc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Rc(),!1}if(Be)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(t=Error(s(422),{cause:l}),el(Mn(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),el(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=ud(t.stateNode,l,h),Uf(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),vl===null?vl=[d]:vl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),Uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),Py(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var cd=Error(s(461)),It=!1;function Kt(t,i,a,l){i.child=t===null?zg(i,null,a,l):Hs(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Us(i),l=Gf(t,i,a,_,d,h),S=Kf(),t!==null&&!It?(Qf(t,i,h),Ki(t,i,h)):(Be&&S&&Af(i),i.flags|=1,Kt(t,i,l,h),i.child)}function jy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return hd(t,i,a,l,h)}function zy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return By(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Bf(),Fg(i);else return l=i.lanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),Hg(i,d),Mr(),i.memoizedState=null):(t!==null&&ec(i,null),Bf(),Mr());return Kt(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function By(t,i,a,l,h){var d=kf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(i,null),Bf(),Fg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return Hs(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function jS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,fl(null,t);if(Hf(i),(t=rt)?(t=ev(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ft=i,rt=null)):t=null,t===null)throw Rr(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Hf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=it,l!==null&&(_=Mo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(t,_),fn(l,t,_),cd;Rc(),i=qy(t,i,a)}else t=d.treeContext,rt=jn(_.nextSibling),Ft=i,Be=!0,Ar=null,Pn=!1,t!==null&&Cg(i,t),i=gc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return Us(i),a=Gf(t,i,a,l,void 0,h),l=Kf(),t!==null&&!It?(Qf(t,i,h),Ki(t,i,h)):(Be&&l&&Af(i),i.flags|=1,Kt(t,i,a,h),i.child)}function Hy(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=Kg(i,l,a,h),Gg(t),l=Kf(),t!==null&&!It?(Qf(t,i,d),Ki(t,i,d)):(Be&&l&&Af(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Fy(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Lf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(od(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ld.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Gs(a,S);d.props=N;var F=d.context,W=a.contextType;_=Ia,typeof W=="object"&&W!==null&&(_=Gt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&Ny(i,d,l,_),Ir=!1;var K=i.memoizedState;d.state=K,ol(i,l,d,h),al(),F=i.memoizedState,S||K!==F||Ir?(typeof ee=="function"&&(od(i,a,ee,l),F=i.memoizedState),(N=Ir||Iy(i,a,N,l,K,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,jf(t,i),_=i.memoizedProps,W=Gs(a,_),d.props=W,ee=i.pendingProps,K=d.context,F=a.contextType,N=Ia,typeof F=="object"&&F!==null&&(N=Gt(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||K!==N)&&Ny(i,d,l,N),Ir=!1,K=i.memoizedState,d.state=K,ol(i,l,d,h),al();var Y=i.memoizedState;_!==ee||K!==Y||Ir||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof S=="function"&&(od(i,a,S,l),Y=i.memoizedState),(W=Ir||Iy(i,a,W,l,K,Y,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hs(i,t.child,null,h),i.child=Hs(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Gy(t,i,a,l){return Ls(),i.flags|=256,Kt(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Vg()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Ky(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Or(i):Mr(),(t=rt)?(t=ev(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ft=i,rt=null)):t=null,t===null)throw Rr(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Mr(),h=i.mode,S=_c({mode:"hidden",children:S},h),l=Ps(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,fl(null,l)):(Or(i),pd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?(Mr(),i.child=t.child,i.flags|=128,i=null):(Mr(),S=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),S=Ps(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Hs(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,i=fl(null,l));else if(Or(i),$d(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(It||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=it,_!==null&&(l=Mo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ks(t,l),fn(_,t,l),cd;Xd(S)||Rc(),i=gd(t,i,a)}else Xd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=jn(S.nextSibling),Ft=i,Be=!0,Ar=null,Pn=!1,t!==null&&Cg(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?(Mr(),S=l.fallback,h=i.mode,N=t.child,F=N.sibling,l=zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?S=zi(F,S):(S=Ps(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,fl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=dd(a):(h=S.cachePool,h!==null?(N=Rt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Vg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=md(t,_,a),i.memoizedState=fd,fl(t.child,l)):(Or(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return Hs(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function yd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(_t,_),Kt(t,i,l,a),l=Be?Zo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,i);else if(t.tag===19)Qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function US(t,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Cr(i,Rt,t.memoizedState.cache),Ls();break;case 27:case 5:ys(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ky(t,i,a):(Or(i),t=Ki(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return i.lanes=0,zy(t,i,a,i.pendingProps);case 24:Cr(i,Rt,t.memoizedState.cache)}return Ki(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return It=!1,US(t,i,a);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&Rg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Bs(i.elementType),i.type=t,typeof t=="function")Sf(t)?(l=Gs(t,l),i.tag=1,i=Fy(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=jy(null,i,t,l,a);break e}}throw i=He(t)||t,Error(s(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Gs(l,i.pendingProps),Fy(t,i,l,h,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,jf(t,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cr(i,Rt,l),l!==d.cache&&Of(i,[Rt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),el(h),i=Gy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=jn(t.firstChild),Ft=i,Be=!0,Ar=null,Pn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),l===h){i=Ki(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=av(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Vc(we.current).createElement(a),l[wt]=i,l[Lt]=t,Qt(l,a,t),xt(l),i.stateNode=l):i.memoizedState=av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ys(i),t===null&&Be&&(l=i.stateNode=iv(i.type,i.pendingProps,we.current),Ft=i,Pn=!0,h=rt,Br(i.type)?(Wd=h,rt=jn(l.firstChild)):rt=h),Kt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=rt)&&(l=pw(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ft=i,rt=jn(l.firstChild),Pn=!1,h=!0):h=!1),h||Rr(i)),ys(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:_!==null&&Kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,NS,null,null,a),Rl._currentValue=h),yc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=gw(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ft=i,rt=null,t=!0):t=!1),t||Rr(i)),null;case 13:return Ky(t,i,a);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hs(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return jy(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Yy(t,i,a);case 31:return jS(t,i,a);case 22:return zy(t,i,a,i.pendingProps);case 24:return Us(i),l=Gt(Rt),t===null?(h=kf(),h===null&&(h=it,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Lf(i),Cr(i,Rt,h)):((t.lanes&a)!==0&&(jf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,Rt,l)):(l=d.cache,Cr(i,Rt,l),l!==h.cache&&Of(i,[Rt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(T_())t.flags|=8192;else throw qs=nc,Pf}else t.flags&=-16777217}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(i))if(T_())t.flags|=8192;else throw qs=nc,Pf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,Ga|=i)}function dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function zS(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Rt),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(st(i),$y(i,d)):(st(i),vd(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),st(i),$y(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),st(i),vd(i,h,t,l,a)),null;case 27:if(ca(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=se.current,Oa(i)?Ig(i):(t=iv(h,l,a),i.stateNode=t,Qi(i))}return st(i),null;case 5:if(ca(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=se.current,Oa(i))Ig(i);else{var _=Vc(we.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[wt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return st(i),vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Rr(i,!0)}else t=Vc(t).createTextNode(l),t[wt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),st(i),null);case 4:return Fe(),t===null&&Bd(i.stateNode.containerInfo),st(i),null;case 10:return Hi(i.type),st(i),null;case 19:if($(_t),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)wg(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Be&&Bi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>wc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ac(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*nn()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=_t.current,ae(_t,h?a&1|2:a&1),Be&&Bi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return En(i),qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Rt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function BS(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(Rt),Fe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(_t),null;case 4:return Fe(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),qf(),t!==null&&$(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(Rt),null;case 25:return null;default:return null}}function Wy(t,i){switch(Rf(i),i.tag){case 3:Hi(Rt),Fe();break;case 26:case 27:case 5:ca(i);break;case 4:Fe();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:$(_t);break;case 10:Hi(i.type);break;case 22:case 23:En(i),qf(),t!==null&&$(zs);break;case 24:Hi(Rt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Je(i,i.return,S)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,F=S;try{F()}catch(W){Je(h,N,W)}}}l=l.next}while(l!==d)}}catch(W){Je(i,i.return,W)}}function Jy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){Je(t,t.return,l)}}}function Zy(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function e_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;uw(l,t.type,a,i),l[Lt]=i}catch(h){Je(t,t.return,h)}}function t_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function n_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[wt]=t,i[Lt]=a}catch(d){Je(t,t.return,d)}}var Yi=!1,Nt=!1,Sd=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function qS(t,i){if(t=t.containerInfo,Fd=Bc,t=pg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,F=0,W=0,ee=t,K=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===t)break t;if(K===a&&++F===h&&(S=_),K===d&&++W===l&&(N=_),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Bc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Gs(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function r_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&ml(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&Jy(a),l&512&&pl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&n_(a);case 26:case 5:$i(t,a),i===null&&l&4&&e_(a),l&512&&pl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&o_(t,a);break;case 13:$i(t,a),l&4&&l_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WS.bind(null,a),yw(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Nt,h=Yi;var d=Nt;Yi=l,(Nt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Yi=h,Nt=d}break;case 30:break;default:$i(t,a)}}function s_(t){var i=t.alternate;i!==null&&(t.alternate=null,s_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Xi(t,i,a){for(a=a.child;a!==null;)a_(t,i,a),a=a.sibling}function a_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,i);var l=ct,h=ln;Br(a.type)&&(ct=a.stateNode,ln=!1),Xi(t,i,a),wl(a.stateNode),ct=l,ln=h;break;case 5:Nt||Ai(a,i);case 6:if(l=ct,h=ln,ct=null,Xi(t,i,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(ln?(t=ct,J_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):J_(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Xi(t,i,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),Nt||Vr(4,a,i),Xi(t,i,a);break;case 1:Nt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Xi(t,i,a),Nt=l;break;default:Xi(t,i,a)}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Je(i,i.return,a)}}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Je(i,i.return,a)}}function HS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new i_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new i_),i;default:throw Error(s(435,t.tag))}}function bc(t,i){var a=HS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=JS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){ct=S.stateNode,ln=!1;break e}break;case 5:ct=S.stateNode,ln=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ct===null)throw Error(s(160));a_(d,_,h),ct=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,t),i=i.sibling}var ei=null;function u_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Vr(3,t,t.return),ml(3,t),Vr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[wt]=t,xt(d),l=d;break e;case"link":var _=uv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=uv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,xt(d),l=d}t.stateNode=l}else cv(h,t.type,t.stateNode);else t.stateNode=lv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(h,t.type,t.stateNode):lv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){Je(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Je(t,t.return,he)}}break;case 3:if(Lc=null,h=ei,ei=kc(i.containerInfo),un(i,t),ei=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(he){Je(t,t.return,he)}Sd&&(Sd=!1,c_(t));break;case 4:l=ei,ei=kc(t.stateNode.containerInfo),un(i,t),cn(t),ei=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=Yi,W=Nt;if(Yi=F||h,Nt=W||N,un(i,t),Nt=W,Yi=F,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Yi||Nt||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Je(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Je(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?Z_(Y,!0):Z_(N.stateNode,!1)}catch(he){Je(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(t_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);Ec(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=bd(t);Ec(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=bd(t);Td(t,F,N);break;default:throw Error(s(161))}}catch(W){Je(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function c_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;c_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Ks(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Ks(i);break;case 27:wl(i.stateNode);case 26:case 5:Ai(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),ml(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Bg(N[h],S)}catch(F){Je(l,l.return,F)}}a&&_&64&&Jy(d),pl(d,d.return);break;case 27:n_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&e_(d),pl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&o_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&l_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),pl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(t,i,a,l),i=i.sibling}function h_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&ml(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):gl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wd(_,i);break;case 24:ti(t,i,a,l),h&2048&&xd(i.alternate,i);break;default:ti(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,S,N,h),ml(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?qa(d,_,S,N,h):gl(d,_):(W._visibility|=2,qa(d,_,S,N,h)),h&&F&2048&&wd(_.alternate,_);break;case 24:qa(d,_,S,N,h),h&&F&2048&&xd(_.alternate,_);break;default:qa(d,_,S,N,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&wd(l.alternate,l);break;case 24:gl(a,l),h&2048&&xd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function Ha(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)f_(t,i,a),t=t.sibling}function f_(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&yl&&t.memoizedState!==null&&Iw(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ei;ei=kc(t.stateNode.containerInfo),Ha(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,Ha(t,i,a),yl=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function d_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,p_(l,t)}d_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):_l(t);break;default:_l(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,p_(l,t)}d_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function p_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(s_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var FS={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Oe=null,Ve=0,We=0,bn=null,kr=!1,Fa=!1,Ad=!1,Ji=0,pt=0,Pr=0,Qs=0,Rd=0,Tn=0,Ga=0,vl=null,hn=null,Cd=!1,Sc=0,g_=0,wc=1/0,xc=null,Lr=null,Vt=0,jr=null,Ka=null,Zi=0,Id=0,Nd=null,y_=null,El=0,Dd=null;function Sn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:M.T!==null?Ld():Au()}function __(){if(Tn===0)if((Ve&536870912)===0||Be){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Tn=t}else Tn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Tn}function fn(t,i,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Ur(t,Ve,Tn,!1)),bs(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Qs|=a),pt===4&&Ur(t,Ve,Tn,!1)),Ri(t))}function v_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?YS(t,i):Md(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Ur(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!KS(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=vl;var N=S.current.memoizedState.isDehydrated;if(N&&(Qa(S,_).flags|=256),_=Md(S,_,!1),_!==2){if(Ad&&!N){S.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Ur(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,Tn,!kr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-nn(),10<h)){if(Ur(l,i,Tn,!kr),ui(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=$_(E_.bind(null,l,a,hn,xc,Cd,i,Tn,Qs,Ga,kr,d,"Throttled",-0,0),h);break e}E_(l,a,hn,xc,Cd,i,Tn,Qs,Ga,kr,d,null,-0,0)}}break}while(!0);Ri(t)}function E_(t,i,a,l,h,d,_,S,N,F,W,ee,K,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},f_(i,d,ee);var he=(d&62914560)===d?Sc-nn():(d&4194048)===d?g_-nn():0;if(he=Nw(ee,he),he!==null){Zi=d,t.cancelPendingCommit=he(C_.bind(null,t,i,d,a,l,h,_,S,N,W,ee,null,K,Y)),Ur(t,d,_,!F);return}}C_(t,i,d,a,l,h,_,S,N)}function KS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,a,l){i&=~Rd,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ts(t,a,i)}function Ac(){return(Ye&6)===0?(bl(0),!1):!0}function Od(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,qi=js=null,Yf(t),La=null,il=0,t=Oe;for(;t!==null;)Wy(t.alternate,t),t=t.return;Oe=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Od(),it=t,Oe=a=zi(t.current,null),Ve=i,We=0,bn=null,kr=!1,Fa=Gn(t,i),Ad=!1,Ga=Tn=Rd=Qs=Pr=pt=0,hn=vl=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,Qu(),a}function b_(t,i){Ie=null,M.H=hl,i===Pa||i===tc?(i=Lg(),We=3):i===Pf?(i=Lg(),We=4):We=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Oe===null&&(pt=1,pc(t,Mn(i,t.current)))}function T_(){var t=vn.current;return t===null?!0:(Ve&4194048)===Ve?Ln===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Ln:!1}function S_(){var t=M.H;return M.H=hl,t===null?hl:t}function w_(){var t=M.A;return M.A=FS,t}function Rc(){pt=4,kr||(Ve&4194048)!==Ve&&vn.current!==null||(Fa=!0),(Pr&134217727)===0&&(Qs&134217727)===0||it===null||Ur(it,Ve,Tn,!1)}function Md(t,i,a){var l=Ye;Ye|=2;var h=S_(),d=w_();(it!==t||Ve!==i)&&(xc=null,Qa(t,i)),i=!1;var _=pt;e:do try{if(We!==0&&Oe!==null){var S=Oe,N=bn;switch(We){case 8:Od(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var F=We;if(We=0,bn=null,Ya(t,S,N,F),a&&Fa){_=0;break e}break;default:F=We,We=0,bn=null,Ya(t,S,N,F)}}QS(),_=pt;break}catch(W){b_(t,W)}while(!0);return i&&t.shellSuspendCounter++,qi=js=null,Ye=l,M.H=h,M.A=d,Oe===null&&(it=null,Ve=0,Qu()),_}function QS(){for(;Oe!==null;)x_(Oe)}function YS(t,i){var a=Ye;Ye|=2;var l=S_(),h=w_();it!==t||Ve!==i?(xc=null,wc=nn()+500,Qa(t,i)):Fa=Gn(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=bn;t:switch(We){case 1:We=0,bn=null,Ya(t,i,d,1);break;case 2:case 9:if(kg(d)){We=0,bn=null,A_(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),Ri(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:kg(d)?(We=0,bn=null,A_(i)):(We=0,bn=null,Ya(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?hv(_):S.stateNode.complete){We=0,bn=null;var N=S.sibling;if(N!==null)Oe=N;else{var F=S.return;F!==null?(Oe=F,Cc(F)):Oe=null}break t}}We=0,bn=null,Ya(t,i,d,5);break;case 6:We=0,bn=null,Ya(t,i,d,6);break;case 8:Od(),pt=6;break e;default:throw Error(s(462))}}XS();break}catch(W){b_(t,W)}while(!0);return qi=js=null,M.H=l,M.A=h,Ye=a,Oe!==null?0:(it=null,Ve=0,Qu(),pt)}function XS(){for(;Oe!==null&&!uf();)x_(Oe)}function x_(t){var i=Xy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Hy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Yf(i);default:Wy(a,i),i=Oe=wg(i,Ji),i=Xy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function Ya(t,i,a,l){qi=js=null,Yf(i),La=null,il=0;var h=i.return;try{if(LS(t,h,i,a,Ve)){pt=1,pc(t,Mn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;pt=1,pc(t,Mn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(Ve&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,kr);return}t=i.return;var a=zS(i.alternate,i,Ji);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);pt===0&&(pt=5)}function R_(t,i){do{var a=BS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);pt=6,Oe=null}function C_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Ic();while(Vt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,ff(t,a,d,_,S,N),t===it&&(Oe=it=null,Ve=0),Ka=i,jr=t,Zi=a,Id=d,Nd=h,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZS(pr,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=te.p,te.p=2,_=Ye,Ye|=4;try{qS(t,i,a)}finally{Ye=_,te.p=h,M.T=l}}Vt=1,I_(),N_(),D_()}}function I_(){if(Vt===1){Vt=0;var t=jr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{u_(i,t);var d=Gd,_=pg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&mg(S.ownerDocument.documentElement,S)){if(N!==null&&gf(S)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(W,S.value.length);else{var ee=S.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),he=S.textContent.length,_e=Math.min(N.start,he),nt=N.end===void 0?_e:Math.min(N.end,he);!Y.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var j=dg(S,_e),k=dg(S,nt);if(j&&k&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Y.removeAllRanges(),_e>nt?(Y.addRange(H),Y.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Y.addRange(H))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Bc=!!Fd,Gd=Fd=null}finally{Ye=h,te.p=l,M.T=a}}t.current=i,Vt=2}}function N_(){if(Vt===2){Vt=0;var t=jr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{r_(t,i.alternate,i)}finally{Ye=h,te.p=l,M.T=a}}Vt=3}}function D_(){if(Vt===4||Vt===3){Vt=0,vu();var t=jr,i=Ka,a=Zi,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ka=jr=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Pi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=M.T,h=te.p,te.p=2,M.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{M.T=i,te.p=h}}(Zi&3)!==0&&Ic(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?El++:(El=0,Dd=t):El=0,bl(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ic(){return I_(),N_(),D_(),M_()}function M_(){if(Vt!==5)return!1;var t=jr,i=Id;Id=0;var a=Pi(Zi),l=M.T,h=te.p;try{te.p=32>a?32:a,M.T=null,a=Nd,Nd=null;var d=jr,_=Zi;if(Vt=0,Ka=jr=null,Zi=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,m_(d.current),h_(d,d.current,_,a),Ye=S,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{te.p=h,M.T=l,O_(t,i)}}function V_(t,i,a){i=Mn(a,i),i=ud(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(bs(t,2),Ri(t))}function Je(t,i,a){if(t.tag===3)V_(t,t,a);else for(;i!==null;){if(i.tag===3){V_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Mn(a,t),a=ky(2),l=Dr(i,a,2),l!==null&&(Py(a,l,i,t),bs(l,2),Ri(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new GS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=$S.bind(null,t,i,a),i.then(t,t))}function $S(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Ve&a)===a&&(pt===4||pt===3&&(Ve&62914560)===Ve&&300>nn()-Sc?(Ye&2)===0&&Qa(t,0):Rd|=a,Ga===Ve&&(Ga=0)),Ri(t)}function k_(t,i){i===0&&(i=xu()),t=ks(t,i),t!==null&&(bs(t,i),Ri(t))}function WS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function JS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(t,a)}function ZS(t,i){return Mt(t,i)}var Nc=null,Xa=null,kd=!1,Dc=!1,Pd=!1,zr=0;function Ri(t){t!==Xa&&t.next===null&&(Xa===null?Nc=Xa=t:Xa=Xa.next=t),Dc=!0,kd||(kd=!0,tw())}function bl(t,i){if(!Pd&&Dc){Pd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=Ve,d=ui(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Pd=!1}}function ew(){P_()}function P_(){Dc=kd=!1;var t=0;zr!==0&&hw()&&(t=zr);for(var i=nn(),a=null,l=Nc;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Vt!==0&&Vt!==5||bl(t),zr!==0&&(zr=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=hf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=it,a=Ve,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&mr(l),Pi(a)){case 2:case 8:a=Do;break;case 32:a=pr;break;case 268435456:a=Eu;break;default:a=pr}return l=j_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&mr(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Ve;return l=ui(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,i),L_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function U_(t,i){if(Ic())return null;v_(t,i,!0)}function tw(){dw(function(){(Ye&6)!==0?Mt(No,ew):P_()})}function Ld(){if(zr===0){var t=Va;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),zr=t}return zr}function z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function B_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function nw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=z_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?z_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ei("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var N=_?B_(h,_):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?B_(h,_):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var jd=0;jd<Ef.length;jd++){var Ud=Ef[jd],iw=Ud.toLowerCase(),rw=Ud[0].toUpperCase()+Ud.slice(1);Zn(iw,"on"+rw)}Zn(_g,"onAnimationEnd"),Zn(vg,"onAnimationIteration"),Zn(Eg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(ES,"onTransitionRun"),Zn(bS,"onTransitionStart"),Zn(TS,"onTransitionCancel"),Zn(bg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,F=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,F=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=N}}}}function Me(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Oc]){t[Oc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(sw.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,zd("selectionchange",!1,i))}}function H_(t,i,a,l){switch(_v(i)){case 2:var h=Mw;break;case 8:h=Vw;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=di(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}br(function(){var F=d,W=In(a),ee=[];e:{var K=Tg.get(t);if(K!==void 0){var Y=Ei,he=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":Y=Hu;break;case"focusin":he="focus",Y=Ds;break;case"focusout":he="blur",Y=Ds;break;case"beforeblur":case"afterblur":Y=Ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case _g:case vg:case Eg:Y=Pu;break;case bg:Y=w;break;case"scroll":case"scrollend":Y=Ko;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ui;break;case"toggle":case"beforetoggle":Y=Ce}var _e=(i&4)!==0,nt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?K!==null?K+"Capture":null:K;_e=[];for(var k=F,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=Xn(k,j),J!=null&&_e.push(Sl(k,J,H))),nt)break;k=k.return}0<_e.length&&(K=new Y(K,he,null,a,W),ee.push({event:K,listeners:_e}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Ho&&(he=a.relatedTarget||a.fromElement)&&(di(he)||he[hi]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=F,he=he?di(he):null,he!==null&&(nt=u(he),_e=he.tag,he!==nt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Y=null,he=F),Y!==he)){if(_e=Qo,J="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ui,J="onPointerLeave",j="onPointerEnter",k="pointer"),nt=Y==null?K:pn(Y),H=he==null?K:pn(he),K=new _e(J,k+"leave",Y,a,W),K.target=nt,K.relatedTarget=H,J=null,di(W)===F&&(_e=new _e(j,k+"enter",he,a,W),_e.target=H,_e.relatedTarget=nt,J=_e),nt=J,Y&&he)t:{for(_e=aw,j=Y,k=he,H=0,J=j;J;J=_e(J))H++;J=0;for(var pe=k;pe;pe=_e(pe))J++;for(;0<H-J;)j=_e(j),H--;for(;0<J-H;)k=_e(k),J--;for(;H--;){if(j===k||k!==null&&j===k.alternate){_e=j;break t}j=_e(j),k=_e(k)}_e=null}else _e=null;Y!==null&&F_(ee,K,Y,_e,!1),he!==null&&nt!==null&&F_(ee,nt,he,_e,!0)}}e:{if(K=F?pn(F):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var Ge=og;else if(sg(K))if(lg)Ge=yS;else{Ge=pS;var de=mS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&_a(F.elementType)&&(Ge=og):Ge=gS;if(Ge&&(Ge=Ge(t,F))){ag(ee,Ge,a,W);break e}de&&de(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&zo(K,"number",K.value)}switch(de=F?pn(F):window,t){case"focusin":(sg(de)||de.contentEditable==="true")&&(Aa=de,yf=F,Jo=null);break;case"focusout":Jo=yf=Aa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,gg(ee,a,W);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":gg(ee,a,W)}var Ne;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else xa?Os(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Si&&a.locale!=="ko"&&(xa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&xa&&(Ne=Go()):(vi=W,Fo="value"in vi?vi.value:vi.textContent,xa=!0)),de=Mc(F,ke),0<de.length&&(ke=new Ti(ke,t,null,a,W),ee.push({event:ke,listeners:de}),Ne?ke.data=Ne:(Ne=wa(a),Ne!==null&&(ke.data=Ne)))),(Ne=Dn?cS(t,a):hS(t,a))&&(ke=Mc(F,"onBeforeInput"),0<ke.length&&(de=new Ti("onBeforeInput","beforeinput",null,a,W),ee.push({event:de,listeners:ke}),de.data=Ne)),nw(ee,t,F,a,W)}q_(ee,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function aw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,F=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||F===null||(N=F,h?(F=Xn(a,d),F!=null&&_.unshift(Sl(a,F,N))):h||(F=Xn(a,d),F!=null&&_.push(Sl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function K_(t,i){return i=G_(i),G_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,ga(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=h=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:tt(t,i,l,W,a,null)}}Nu(t,d,S,N,F,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:tt(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?yr(t,!!l,i,!1):a!=null&&yr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(t,i,_,S,a,null)}_r(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,N,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,F,l,a,null)}return;default:if(_a(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Hd(t,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function uw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,F=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||tt(t,i,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&tt(t,i,K,Y,l,ee)}}ya(t,_,S,N,F,W,d,h);return;case"select":Y=_=S=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&tt(t,i,h,d,l,N)}i=S,a=_,l=Y,K!=null?yr(t,!!a,K,!1):!!l!=!!a&&(i!=null?yr(t,!!a,i,!0):yr(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Du(t,K,Y);return;case"option":for(var he in a)K=a[he],a.hasOwnProperty(he)&&K!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:tt(t,i,he,null,l,K));for(N in l)K=l[N],Y=a[N],l.hasOwnProperty(N)&&K!==Y&&(K!=null||Y!=null)&&(N==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":tt(t,i,N,K,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&tt(t,i,_e,null,l,K);for(F in l)if(K=l[F],Y=a[F],l.hasOwnProperty(F)&&K!==Y&&(K!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:tt(t,i,F,K,l,Y)}return;default:if(_a(i)){for(var nt in a)K=a[nt],a.hasOwnProperty(nt)&&K!==void 0&&!l.hasOwnProperty(nt)&&Hd(t,i,nt,void 0,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||Hd(t,i,W,K,l,Y);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&tt(t,i,j,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||tt(t,i,ee,K,l,Y)}function Q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Q_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>S)break;var W=N.transferSize,ee=N.initiatorType;W&&Q_(ee)&&(N=N.responseEnd,_+=W*(N<S?1:(S-F)/(N-F)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function hw(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(mw)}:$_;function mw(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function J_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[fi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Za(i)}function Z_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function gw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Wd=null;function tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function iv(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Un=new Map,rv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=te.d;te.d={f:_w,r:vw,D:Ew,C:bw,L:Tw,m:Sw,X:xw,S:ww,M:Aw};function _w(){var t=er.f(),i=Ac();return t||i}function vw(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?by(i):er.r(t)}var $a=typeof document>"u"?null:document;function sv(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),xt(i),l.head.appendChild(i)))}}function Ew(t){er.D(t),sv("dns-prefetch",t,null)}function bw(t,i){er.C(t,i),sv("preconnect",t,i)}function Tw(t,i,a){er.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Ja(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Qt(i,"link",t),xt(i),l.head.appendChild(i)))}}function Sw(t,i){er.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Qt(l,"link",t),xt(l),a.head.appendChild(l)}}}function ww(t,i,a){er.S(t,i,a);var l=$a;if(l&&t){var h=mi(l).hoistableStyles,d=Wa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(xl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Jd(t,a);var N=_=l.createElement("link");xt(N),Qt(N,"link",t),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function xw(t,i){er.X(t,i);var a=$a;if(a&&t){var l=mi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),xt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Aw(t,i){er.M(t,i);var a=$a;if(a&&t){var l=mi(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Zd(t,i),d=a.createElement("script"),xt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function av(t,i,a,l){var h=(h=we.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=mi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||Rw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+an(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function ov(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Rw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),xt(i),t.head.appendChild(i))}function Ja(t){return'[src="'+an(t)+'"]'}function Al(t){return"script[async]"+t}function lv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Qt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=ov(a),(h=Un.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,xt(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function uv(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Cw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Iw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(xl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=ov(l),(h=Un.get(h))&&Jd(l,h),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function Nw(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*cw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(Dw,t),Uc=null,jc.call(t))}function Dw(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:le,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Ow(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function fv(t,i,a,l,h,d,_,S,N,F,W,ee){return t=new Ow(t,i,a,_,N,F,W,ee,S),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Lf(d),t}function dv(t){return t?(t=Ia,t):Ia}function mv(t,i,a,l,h,d){h=dv(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(fn(a,t,i),sl(a,t,i))}function pv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){pv(t,i),(t=t.alternate)&&pv(t,i)}function gv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&fn(i,t,67108864),tm(t,67108864)}}function yv(t){if(t.tag===13||t.tag===31){var i=Sn();i=Ss(i);var a=ks(t,i);a!==null&&fn(a,t,i),tm(t,i)}}var Bc=!0;function Mw(t,i,a,l){var h=M.T;M.T=null;var d=te.p;try{te.p=2,nm(t,i,a,l)}finally{te.p=d,M.T=h}}function Vw(t,i,a,l){var h=M.T;M.T=null;var d=te.p;try{te.p=8,nm(t,i,a,l)}finally{te.p=d,M.T=h}}function nm(t,i,a,l){if(Bc){var h=im(l);if(h===null)qd(t,i,l,qc,a),vv(t,l);else if(Pw(h,t,i,a,l))l.stopPropagation();else if(vv(t,l),i&4&&-1<kw.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-gt(_);S.entanglements[1]|=N,_&=~N}Ri(d),(Ye&6)===0&&(wc=nn()+500,bl(0))}}break;case 31:case 13:S=ks(d,2),S!==null&&fn(S,d,2),Ac(),tm(d,2)}if(d=im(l),d===null&&qd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,i,l,null,a)}}function im(t){return t=In(t),rm(t)}var qc=null;function rm(t){if(qc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function _v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case No:return 2;case Do:return 8;case pr:case cf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var sm=!1,qr=null,Hr=null,Fr=null,Cl=new Map,Il=new Map,Gr=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&gv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Pw(t,i,a,l,h){switch(i){case"focusin":return qr=Nl(qr,t,i,a,l,h),!0;case"dragenter":return Hr=Nl(Hr,t,i,a,l,h),!0;case"mouseover":return Fr=Nl(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function Ev(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){yv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=Cn(a),i!==null&&gv(i),t.blockedOn=a,!1;i.shift()}return!0}function bv(t,i,a){Hc(t)&&a.delete(i)}function Lw(){sm=!1,qr!==null&&Hc(qr)&&(qr=null),Hr!==null&&Hc(Hr)&&(Hr=null),Fr!==null&&Hc(Fr)&&(Fr=null),Cl.forEach(bv),Il.forEach(bv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lw)))}var Gc=null;function Tv(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(N){return Fc(N,t)}qr!==null&&Fc(qr,t),Hr!==null&&Fc(Hr,t),Fr!==null&&Fc(Fr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Tv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(rm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Tv(a)}}}function Sv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}Kc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();mv(a,l,t,i,null,null)},Kc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mv(t.current,2,null,t,null,null),Ac(),i[hi]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&Ev(t)}};var wv=e.version;if(wv!=="19.2.3")throw Error(s(527,wv,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var jw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Fn=Qc.inject(jw),qt=Qc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Dy,d=Oy,_=My;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=fv(t,1,!1,null,null,a,l,null,h,d,_,Sv),t[hi]=i.current,Bd(t),new am(i)},Ol.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Dy,_=Oy,S=My,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=fv(t,1,!0,i,a??null,l,h,N,d,_,S,Sv),i.context=dv(null),a=i.current,l=Sn(),l=Ss(l),h=Nr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,bs(i,a),Ri(i),t[hi]=i.current,Bd(t),new Kc(i)},Ol.version="19.2.3",Ol}var Vv;function Yw(){if(Vv)return um.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Qw(),um.exports}var Xw=Yw();const $w=yE(Xw);var kv="popstate";function Ww(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Nm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return Zw(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Nm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||Jw()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Zw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function T(){m="POP";let U=b(),Z=U==null?null:U-g;g=U,p&&p({action:m,location:G.location,delta:Z})}function x(U,Z){m="PUSH";let ie=Nm(G.location,U,Z);g=b()+1;let le=Pv(ie,g),ge=G.createHref(ie);try{f.pushState(le,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&p&&p({action:m,location:G.location,delta:1})}function O(U,Z){m="REPLACE";let ie=Nm(G.location,U,Z);g=b();let le=Pv(ie,g),ge=G.createHref(ie);f.replaceState(le,"",ge),u&&p&&p({action:m,location:G.location,delta:0})}function L(U){return ex(U)}let G={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,T),p=U,()=>{o.removeEventListener(kv,T),p=null}},createHref(U){return e(o,U)},createURL:L,encodeLocation(U){let Z=L(U);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:x,replace:O,go(U){return f.go(U)}};return G}function ex(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _E(r,e,n="/"){return tx(r,e,n,!1)}function tx(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=vE(r);nx(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=dx(u);m=hx(f[p],g,s)}return m}function vE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ft(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=rr([s,b.relativePath]),x=n.concat(b);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),vE(f.children,e,x,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:ux(T,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of EE(f.path))u(f,m,!0,p)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function nx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:cx(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ix=/^:[\w-]+$/,rx=3,sx=2,ax=1,ox=10,lx=-2,Lv=r=>r==="*";function ux(r,e){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=lx),e&&(s+=sx),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(ix.test(u)?rx:u===""?ax:ox),s)}function cx(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hx(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),x=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:yx(rr([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fx(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},x)=>{if(b==="*"){let L=m[x]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[x];return T&&!O?g[b]=void 0:g[b]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function fx(r,e=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=r=>bE.test(r);function px(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;if(n)if(mx(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=jv(n.substring(1),"/"):u=jv(n,e)}else u=e;return{pathname:u,search:_x(s),hash:vx(o)}}function jv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gx(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TE(r){let e=gx(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function SE(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=px(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),yx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_x=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ex=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Tx(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xE(r,e){let n=r;if(typeof n!="string"||!bE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(wE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=or(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var Sx=["GET",...AE];new Set(Sx);var vo=q.createContext(null);vo.displayName="DataRouter";var Lh=q.createContext(null);Lh.displayName="DataRouterState";var wx=q.createContext(!1),RE=q.createContext({isTransitioning:!1});RE.displayName="ViewTransition";var xx=q.createContext(new Map);xx.displayName="Fetchers";var Ax=q.createContext(null);Ax.displayName="Await";var Hn=q.createContext(null);Hn.displayName="Navigation";var ru=q.createContext(null);ru.displayName="Location";var fr=q.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var sp=q.createContext(null);sp.displayName="RouteError";var CE="REACT_ROUTER_ERROR",Rx="REDIRECT",Cx="ROUTE_ERROR_RESPONSE";function Ix(r){if(r.startsWith(`${CE}:${Rx}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Nx(r){if(r.startsWith(`${CE}:${Cx}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ex(e.status,e.statusText,e.data)}catch{}}function Dx(r,{relative:e}={}){ft(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Hn),{hash:o,pathname:u,search:f}=au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function su(){return q.useContext(ru)!=null}function hs(){return ft(su(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ru).location}var IE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NE(r){q.useContext(Hn).static||q.useLayoutEffect(r)}function Ox(){let{isDataRoute:r}=q.useContext(fr);return r?Gx():Mx()}function Mx(){ft(su(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(vo),{basename:e,navigator:n}=q.useContext(Hn),{matches:s}=q.useContext(fr),{pathname:o}=hs(),u=JSON.stringify(TE(s)),f=q.useRef(!1);return NE(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(si(f.current,IE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=SE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:rr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}q.createContext(null);function au(r,{relative:e}={}){let{matches:n}=q.useContext(fr),{pathname:s}=hs(),o=JSON.stringify(TE(n));return q.useMemo(()=>SE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Vx(r,e){return DE(r,e)}function DE(r,e,n,s,o){ft(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Hn),{matches:f}=q.useContext(fr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";ME(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let x=hs(),O;if(e){let ie=typeof e=="string"?_o(e):e;ft(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=x;let L=O.pathname||"/",G=L;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");G="/"+L.replace(/^\//,"").split("/").slice(ie.length).join("/")}let U=_E(r,{pathname:G});si(T||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Ux(U&&U.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:rr([b,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:rr([b,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&Z?q.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Z):Z}function kx(){let r=Fx(),e=bx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Px=q.createElement(kx,null),OE=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Nx(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(fr.Provider,{value:this.props.routeContext},q.createElement(sp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Lx,{error:r},e):e}};OE.contextType=wx;var mm=new WeakMap;function Lx({children:r,error:e}){let{basename:n}=q.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Ix(e.digest);if(s){let o=mm.get(e);if(o)throw o;let u=xE(s.location,n);if(wE&&!mm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw mm.set(e,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function jx({routeContext:r,match:e,children:n}){let s=q.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(fr.Provider,{value:r},n)}function Ux(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ft(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:x,errors:O}=n,L=T.route.loader&&!x.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Tx(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,x)=>{let O,L=!1,G=null,U=null;n&&(O=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||Px,m&&(p<0&&x===0?(ME("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,U=null):p===x&&(L=!0,U=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,x+1)),ie=()=>{let le;return O?le=G:L?le=U:T.route.Component?le=q.createElement(T.route.Component,null):T.route.element?le=T.route.element:le=b,q.createElement(jx,{match:T,routeContext:{outlet:b,matches:Z,isDataRoute:n!=null},children:le})};return n&&(T.route.ErrorBoundary||T.route.errorElement||x===0)?q.createElement(OE,{location:n.location,revalidation:n.revalidation,component:G,error:O,children:ie(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):ie()},null)}function ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(r){let e=q.useContext(vo);return ft(e,ap(r)),e}function Bx(r){let e=q.useContext(Lh);return ft(e,ap(r)),e}function qx(r){let e=q.useContext(fr);return ft(e,ap(r)),e}function op(r){let e=qx(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Hx(){return op("useRouteId")}function Fx(){let r=q.useContext(sp),e=Bx("useRouteError"),n=op("useRouteError");return r!==void 0?r:e.errors?.[n]}function Gx(){let{router:r}=zx("useNavigate"),e=op("useNavigate"),n=q.useRef(!1);return NE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{si(n.current,IE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function ME(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,si(!1,n))}q.memo(Kx);function Kx({routes:r,future:e,state:n,onError:s}){return DE(r,void 0,n,s,e)}function Xs(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qx({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=_o(n));let{pathname:g="/",search:b="",hash:T="",state:x=null,key:O="default"}=n,L=q.useMemo(()=>{let G=or(g,m);return G==null?null:{location:{pathname:G,search:b,hash:T,state:x,key:O},navigationType:s}},[m,g,b,T,x,O,s]);return si(L!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(Hn.Provider,{value:p},q.createElement(ru.Provider,{children:e,value:L}))}function Yx({children:r,location:e}){return Vx(Dm(r),e)}function Dm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Dm(s.props.children,u));return}ft(s.type===Xs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function jh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Xx(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function $x(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function Wx(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function Jx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Zx(r,e){return r.button===0&&(!e||e==="_self")&&!Jx(r)}var Yc=null;function eA(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var tA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(r){return r!=null&&!tA.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function nA(r,e){let n,s,o,u,f;if($x(r)){let m=r.getAttribute("action");s=m?or(m,e):null,n=r.getAttribute("method")||th,o=pm(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(Xx(r)||Wx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=pm(r.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!eA()){let{name:g,type:b,value:T}=r;if(b==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,T)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function iA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&or(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function rA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await rA(u,n);return f.links?f.links():[]}return[]}));return cA(s.flat(1).filter(sA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function oA(r,e,{includeHydrateFallback:n}={}){return lA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lA(r){return[...new Set(r)]}function uA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function cA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(uA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function VE(){let r=q.useContext(vo);return lp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hA(){let r=q.useContext(Lh);return lp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var up=q.createContext(void 0);up.displayName="FrameworkContext";function kE(){let r=q.useContext(up);return lp(r,"You must render this element inside a <HydratedRouter> element"),r}function fA(r,e){let n=q.useContext(up),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,x=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=Z=>{Z.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[r]),q.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Ml(m,O),onBlur:Ml(p,L),onMouseEnter:Ml(g,O),onMouseLeave:Ml(b,L),onTouchStart:Ml(T,O)}]:[!1,x,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function dA({page:r,...e}){let{router:n}=VE(),s=q.useMemo(()=>_E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(pA,{page:r,matches:s,...e}):null}function mA(r){let{manifest:e,routeModules:n}=kE(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return aA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function pA({page:r,matches:e,...n}){let s=hs(),{future:o,manifest:u,routeModules:f}=kE(),{basename:m}=VE(),{loaderData:p,matches:g}=hA(),b=q.useMemo(()=>zv(r,e,g,u,s,"data"),[r,e,g,u,s]),T=q.useMemo(()=>zv(r,e,g,u,s,"assets"),[r,e,g,u,s]),x=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,U=!1;if(e.forEach(ie=>{let le=u.routes[ie.route.id];!le||!le.hasLoader||(!b.some(ge=>ge.route.id===ie.route.id)&&ie.route.id in p&&f[ie.route.id]?.shouldRevalidate||le.hasClientLoader?U=!0:G.add(ie.route.id))}),G.size===0)return[];let Z=iA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&G.size>0&&Z.searchParams.set("_routes",e.filter(ie=>G.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,b,e,r,f]),O=q.useMemo(()=>oA(T,u),[T,u]),L=mA(T);return q.createElement(q.Fragment,null,x.map(G=>q.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),O.map(G=>q.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),L.map(({key:G,link:U})=>q.createElement("link",{key:G,nonce:n.nonce,...U})))}function gA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.12.0")}catch{}function _A({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=Ww({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),p=q.useCallback(g=>{n===!1?m(g):q.startTransition(()=>m(g))},[n]);return q.useLayoutEffect(()=>u.listen(p),[u,p]),q.createElement(Qx,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x,...O},L){let{basename:G,unstable_useTransitions:U}=q.useContext(Hn),Z=typeof g=="string"&&PE.test(g),ie=xE(g,G);g=ie.to;let le=Dx(g,{relative:o}),[ge,Te,Se]=fA(s,O),I=TA(g,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:x,unstable_useTransitions:U});function A(P){e&&e(P),P.defaultPrevented||I(P)}let R=q.createElement("a",{...O,...Se,href:ie.absoluteURL||le,onClick:ie.isExternal||u?e:A,ref:gA(L,Te),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return ge&&!Z?q.createElement(q.Fragment,null,R,q.createElement(dA,{page:le})):R});Ws.displayName="Link";var vA=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},b){let T=au(f,{relative:g.relative}),x=hs(),O=q.useContext(Lh),{navigator:L,basename:G}=q.useContext(Hn),U=O!=null&&RA(T)&&m===!0,Z=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,ie=x.pathname,le=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),le=le?le.toLowerCase():null,Z=Z.toLowerCase()),le&&G&&(le=or(le,G)||le);const ge=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Te=ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(ge)==="/",Se=le!=null&&(le===Z||!o&&le.startsWith(Z)&&le.charAt(Z.length)==="/"),I={isActive:Te,isPending:Se,isTransitioning:U},A=Te?e:void 0,R;typeof s=="function"?R=s(I):R=[s,Te?"active":null,Se?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(I):u;return q.createElement(Ws,{...g,"aria-current":A,className:R,ref:b,style:P,to:f,viewTransition:m},typeof p=="function"?p(I):p)});vA.displayName="NavLink";var EA=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x,...O},L)=>{let{unstable_useTransitions:G}=q.useContext(Hn),U=xA(),Z=AA(m,{relative:g}),ie=f.toLowerCase()==="get"?"get":"post",le=typeof m=="string"&&PE.test(m),ge=Te=>{if(p&&p(Te),Te.defaultPrevented)return;Te.preventDefault();let Se=Te.nativeEvent.submitter,I=Se?.getAttribute("formmethod")||f,A=()=>U(Se||Te.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x});G&&n!==!1?q.startTransition(()=>A()):A()};return q.createElement("form",{ref:L,method:ie,action:Z,onSubmit:s?p:ge,...O,"data-discover":!le&&r==="render"?"true":void 0})});EA.displayName="Form";function bA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LE(r){let e=q.useContext(vo);return ft(e,bA(r)),e}function TA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Ox(),b=hs(),T=au(r,{relative:u});return q.useCallback(x=>{if(Zx(x,e)){x.preventDefault();let O=n!==void 0?n:Ql(b)===Ql(T),L=()=>g(r,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?q.startTransition(()=>L()):L()}},[b,g,T,n,s,e,r,o,u,f,m,p])}var SA=0,wA=()=>`__${String(++SA)}__`;function xA(){let{router:r}=LE("useSubmit"),{basename:e}=q.useContext(Hn),n=Hx(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=nA(u,e);if(f.navigate===!1){let x=f.fetcherKey||wA();await s(x,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function AA(r,{relative:e}={}){let{basename:n}=q.useContext(Hn),s=q.useContext(fr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(r||".",{relative:e})},f=hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Ql(u)}function RA(r,{relative:e}={}){let n=q.useContext(RE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=LE("useViewTransitionState"),o=au(r,{relative:e});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}const CA=()=>{};var Bv={};const jE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},IA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(x=64)),s.push(n[b],n[T],n[x],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new NA;const x=u<<2|m>>4;if(s.push(x),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(r){const e=jE(r);return UE.encodeByteArray(e,!0)},ph=function(r){return DA(r).replace(/\./g,"")},zE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MA=()=>OA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return CA()||MA()||VA()||kA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BE=r=>Uh()?.emulatorHosts?.[r],PA=r=>{const e=BE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>Uh()?.config,HE=r=>Uh()?.[`_${r}`];class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(r){return(await fetch(r,{credentials:"include"})).ok}function jA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const zl={};function UA(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function zA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function GE(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||zl[r]===e||zl[r]||qv)return;zl[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=UA().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,O){x.setAttribute("width","24"),x.setAttribute("id",O),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{qv=!0,f()},x}function b(x,O){x.setAttribute("id",O),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=zA(s),O=n("text"),L=document.getElementById(O)||document.createElement("span"),G=n("learnmore"),U=document.getElementById(G)||document.createElement("a"),Z=n("preprendIcon"),ie=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const le=x.element;m(le),b(U,G);const ge=g();p(ie,Z),le.append(ie,L,U,ge),document.body.appendChild(le)}u?(L.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function qA(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function XA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const $A="FirebaseError";class dr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$A,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?WA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new dr(o,m,s)}}function WA(r,e){return r.replace(JA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JA=/\{\$([^}]+)}/g;function ZA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Hv(u)&&Hv(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}function lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function e1(r,e){const n=new t1(r,e);return n.subscribe.bind(n)}class t1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");n1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function gm(){}function Bt(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class i1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s1(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(r){return r===$s?void 0:r}function s1(r){return r.instantiationMode==="EAGER"}class a1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const o1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},l1=Le.INFO,u1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},c1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=u1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=l1,this._logHandler=c1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const h1=(r,e)=>e.some(n=>r instanceof n);let Fv,Gv;function f1(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d1(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Om=new WeakMap,QE=new WeakMap,ym=new WeakMap,hp=new WeakMap;function m1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,r)}).catch(()=>{}),hp.set(e,r),e}function p1(r){if(Om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,e)}let Mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||QE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g1(r){Mm=r(Mm)}function y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_m(this),e,...n);return QE.set(s,e.sort?e.sort():[e]),Zr(s)}:d1().includes(r)?function(...e){return r.apply(_m(this),e),Zr(KE.get(this))}:function(...e){return Zr(r.apply(_m(this),e))}}function _1(r){return typeof r=="function"?y1(r):(r instanceof IDBTransaction&&p1(r),h1(r,f1())?new Proxy(r,Mm):r)}function Zr(r){if(r instanceof IDBRequest)return m1(r);if(ym.has(r))return ym.get(r);const e=_1(r);return e!==r&&(ym.set(r,e),hp.set(e,r)),e}const _m=r=>hp.get(r);function v1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const E1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],vm=new Map;function Kv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=b1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||E1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}g1(r=>({...r,get:(e,n,s)=>Kv(e,n)||r.get(e,n,s),has:(e,n)=>!!Kv(e,n)||r.has(e,n)}));class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S1(r){return r.getComponent()?.type==="VERSION"}const Vm="@firebase/app",Qv="0.14.6";const lr=new cp("@firebase/app"),w1="@firebase/app-compat",x1="@firebase/analytics-compat",A1="@firebase/analytics",R1="@firebase/app-check-compat",C1="@firebase/app-check",I1="@firebase/auth",N1="@firebase/auth-compat",D1="@firebase/database",O1="@firebase/data-connect",M1="@firebase/database-compat",V1="@firebase/functions",k1="@firebase/functions-compat",P1="@firebase/installations",L1="@firebase/installations-compat",j1="@firebase/messaging",U1="@firebase/messaging-compat",z1="@firebase/performance",B1="@firebase/performance-compat",q1="@firebase/remote-config",H1="@firebase/remote-config-compat",F1="@firebase/storage",G1="@firebase/storage-compat",K1="@firebase/firestore",Q1="@firebase/ai",Y1="@firebase/firestore-compat",X1="firebase",$1="12.6.0";const km="[DEFAULT]",W1={[Vm]:"fire-core",[w1]:"fire-core-compat",[A1]:"fire-analytics",[x1]:"fire-analytics-compat",[C1]:"fire-app-check",[R1]:"fire-app-check-compat",[I1]:"fire-auth",[N1]:"fire-auth-compat",[D1]:"fire-rtdb",[O1]:"fire-data-connect",[M1]:"fire-rtdb-compat",[V1]:"fire-fn",[k1]:"fire-fn-compat",[P1]:"fire-iid",[L1]:"fire-iid-compat",[j1]:"fire-fcm",[U1]:"fire-fcm-compat",[z1]:"fire-perf",[B1]:"fire-perf-compat",[q1]:"fire-rc",[H1]:"fire-rc-compat",[F1]:"fire-gcs",[G1]:"fire-gcs-compat",[K1]:"fire-fst",[Y1]:"fire-fst-compat",[Q1]:"fire-vertex","fire-js":"fire-js",[X1]:"fire-js-all"};const gh=new Map,J1=new Map,Pm=new Map;function Yv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(Pm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,r);for(const n of gh.values())Yv(n,r);for(const n of J1.values())Yv(n,r);return!0}function fp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const Z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new ou("app","Firebase",Z1);class eR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const bo=$1;function YE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw es.create("no-options");const u=gh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new a1(o);for(const p of Pm.values())f.addComponent(p);const m=new eR(n,s,f);return gh.set(o,m),m}function XE(r=km){const e=gh.get(r);if(!e&&r===km&&qE())return YE();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){let s=W1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(f.join(" "));return}co(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tR="firebase-heartbeat-database",nR=1,Yl="firebase-heartbeat-store";let Em=null;function $E(){return Em||(Em=v1(tR,nR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Em}async function iR(r){try{const n=(await $E()).transaction(Yl),s=await n.objectStore(Yl).get(WE(r));return await n.done,s}catch(e){if(e instanceof dr)lr.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function Xv(r,e){try{const s=(await $E()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,WE(r)),await s.done}catch(n){if(n instanceof dr)lr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n?.message});lr.warn(s.message)}}}function WE(r){return`${r.name}!${r.options.appId}`}const rR=1024,sR=30;class aR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sR){const o=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:n,unsentEntries:s}=oR(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return lr.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function oR(r,e=rR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?XA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function uR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function cR(r){co(new ia("platform-logger",e=>new T1(e),"PRIVATE")),co(new ia("heartbeat",e=>new aR(e),"PRIVATE")),ts(Vm,Qv,r),ts(Vm,Qv,"esm2020"),ts("fire-js","")}cR("");function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hR=JE,ZE=new ou("auth","Firebase",JE());const yh=new cp("@firebase/auth");function fR(r,...e){yh.logLevel<=Le.WARN&&yh.warn(`Auth (${bo}): ${r}`,...e)}function ih(r,...e){yh.logLevel<=Le.ERROR&&yh.error(`Auth (${bo}): ${r}`,...e)}function qn(r,...e){throw mp(r,...e)}function ii(r,...e){return mp(r,...e)}function dp(r,e,n){const s={...hR(),[e]:n};return new ou("auth","Firebase",s).create(e,{appName:r.name})}function sr(r){return dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(r,"argument-error"),dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ZE.create(r,...e)}function Ee(r,e,...n){if(!r)throw mp(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function ur(r,e){r||nr(e)}function Lm(){return typeof self<"u"&&self.location?.href||""}function mR(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mR()||FA()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=BA()||GA()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vR=new uu(3e4,6e4);function fs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ds(r,e,n,s,o={}){return tb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return HA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),eb.fetch()(await nb(r,r.config.apiHost,n,m),g)})}async function tb(r,e,n){r._canInitEmulator=!1;const s={...yR,...e};try{const o=new bR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dp(r,b,g);qn(r,b)}}catch(o){if(o instanceof dr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,n,s,o={}){const u=await ds(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function nb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?pp(r.config,o):`${r.config.apiScheme}://${o}`;return _R.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ER(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),vR.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(r,e,s);return o.customData._tokenResponse=n,o}function Zv(r){return r!==void 0&&r.enterprise!==void 0}class TR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ER(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SR(r,e){return ds(r,"GET","/v2/recaptchaConfig",fs(r,e))}async function wR(r,e){return ds(r,"POST","/v1/accounts:delete",e)}async function _h(r,e){return ds(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=gp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(bm(o.auth_time)),issuedAtTime:Bl(bm(o.iat)),expirationTime:Bl(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(r){const e=gp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dr&&AR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function AR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(r){const e=r.auth,n=await r.getIdToken(),s=await Xl(r,_h(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ib(o.providerUserInfo):[],f=IR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function CR(r){const e=Bt(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ib(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function NR(r,e){const n=await tb(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await nb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),eb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DR(r,e){return ds(r,"POST","/v2/accounts:revokeToken",fs(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await NR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Qr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return CR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Xl(this,wR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:O,providerData:L,stsTokenManager:G}=n;Ee(T&&G,e,"internal-error");const U=ao.fromJSON(this.name,G);Ee(typeof T=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(p,e.name),Qr(g,e.name),Qr(b,e.name);const Z=new ni({uid:T,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:b});return L&&Array.isArray(L)&&(Z.providerData=L.map(ie=>({...ie}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ib(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const t0=new Map;function ir(r){ur(r instanceof Function,"Expected a class definition");let e=t0.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,t0.set(r,e),e)}class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rb.type="NONE";const n0=rb;function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(ir(n0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(n0);const f=rh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let T;if(typeof b=="string"){const x=await _h(e,{idToken:b}).catch(()=>{});if(!x)break;T=await ni._fromGetAccountInfoResponse(e,x,b)}else T=ni._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,s))}}function i0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(hb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function sb(r=tn()){return/firefox\//i.test(r)}function ab(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(r=tn()){return/crios\//i.test(r)}function lb(r=tn()){return/iemobile/i.test(r)}function ub(r=tn()){return/android/i.test(r)}function cb(r=tn()){return/blackberry/i.test(r)}function hb(r=tn()){return/webos/i.test(r)}function yp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OR(r=tn()){return yp(r)&&!!window.navigator?.standalone}function MR(){return KA()&&document.documentMode===10}function fb(r=tn()){return yp(r)||ub(r)||hb(r)||cb(r)||/windows phone/i.test(r)||lb(r)}function db(r,e=[]){let n;switch(r){case"Browser":n=i0(tn());break;case"Worker":n=`${i0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class VR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function kR(r,e={}){return ds(r,"GET","/v2/passwordPolicy",fs(r,e))}const PR=6;class LR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class jR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new VR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(sr(this));const n=e?Bt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),n=new LR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ms(r){return Bt(r)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=e1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(r){zh=r}function mb(r){return zh.loadJS(r)}function zR(){return zh.recaptchaEnterpriseScript}function BR(){return zh.gapiScript}function qR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HR{constructor(){this.enterprise=new FR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GR="recaptcha-enterprise",pb="NO_RECAPTCHA";class KR{constructor(e){this.type=GR,this.auth=ms(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{SR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new TR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(pb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zR();p.length!==0&&(p+=m),mb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function s0(r,e,n,s=!1,o=!1){const u=new KR(r);let f;if(o)f=pb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Um(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await s0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await s0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function QR(r,e){const n=fp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function YR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function XR(r,e,n){const s=ms(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=gb(e),{host:f,port:m}=$R(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(na(g,s.config.emulator)&&na(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(FE(`${u}//${f}${p}`),GE("Auth",!0)):WR()}function gb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $R(r){const e=gb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:a0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:a0(f)}}}function a0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function JR(r,e){return ds(r,"POST","/v1/accounts:signUp",e)}async function ZR(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",fs(r,e))}async function e2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}async function t2(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}class $l extends _p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $l(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",ZR);case"emailLink":return e2(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,s,"signUpPassword",JR);case"emailLink":return t2(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",fs(r,e))}const n2="http://localhost";class ra extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:n2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}function i2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(r){const e=Vl(kl(r)).link,n=e?Vl(kl(e)).deep_link_id:null,s=Vl(kl(r)).deep_link_id;return(s?Vl(kl(s)).link:null)||s||n||e||r}class vp{constructor(e){const n=Vl(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=i2(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=r2(e);try{return new vp(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return Ee(s,"argument-error"),$l._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends Ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xr extends hu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";class tr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return tr.credential(n,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class $r extends hu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";class Wr extends hu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";async function s2(r,e){return cu(r,"POST","/v1/accounts:signUp",fs(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=o0(s);return new sa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=o0(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Eh extends dr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function yb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function a2(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function o2(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(sr(s));const o="reauthenticate";try{const u=await Xl(r,yb(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=gp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}async function _b(r,e,n=!1){if(wn(r.app))return Promise.reject(sr(r));const s="signIn",o=await yb(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function l2(r,e){return _b(ms(r),e)}async function vb(r){const e=ms(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u2(r,e,n){if(wn(r.app))return Promise.reject(sr(r));const s=ms(r),f=await Um(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vb(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function c2(r,e,n){return wn(r.app)?Promise.reject(sr(r)):l2(Bt(r),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vb(r),s})}function h2(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function f2(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function d2(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function m2(r){return Bt(r).signOut()}const bh="__sak";class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const p2=1e3,g2=10;class bb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);MR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,g2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const y2=bb;class Tb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Sb=Tb;function _2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await _2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class v2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=bp("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function E2(r){Ii().location.href=r}function wb(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){return navigator?.serviceWorker?.controller||null}function S2(){return wb()?self:null}const xb="firebaseLocalStorageDb",w2=1,Th="firebaseLocalStorage",Ab="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function x2(){const r=indexedDB.deleteDatabase(xb);return new fu(r).toPromise()}function zm(){const r=indexedDB.open(xb,w2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:Ab})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await x2(),e(await zm()))})})}async function l0(r,e,n){const s=qh(r,!0).put({[Ab]:e,value:n});return new fu(s).toPromise()}async function A2(r,e){const n=qh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function u0(r,e){const n=qh(r,!0).delete(e);return new fu(n).toPromise()}const R2=800,C2=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>C2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await l0(e,bh,"1"),await u0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>l0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const I2=Rb;new uu(3e4,6e4);function Cb(r,e){return e?ir(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Tp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N2(r){return _b(r.auth,new Tp(r),r.bypassAuthState)}function D2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),o2(n,new Tp(r),r.bypassAuthState)}async function O2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),a2(n,new Tp(r),r.bypassAuthState)}class Ib{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:qn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M2=new uu(2e3,1e4);async function V2(r,e,n){if(wn(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const s=ms(r);dR(r,e,Ep);const o=Cb(s,n);return new Js(s,"signInViaPopup",e,o).executeNotNull()}class Js extends Ib{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}Js.currentPopupAction=null;const k2="pendingRedirect",sh=new Map;class P2 extends Ib{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(r,e){const n=z2(e),s=U2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function j2(r,e){sh.set(r._key(),e)}function U2(r){return ir(r._redirectPersistence)}function z2(r){return rh(k2,r.config.apiKey,r.name)}async function B2(r,e,n=!1){if(wn(r.app))return Promise.reject(sr(r));const s=ms(r),o=Cb(s,e),f=await new P2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const q2=600*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Nb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Nb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function F2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(r);default:return!1}}async function G2(r,e={}){return ds(r,"GET","/v1/projects",e)}const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function Y2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G2(r);for(const n of e)try{if(X2(n))return}catch{}qn(r,"unauthorized-domain")}function X2(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Q2.test(n))return!1;if(K2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const $2=new uu(3e4,6e4);function h0(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function W2(r){return new Promise((e,n)=>{function s(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(ii(r,"network-request-failed"))},timeout:$2.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=qR("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(ii(r,"network-request-failed"))},mb(`${BR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function J2(r){return ah=ah||W2(r),ah}const Z2=new uu(5e3,15e3),eC="__/auth/iframe",tC="emulator/auth/iframe",nC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pp(e,tC):`https://${r.config.authDomain}/${eC}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=iC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function sC(r){const e=await J2(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:rC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},Z2.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const aC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oC=500,lC=600,uC="_blank",cC="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hC(r,e,n,s=oC,o=lC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...aC,width:s.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=ob(g)?uC:n),sb(g)&&(e=e||cC,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[O,L])=>`${x}${O}=${L},`,"");if(OR(g)&&m!=="_self")return fC(e||"",m),new f0(null);const T=window.open(e||"",m,b);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new f0(T)}function fC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const dC="__/auth/handler",mC="emulator/auth/handler",pC=encodeURIComponent("fac");async function d0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof Ep){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",ZA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof hu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${pC}=${encodeURIComponent(p)}`:"";return`${gC(r)}?${lu(m).slice(1)}${g}`}function gC({config:r}){return r.emulator?pp(r,mC):`https://${r.authDomain}/${dC}`}const Tm="webStorageSupport";class yC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sb,this._completeRedirectFn=B2,this._overrideRedirectResult=j2}async _openPopup(e,n,s,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await d0(e,n,s,Lm(),o);return hC(e,u,bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await d0(e,n,s,Lm(),o);return E2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await sC(e),s=new H2(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fb()||ab()||yp()}}const _C=yC;var m0="@firebase/auth",p0="1.12.0";class vC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(r){co(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:db(r)},g=new jR(s,o,u,p);return YR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new ia("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(s=>new vC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(m0,p0,EC(r)),ts(m0,p0,"esm2020")}const TC=300,SC=HE("authIdTokenMaxAge")||TC;let g0=null;const wC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>SC)return;const o=n?.token;g0!==o&&(g0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xC(r=XE()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=QR(r,{popupRedirectResolver:_C,persistence:[I2,y2,Sb]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=wC(u.toString());f2(n,f,()=>f(n.currentUser)),h2(n,m=>f(m))}}const o=BE("auth");return o&&XR(n,`http://${o}`),n}function AC(){return document.getElementsByTagName("head")?.[0]??document}UR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,Db;(function(){var r;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(P,V,z){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return A.prototype[V].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)P[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)P[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],V=I.g[2];let z=I.g[3],C;C=A+(z^R&(V^z))+P[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[1]+3905402710&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[5]+1200080426&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[9]+2336552879&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(z^R&(V^z))+P[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=z+(V^A&(R^V))+P[13]+4254626195&4294967295,z=A+(C<<12&4294967295|C>>>20),C=V+(R^z&(A^R))+P[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(A^V&(z^A))+P[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^z&(R^V))+P[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[6]+3225465664&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[10]+38016083&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[14]+3275163606&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^z&(R^V))+P[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(A^R))+P[2]+4243563512&4294967295,z=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(z^A))+P[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^A&(V^z))+P[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^z)+P[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[8]+2272392833&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[4]+1272893353&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[0]+3936430074&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^z)+P[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=z+(A^R^V)+P[12]+3873151461&4294967295,z=A+(C<<11&4294967295|C>>>21),C=V+(z^A^R)+P[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^A)+P[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~z))+P[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[7]+1126891415&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[3]+2399980690&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[15]+4264355552&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~z))+P[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=z+(R^(A|~V))+P[11]+3174756917&4294967295,z=A+(C<<10&4294967295|C>>>22),C=V+(A^(z|~R))+P[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,P=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=R;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<A;)if(P[V++]=I.charCodeAt(z++),V==this.blockSize){o(this,P),V=0;break}}else for(;z<A;)if(P[V++]=I[z++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)I[A++]=this.g[R]>>>P&255;return I};function u(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function f(I,A){this.h=A;const R=[];let P=!0;for(let V=I.length-1;V>=0;V--){const z=I[V]|0;P&&z==A||(R[V]=z,P=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return U(g(-I));const A=[];let R=1;for(let P=0;I>=R;P++)A[P]=I/R|0,R*=4294967296;return new f(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return U(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let P=T;for(let z=0;z<I.length;z+=8){var V=Math.min(8,I.length-z);const C=parseInt(I.substring(z,z+V),A);V<8?(V=g(Math.pow(A,V)),P=P.j(V).add(g(C))):(P=P.j(R),P=P.add(g(C)))}return P}var T=p(0),x=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-U(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L(this))return"0";if(G(this))return"-"+U(this).toString(I);const A=g(Math.pow(I,6));var R=this;let P="";for(;;){const V=ge(R,A).g;R=Z(R,V.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,L(R))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function L(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=Z(this,I),G(I)?-1:L(I)?0:1};function U(I){const A=I.g.length,R=[];for(let P=0;P<A;P++)R[P]=~I.g[P];return new f(R,~I.h).add(x)}r.abs=function(){return G(this)?U(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let P=0;for(let V=0;V<=A;V++){let z=P+(this.i(V)&65535)+(I.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);P=C>>>16,z&=65535,C&=65535,R[V]=C<<16|z}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(I,A){return I.add(U(A))}r.j=function(I){if(L(this)||L(I))return T;if(G(this))return G(I)?U(this).j(U(I)):U(U(this).j(I));if(G(I))return U(this.j(U(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<I.g.length;V++){const z=this.i(P)>>>16,C=this.i(P)&65535,He=I.i(V)>>>16,lt=I.i(V)&65535;R[2*P+2*V]+=C*lt,ie(R,2*P+2*V),R[2*P+2*V+1]+=z*lt,ie(R,2*P+2*V+1),R[2*P+2*V+1]+=C*He,ie(R,2*P+2*V+1),R[2*P+2*V+2]+=z*He,ie(R,2*P+2*V+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new f(R,0)};function ie(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function le(I,A){this.g=I,this.h=A}function ge(I,A){if(L(A))throw Error("division by zero");if(L(I))return new le(T,T);if(G(I))return A=ge(U(I),A),new le(U(A.g),U(A.h));if(G(A))return A=ge(I,U(A)),new le(U(A.g),A.h);if(I.g.length>30){if(G(I)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,P=A;P.l(I)<=0;)R=Te(R),P=Te(P);var V=Se(R,1),z=Se(P,1);for(P=Se(P,2),R=Se(R,2);!L(P);){var C=z.add(P);C.l(I)<=0&&(V=V.add(R),z=C),P=Se(P,1),R=Se(R,1)}return A=Z(I,V.j(A)),new le(V,A)}for(V=T;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=g(R),C=z.j(A);G(C)||C.l(I)>0;)R-=P,z=g(R),C=z.j(A);L(z)&&(z=x),V=V.add(z),I=Z(I,C)}return new le(V,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&I.i(P);return new f(R,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|I.i(P);return new f(R,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^I.i(P);return new f(R,this.h^I.h)};function Te(I){const A=I.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=I.i(P)<<1|I.i(P-1)>>>31;return new f(R,I.h)}function Se(I,A){const R=A>>5;A%=32;const P=I.g.length-R,V=[];for(let z=0;z<P;z++)V[z]=A>0?I.i(z+R)>>>A|I.i(z+R+1)<<32-A:I.i(z+R);return new f(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Db=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,ns=f}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ob,Pl,Mb,oh,Bm,Vb,kb,Pb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function b(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,B,Q){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return y.prototype[B].apply(w,ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function L(c,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const Q=B.length||0;c.length=v+Q;for(let ue=0;ue<Q;ue++)c[v+ue]=B[ue]}else c.push(B)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const w=le.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new G(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Se=!1,I=new ie,A=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){U(v)}var y=le;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Se=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function He(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(He,V),He.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),M=0;function te(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++M,this.da=this.fa=!1}function X(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function ve(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function D(c){const y={};for(const v in c)y[v]=c[v];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let Q=0;Q<$.length;Q++)v=$[Q],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,y,v,w,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ue=we(c,y,w,B);return ue>-1?(y=c[ue],v||(y.fa=!1)):(y=new te(y,this.src,Q,!!w,B),y.fa=v,c.push(y)),y};function me(c,y){const v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(w,B,1),Q&&(X(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,y,v,w){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==w)return B}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ze={};function Fe(c,y,v,w,B){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Fe(c,y[Q],v,w,B);return null}return v=Io(v),c&&c[lt]?c.J(y,v,m(w)?!!w.capture:!1,B):ys(c,y,v,!1,w,B)}function ys(c,y,v,w,B,Q){if(!y)throw Error("Invalid event type");const ue=m(B)?!!B.capture:!!B;let Ce=_s(c);if(Ce||(c[De]=Ce=new se(c)),v=Ce.add(y,v,w,ue,Q),v.proxy)return v;if(w=ca(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)z||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ai(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ca(){function c(v){return y.call(c.src,c.listener,v)}const y=Ro;return c}function ha(c,y,v,w,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ha(c,y[Q],v,w,B);else w=m(w)?!!w.capture:!!w,v=Io(v),c&&c[lt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=we(y,v,w,B),v>-1&&(X(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=_s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=we(y,v,w,B)),(v=c>-1?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[lt])me(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ai(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=_s(y))?(me(v,c),v.h==0&&(v.src=null,y[De]=null)):X(c)}}}function ai(c){return c in ze?ze[c]:ze[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new He(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&fa(c),c=v.call(w,y)}return c}function _s(c){return c=c[De],c instanceof se?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function Tt(){P.call(this),this.i=new se(this),this.M=this,this.G=null}T(Tt,P),Tt.prototype[lt]=!0,Tt.prototype.removeEventListener=function(c,y,v,w){ha(this,c,y,v,w)};function Mt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var B=y;y=new V(w,c),ae(y,B)}B=!0;let Q,ue;if(v)for(ue=v.length-1;ue>=0;ue--)Q=y.g=v[ue],B=mr(Q,w,!0,y)&&B;if(Q=y.g=c,B=mr(Q,w,!0,y)&&B,B=mr(Q,w,!1,y)&&B,v)for(ue=0;ue<v.length;ue++)Q=y.g=v[ue],B=mr(Q,w,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)X(v[w]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},Tt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function mr(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Q=0;Q<y.length;++Q){const ue=y[Q];if(ue&&!ue.da&&ue.capture==v){const Ce=ue.listener,yt=ue.ha||ue.src;ue.fa&&me(c.i,ue),B=Ce.call(yt,w)!==!1&&B}}return B&&!w.defaultPrevented}function uf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function vu(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){P.call(this),this.h=c,this.g={}}T(vs,P);var No=[];function Do(c){oe(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Do(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,cf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function bu(){}function Tu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){V.call(this,"d")}T(qt,V);function Rn(){V.call(this,"c")}T(Rn,V);var gt={},Su=null;function da(){return Su=Su||new Tt}gt.Ia="serverreachability";function wu(c){V.call(this,gt.Ia,c)}T(wu,V);function oi(c){const y=da();Mt(y,new wu(y))}gt.STAT_EVENT="statevent";function Es(c,y){V.call(this,gt.STAT_EVENT,c),this.stat=y}T(Es,V);function St(c){const y=da();Mt(y,new Es(y,c))}gt.Ja="timingevent";function li(c,y){V.call(this,gt.Ja,c),this.size=y}T(li,V);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function hf(c,y,v,w,B,Q){c.info(function(){if(c.g)if(Q){var ue="",Ce=Q.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var yt=Ce[Qe].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const Dn=ut.split("_");ue=Dn.length>=2&&Dn[1]=="type"?ue+(ut+"="+yt+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+ue})}function xu(c,y,v,w,B,Q,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ue})}function ci(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ff(c,v)+(w?" "+w:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function ff(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return pr(Q)}catch{return y}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Ss(){}T(Ss,bu),Ss.prototype.g=function(){return new XMLHttpRequest},Mo=new Ss;function Pi(c){return encodeURIComponent(String(c))}function Au(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var wt={},Lt={};function hi(c,y,v){c.M=1,c.A=ws(At(y)),c.u=v,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),fi(c),c.B=At(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),_a(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Qn,c.g=Bu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(No[0]=B.toString()),B=No);for(let Q=0;Q<B.length;Q++){const ue=Fe(v,B[Q],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),hf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=$n(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Qe<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var v=df(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var Q=w;break t}}Q=null}if(c=Q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,St(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Cu(this,v),ut==Lt){Ce==4&&(this.m=4,St(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,St(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ut,null),mi(this,ut);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ue),ue.P=!0,St(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ce==4&&pn(this),this.o&&!this.K&&(Ce==4?Lu(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),pn(this),Cn(this)}}}catch{}};function df(c){if(!Ru(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const w=y.length,B=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(B&&Q==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Lt:(v=Number(y.substring(v,w)),isNaN(v)?wt:(w+=1,w+v>y.length?Lt:(y=y.slice(w,w+v),c.C=w+v,y)))}Kn.prototype.cancel=function(){this.K=!0,pn(this)};function fi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(oi(),St(17)),pn(this),this.m=2,Cn(this)):pa(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Lu(c.j,c)}function pn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Do(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),Sr(v);else break e;Ds(v),St(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(g(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Sa(v),!C(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Qe=B[y];const ut=Qe[0];if(!(ut<=v.K))if(v.K=ut,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Dn=Qe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Si=Qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Wn=Qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Jn=c.g;if(Jn){const Os=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var Q=w.h;Q.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Po(Q,Q.h),Q.h=null))}if(w.G){const wa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(w.wa=wa,$e(w.J,w.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ue=c;if(w.na=zu(w,w.L?w.ba:null,w.W),ue.L){Lo(w.h,ue);var Ce=ue,yt=w.O;yt&&(Ce.H=yt),Ce.D&&(di(Ce),fi(Ce)),w.g=ue}else ku(w);v.i.length>0&&bi(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Ti(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ti(v,7):Ko(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}oi(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Lo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let B,Q=null;w>=0?(B=c[v].substring(0,w),Q=c[v].substring(w+1)):B=c[v],y(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,Uo(this,Mu(c.i)),this.m=c.m):c&&(y=String(c).match(Iu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),gr(this,y[4]),this.h=yi(y[5]||"",!0),Uo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,ya,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,ya,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?zo:Nu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Du)),c.join("")},gn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)gr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let ue=0;ue<B.length;){const Ce=B[ue++];Ce=="."?w&&ue==B.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ue==B.length&&Q.push("")):(Q.push(Ce),w=!0)}w=Q.join("/")}else w=B}return v?y.h=w:v=c.i.toString()!=="",v?Uo(y,Mu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new gn(c)}function jt(c,y,v){c.j=v?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Uo(c,y,v){y instanceof _r?(c.i=y,va(c.i,c.l)):(v||(y=xs(y,yr)),c.i=new _r(y,c.l))}function $e(c,y,v){c.i.set(y,v)}function ws(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Nu=/[#\?:]/g,zo=/[#\?]/g,yr=/[#\?@]/g,Du=/#/g;function _r(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(c,y){on(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ou(c,y){on(c),y=vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bo(c,y){return on(c),y=vr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)};function qo(c,y){on(c);let v=[];if(typeof y=="string")Bo(c,y)&&(v=v.concat(c.g.get(vr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=vr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=qo(this,c),c.length>0?String(c[0]):y):y};function _a(c,y,v){Ou(c,y),v.length>0&&(c.i=null,c.g.set(vr(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const B=Pi(v);v=qo(this,v);for(let Q=0;Q<v.length;Q++){let ue=B;v[Q]!==""&&(ue+="="+Pi(v[Q])),c.push(ue)}}return this.i=c.join("&")};function Mu(c){const y=new _r;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function va(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,w){const B=w.toLowerCase();w!=B&&(Ou(this,w),_a(this,B,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(f.Image){const w=new Image;w.onload=b(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=b(In,v,"TestLoadImage: error",!1,y,w),w.onabort=b(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=b(In,v,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ho(c,y){const v=new Gn,w=new AbortController,B=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function Er(){this.g=new Eu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,bu),_i.prototype.g=function(){return new As(this.i,this.h)};function As(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(As,Tt),r=As.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?br(this):Xn(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return oe(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Rs(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Nn(v),typeof c=="string"?v!=null&&Pi(v):$e(c,y,v))}function Ze(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Tt);var vi=/^https?$/i,Fo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Cs(this,Q);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())v.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,y,void 0)>=0)||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Cs(this,Q)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Go(c),Li(c)}function Go(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},r.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=Q===0){let ue=String(c.D).match(Iu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),w=!vi.test(ue?ue.toLowerCase():"")}v=w}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var B=$n(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Go(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),cf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var v=Au(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}ve(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Tr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Er,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Tr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){St(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=zu(this,null,this.W),bi(this)};function Ko(c){if(ba(c),c.I==3){var y=c.V++,v=At(c.J);if($e(v,"SID",c.M),$e(v,"RID",y),$e(v,"TYPE","terminate"),Ns(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=ws(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Bu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}Uu(c)}function Sr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ba(c){Sr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||A(),Se||(Te(),Se=!0),I.add(y,c),c.D=0}}function Ta(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Kn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=D(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Vu(this,B,y),v=At(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Ns(this,v),Q&&(this.R?y="headers="+Pi(Nn(Q))+"&"+y:this.u&&Rs(v,this.u,Q)),Po(this.h,B),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",y),$e(v,"SID","null"),B.U=!0,hi(B,v,null)):hi(B,v,y),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||ko(this.h)||Qo(this))};function Qo(c,y){var v;y?v=y.l:v=c.V++;const w=At(c.J);$e(w,"SID",c.M),$e(w,"RID",v),$e(w,"AID",c.K),Ns(c,w),c.u&&c.o&&Rs(w,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Vu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),hi(v,w,y)}function Ns(c,y){c.H&&oe(c.H,function(v,w){$e(y,w,v)}),c.l&&oe({},function(v,w){$e(y,w,v)})}function Vu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ce=-1;for(;;){const yt=["count="+v];Ce==-1?v>0?(Ce=B[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Qe=!0;for(let ut=0;ut<v;ut++){var Q=B[ut].g;const Dn=B[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,B[ut].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ue=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Si,Wn]of ue){let Jn=Wn;m(Wn)&&(Jn=pr(Wn)),yt.push(Q+Si+"="+encodeURIComponent(Jn))}}catch(Si){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Si}}catch{w&&w(Dn)}}if(Qe){ue=yt.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),y.G=c,ue}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||A(),Se||(Te(),Se=!0),I.add(y,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Sr(this),Pu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Ns(c,y),c.u&&c.o&&Rs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(At(y)),v.u=null,v.R=!0,ma(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Sr(this),Ds(this),St(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){Sa(c),Yo(c),c.g=null;var w=2}else if(gi(c.h,y))v=y.G,Lo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;w=da(),Mt(w,new li(w,v)),bi(c)}else ku(c);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&Ta(c,y)||w==2&&Ds(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const B=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),ws(w),B?Yn(w.toString(),v):Ho(w.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),Uu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function zu(c,y,v){var w=v instanceof gn?At(v):new gn(v);if(w.g!="")y&&(w.g=y+"."+w.g),gr(w,w.u);else{var B=f.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Q=new gn(null);w&&jt(Q,w),y&&(Q.g=y),B&&gr(Q,B),v&&(Q.h=v),w=Q}return v=c.G,y=c.wa,v&&y&&$e(w,v,y),$e(w,"VER",c.ka),Ns(c,w),w}function Bu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new _i({ab:v})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new Tr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ui(this)}T(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);y.i.push(new xt(y.Ya++,c)),y.I==3&&bi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Hu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Hu,qt);function Fu(){Rn.call(this),this.status=1}T(Fu,Rn);function Ui(c){this.g=c}T(Ui,qu),Ui.prototype.ra=function(){Mt(this.g,"a")},Ui.prototype.qa=function(c){Mt(this.g,new Hu(c))},Ui.prototype.pa=function(c){Mt(this.g,new Fu)},Ui.prototype.oa=function(){Mt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Pb=function(){return new wr},kb=function(){return da()},Vb=gt,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,oh=Ts,Oo.COMPLETE="complete",Mb=Oo,Tu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Pl=Tu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Ob=Ze}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",v0="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let So="12.7.0";const aa=new cp("@firebase/firestore");function to(){return aa.logLevel}function ce(r,...e){if(aa.logLevel<=Le.DEBUG){const n=e.map(Sp);aa.debug(`Firestore (${So}): ${r}`,...n)}}function cr(r,...e){if(aa.logLevel<=Le.ERROR){const n=e.map(Sp);aa.error(`Firestore (${So}): ${r}`,...n)}}function ho(r,...e){if(aa.logLevel<=Le.WARN){const n=e.map(Sp);aa.warn(`Firestore (${So}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Lb(r,s,n)}function Lb(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Xe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Lb(e,o,s)}function Re(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class CC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new jb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class NC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Sm(o)===Sm(u)?je(o,u):Sm(o)?1:-1}return je(r.length,e.length)}const VC=55296,kC=57343;function Sm(r){const e=r.charCodeAt(0);return e>=VC&&e<=kC}function fo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const b0="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class at extends Ci{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ci{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new Xt([b0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function Ub(r,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LC(r,e,n,s){if(e===!0&&s===!0)throw new fe(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function T0(r){if(!ye.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S0(r){if(ye.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function An(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(r);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!zb(r))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}const w0=-62135596800,x0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*x0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w0)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ot(0,0))}static max(){return new xe(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function jC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new rs(o,ye.empty(),e)}function UC(r){return new rs(r.readTime,r.key,Wl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(xe.min(),ye.empty(),Wl)}static max(){return new rs(xe.max(),ye.empty(),Wl)}}function zC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}const BC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==BC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{f[g]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function HC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;const Ap=-1;function Fh(r){return r==null}function Sh(r){return r===0&&1/r==-1/0}function FC(r){return typeof r=="number"&&Number.isInteger(r)&&!Sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Bb="";function GC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=A0(e)),e=KC(r.get(n),e);return A0(e)}function KC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Bb:n+="";break;default:n+=u}}return n}function A0(r){return r+Bb+""}function R0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Hb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=QC.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const Fb="server_timestamp",Gb="__type__",Kb="__previous_value__",Qb="__local_write_time__";function Rp(r){return(r?.mapValue?.fields||{})[Gb]?.stringValue===Fb}function Gh(r){const e=r.mapValue.fields[Kb];return Rp(e)?Gh(e):e}function Jl(r){const e=ss(r.mapValue.fields[Qb].timestampValue);return new ot(e.seconds,e.nanos)}class YC{constructor(e,n,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const wh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const Yb="__type__",XC="__max__",Jc={mapValue:{}},Xb="__vector__",xh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rp(r)?4:WC(r)?9007199254740991:$C(r)?10:11:be(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?Sh(f)===Sh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(R0(f)!==R0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),p=Et(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return I0(r.timestampValue,e.timestampValue);case 4:return I0(Jl(r),Jl(e));case 5:return qm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),p=as(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=je(m[g],p[g]);if(b!==0)return b}return je(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=je(Et(u.latitude),Et(f.latitude));return m!==0?m:je(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[xh]?.arrayValue,b=p[xh]?.arrayValue,T=je(g?.values?.length||0,b?.values?.length||0);return T!==0?T:N0(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const x=qm(p[T],b[T]);if(x!==0)return x;const O=mo(m[p[T]],g[b[T]]);if(O!==0)return O}return je(p.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function I0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=ss(r),s=ss(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function N0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function po(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function lh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ps(s.fields,((u,f)=>{o+=u.length+lh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function Fm(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function $C(r){return(r?.mapValue?.fields||{})[Yb]?.stringValue===Xb}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function WC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XC}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(ql(this.value))}}function $b(r){const e=[];return ps(r.fields,((n,s)=>{const o=new Xt([n]);if(uh(s)){const u=$b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new xn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,xe.min(),xe.min(),xe.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,xe.min(),xe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,xe.min(),xe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function M0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function JC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Wb{}class kt extends Wb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eI(e,n,s):n==="array-contains"?new iI(e,s):n==="in"?new rI(e,s):n==="not-in"?new sI(e,s):n==="array-contains-any"?new aI(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tI(e,s):new nI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends Wb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return Jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(r){return r.op==="and"}function Zb(r){return ZC(r)&&Jb(r)}function ZC(r){for(const e of r.filters)if(e instanceof ki)return!1;return!0}function Gm(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(Zb(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((n=>Gm(n))).join(",");return`${r.op}(${e})`}}function eT(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(r,e):r instanceof ki?(function(s,o){return o instanceof ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&eT(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function tT(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(tT).join(" ,")+"}"})(r):"Filter"}class eI extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class tI extends kt{constructor(e,n){super(e,"in",n),this.keys=nT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=nT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nT(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class iI extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&eu(n.arrayValue,this.value)}}class rI extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class sI extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class aI extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class oI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function k0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new oI(r,e,n,s,o,u,f)}function Ip(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V0(r.startAt,e.startAt)&&V0(r.endAt,e.endAt)}function Km(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Kh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lI(r,e,n,s,o,u,f,m){return new Kh(r,e,n,s,o,u,f,m)}function Qh(r){return new Kh(r)}function P0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uI(r){return r.collectionGroup!==null}function Hl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Xt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Rh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Rh(Xt.keyField(),s))}return e.Ie}function Ni(r){const e=Re(r);return e.Ee||(e.Ee=cI(e,Hl(r))),e.Ee}function cI(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Rh(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Qm(r,e,n){return new Kh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Np(Ni(r),Ni(e))&&r.limitType===e.limitType}function iT(r){return`${Ip(Ni(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tT(o))).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=M0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const g=M0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Hl(s),o))})(r,e)}function hI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=fI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}const dI=new dt(ye.comparator);function hr(){return dI}const sT=new dt(ye.comparator);function Ll(...r){let e=sT;for(const n of r)e=e.insert(n.key,n);return e}function aT(r){let e=sT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Fl()}function oT(){return Fl()}function Fl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mI=new dt(ye.comparator),pI=new Pt(ye.comparator);function Ue(...r){let e=pI;for(const n of r)e=e.add(n);return e}const gI=new Pt(je);function yI(){return gI}function Dp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function lT(r){return{integerValue:""+r}}function _I(r,e){return FC(e)?lT(e):Dp(r,e)}class $h{constructor(){this._=void 0}}function vI(r,e,n){return r instanceof Ch?(function(o,u){const f={fields:{[Gb]:{stringValue:Fb},[Qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=Gh(u)),u&&(f.fields[Kb]=u),{mapValue:f}})(n,e):r instanceof tu?cT(r,e):r instanceof nu?hT(r,e):(function(o,u){const f=uT(o,u),m=L0(f)+L0(o.Ae);return Fm(f)&&Fm(o.Ae)?lT(m):Dp(o.serializer,m)})(r,e)}function EI(r,e,n){return r instanceof tu?cT(r,e):r instanceof nu?hT(r,e):n}function uT(r,e){return r instanceof Ih?(function(s){return Fm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ch extends $h{}class tu extends $h{constructor(e){super(),this.elements=e}}function cT(r,e){const n=fT(e);for(const s of r.elements)n.some((o=>Vi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends $h{constructor(e){super(),this.elements=e}}function hT(r,e){let n=fT(e);for(const s of r.elements)n=n.filter((o=>!Vi(o,s)));return{arrayValue:{values:n}}}class Ih extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L0(r){return Et(r.integerValue||r.doubleValue)}function fT(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?fo(s.elements,o.elements,Vi):s instanceof Ih&&o instanceof Ih?Vi(s.Ae,o.Ae):s instanceof Ch&&o instanceof Ch})(r.transform,e.transform)}class TI{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function dT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Op(r.key,ri.none()):new mu(r.key,r.data,ri.none());{const n=r.data,s=mn.empty();let o=new Pt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new xn(o.toArray()),ri.none())}}function SI(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),p=U0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof gs?(function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=U0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(mT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof mu?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const g=u.value.clone(),b=z0(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof gs?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const g=z0(u.fieldTransforms,p,f),b=f.data;return b.setAll(mT(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function wI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=uT(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function j0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>bI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function U0(r,e,n){const s=new Map;Xe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,EI(f,m,n[o]))}return s}function z0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,vI(u,f,e))}return s}class Op extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=oT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=dT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,s)=>j0(n,s)))&&fo(this.baseMutations,e.baseMutations,((n,s)=>j0(n,s)))}}class Mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return mI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mp(e,n,s,o)}}class RI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function II(r){switch(r){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function pT(r){if(r===void 0)return cr("GRPC error has no .code"),re.UNKNOWN;switch(r){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function NI(){return new TextEncoder}const DI=new ns([4294967295,4294967295],0);function B0(r){const e=NI().encode(r),n=new Db;return n.update(e),new Uint8Array(n.digest())}function q0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(DI)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=B0(e),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=B0(e),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(xe.min(),o,new dt(je),hr(),Ue())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ue(),Ue(),Ue())}}class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gT{constructor(e,n){this.targetId=e,this.Ce=n}}class yT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class H0{constructor(){this.ve=0,this.Fe=F0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OI{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Zc(),this.He=Zc(),this.Ye=new dt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(s===0){const f=new ye(u.path);this.et(n,f,en.newNoDocument(f,xe.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof Hb)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return ho(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Km(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=Zc(),this.He=Zc(),this.Ye=new dt(je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new H0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new dt(ye.comparator)}function F0(){return new dt(ye.comparator)}const MI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kI={and:"AND",or:"OR"};class PI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _T(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LI(r,e){return Nh(r,e.toTimestamp())}function Di(r){return Xe(!!r,49232),xe.fromTimestamp((function(n){const s=ss(n);return new ot(s.seconds,s.nanos)})(r))}function kp(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vT(r){const e=at.fromString(r);return Xe(wT(e),10190,{key:e.toString()}),e}function $m(r,e){return kp(r.databaseId,e.path)}function wm(r,e){const n=vT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(bT(n))}function ET(r,e){return kp(r.databaseId,e)}function jI(r){const e=vT(r);return e.length===4?at.emptyPath():bT(e)}function Wm(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bT(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G0(r,e,n){return{name:$m(r,e),fields:n.value.mapValue.fields}}function UI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?re.UNKNOWN:pT(g.code);return new fe(b,g.message||"")})(f);n=new yT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):xe.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new hh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?Di(s.readTime):xe.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new CI(o,u),m=s.targetId;n=new gT(m,f)}}return n}function zI(r,e){let n;if(e instanceof mu)n={update:G0(r,e.key,e.value)};else if(e instanceof Op)n={delete:$m(r,e.key)};else if(e instanceof gs)n={update:G0(r,e.key,e.data),updateMask:XI(e.fieldMask)};else{if(!(e instanceof xI))return be(16599,{Vt:e.type});n={verify:$m(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function BI(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(xe.min())&&(f=Di(u)),new TI(f,o.transformResults||[])})(n,e)))):[]}function qI(r,e){return{documents:[ET(r,e.path)]}}function HI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ET(r,o);const u=(function(g){if(g.length!==0)return ST(ki.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:io(x.field),direction:KI(x.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ym(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function FI(r){let e=jI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const x=TT(T);return x instanceof ki&&Zb(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((x=>(function(L){return new Rh(ro(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,Fh(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(T){const x=!!T.before,O=T.values||[];return new Ah(O,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const x=!T.before,O=T.values||[];return new Ah(O,x)})(n.endAt)),lI(e,o,f,u,m,"F",p,g)}function GI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>TT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function KI(r){return MI[r]}function QI(r){return VI[r]}function YI(r){return kI[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Xt.fromServerFormat(r.fieldPath)}function ST(r){return r instanceof kt?(function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:QI(n.op),value:n.value}}})(r):r instanceof ki?(function(n){const s=n.getFilters().map((o=>ST(o)));return s.length===1?s[0]:{compositeFilter:{op:YI(n.op),filters:s}}})(r):be(54877,{filter:r})}function XI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Jr{constructor(e,n,s,o,u=xe.min(),f=xe.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $I{constructor(e){this.yt=e}}function WI(r){const e=FI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class JI{constructor(){this.Cn=new ZI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(rs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class ZI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(xT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const Q0="LruGarbageCollector",eN=1048576;function Y0([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class tN{constructor(e){this.Ir=e,this.buffer=new Pt(Y0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Y0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ce(Q0,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class iN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Hh.ce);const s=new tN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(K0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),to()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function rN(r,e){return new iN(r,e)}class sN{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,xn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ll();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=hr();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof gs)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Gl(b.mutation,g,b.mutation.getFieldMask(),ot.now())):f.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new aN(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new dt(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||xn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=oT();b.forEach((x=>{if(!u.has(x)){const O=dT(n.get(x),s.get(x));O!==null&&T.set(x,O),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Zs());let m=Wl,p=u;return f.next((g=>ne.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{p=p.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((b=>({batchId:m,changes:aT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,x){return new Kh(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,x)=>{f=f.insert(T,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=Ll();return f.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&Gl(b.mutation,g,xn.empty(),ot.now()),Xh(n,g)&&(m=m.insert(p,g))})),m}))}}class lN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WI(o.bundledQuery),readTime:Di(o.readTime)}})(n)),ne.resolve()}}class uN{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Zs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new RI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class cN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Pp{constructor(){this.Qr=new Pt(zt.$r),this.Ur=new Pt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class hN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(je);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Pt(je);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fN{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||zC(UC(b),s)<=0||(o.has(b.key)||Xh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dN(this)}getSize(e){return ne.resolve(this.size)}}class dN extends sN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class mN{constructor(e){this.persistence=e,this.si=new la((n=>Ip(n)),Np),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class AT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new cN,this.referenceDelegate=e(this),this.Pi=new mN(this),this.indexManager=new JI,this.remoteDocumentCache=(function(o){return new fN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $I(n),this.Ii=new lN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new pN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class pN extends qC{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.pi=new la((s=>GC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rN(this,n)}static mi(e,n){return new Dh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}class gN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QA()?8:HC(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new gN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(to()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(to()<=Le.DEBUG&&ce("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(to()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):ne.resolve())}ys(e,n){if(P0(n))return ne.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return P0(n)||o.isEqual(xe.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(to()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,f,n,jC(o,Wl)).next((m=>m)))}))}Ds(e,n){let s=new Pt(rT(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return to()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Up="LocalStore",_N=3e8;class vN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(je),this.xs=new la((u=>Ip(u)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function EN(r,e,n,s){return new vN(r,e,n,s)}async function RT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function bN(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,x=T.keys();let O=ne.resolve();return x.forEach((L=>{O=O.next((()=>b.getEntry(p,L))).next((G=>{const U=g.docVersions.get(L);Xe(U!==null,48541),G.version.compareTo(U)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),b.addEntry(G)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function CT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function TN(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const x=o.get(T);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let O=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken($t.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(T,O),(function(G,U,Z){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=_N?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(x,O,b)&&m.push(n.Pi.updateTargetData(u,O))}));let p=hr(),g=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(SN(u,f,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(xe.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function SN(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Up,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function wN(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xN(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;ce(Up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function X0(r,e,n){const s=Re(r);let o=xe.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,b){const T=Re(p),x=T.xs.get(b);return x!==void 0?ne.resolve(T.Ms.get(x)):T.Pi.getTargetData(g,b)})(s,f,Ni(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Ue()))).next((m=>(AN(s,hI(e),m),{documents:m,Qs:u})))))}function AN(r,e,n){let s=r.Os.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class $0{constructor(){this.activeTargetIds=yI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CN{Oo(e){}shutdown(){}}const W0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(W0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function Zm(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const xm="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Zm(),m=this.zo(e,n.toUriEncodedString());ce(xm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Eo(g);return this.Jo(e,m,p,s,b).then((T=>(ce(xm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw ho(xm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=IN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class DN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class ON extends NN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Zm();return new Promise(((m,p)=>{const g=new Ob;g.setWithCredentials(!0),g.listenOnce(Mb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const T=g.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case oh.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),p(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const x=g.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O?.error;if(L&&L.status&&L.message){const G=(function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ie)>=0?ie:re.UNKNOWN})(L.status);p(new fe(G,L.message))}else p(new fe(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Pb(),m=kb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=f.createWebChannel(b,p);this.I_(T);let x=!1,O=!1;const L=new DN({Yo:U=>{O?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(x||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),G=(U,Z,ie)=>{U.listen(Z,(le=>{try{ie(le)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return G(T,Pl.EventType.OPEN,(()=>{O||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),G(T,Pl.EventType.CLOSE,(()=>{O||(O=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),G(T,Pl.EventType.ERROR,(U=>{O||(O=!0,ho(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),G(T,Pl.EventType.MESSAGE,(U=>{if(!O){const Z=U.data[0];Xe(!!Z,16349);const ie=Z,le=ie?.error||ie[0]?.error;if(le){ce(Jt,`RPC '${e}' stream ${o} received error:`,le);const ge=le.status;let Te=(function(A){const R=Dt[A];if(R!==void 0)return pT(R)})(ge),Se=le.message;Te===void 0&&(Te=re.INTERNAL,Se="Unknown error status: "+ge+" with message "+le.message),O=!0,L.a_(new fe(Te,Se)),T.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,Z),L.u_(Z)}})),G(m,Vb.STAT_EVENT,(U=>{U.stat===Bm.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Bm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Am(){return typeof document<"u"?document:null}function Zh(r){return new PI(r,!0)}class IT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z0="PersistentStream";class NT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MN extends NT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Di(f.readTime):xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:qI(u,p)}:{query:HI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_T(u,f.resumeToken);const g=Ym(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=Ym(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=GI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class VN extends NT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BI(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zI(this.serializer,s)))};this.q_(n)}}class kN{}class PN extends kN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Xm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Xm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(re.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class jN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ce(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new LN(s,o)}}async function ef(r){if(ua(r))for(const e of r.da)await e(!0)}async function gu(r){for(const e of r.da)await e(!1)}function DT(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?qp(n):Ao(n).O_()&&Bp(n,e))}function zp(r,e){const n=Re(r),s=Ao(n);n.Ia.delete(e),s.O_()&&OT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Bp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function OT(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function qp(r){r.Va=new OI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Hp(r){return ua(r)&&!Ao(r).x_()&&r.Ia.size>0}function ua(r){return Re(r).Ea.size===0}function MT(r){r.Va=void 0}async function UN(r){r.Ra.set("Online")}async function zN(r){r.Ia.forEach(((e,n)=>{Bp(r,e)}))}async function BN(r,e){MT(r),Hp(r)?(r.Ra.ha(e),qp(r)):r.Ra.set("Unknown")}async function qN(r,e,n){if(r.Ra.set("Online"),e instanceof yT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof gT?r.Va.st(e):r.Va.tt(e),!n.isEqual(xe.min()))try{const s=await CT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),OT(u,p);const T=new Jr(b.target,p,g,b.sequenceNumber);Bp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(oa,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await gu(r),r.Ra.set("Offline"),n||(n=()=>CT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function VT(r,e){return e().catch((n=>Oh(r,n,e)))}async function tf(r){const e=Re(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;HN(e);)try{const o=await wN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,FN(e,o)}catch(o){await Oh(e,o)}kT(e)&&PT(e)}function HN(r){return ua(r)&&r.Ta.length<10}function FN(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function kT(r){return ua(r)&&!ls(r).x_()&&r.Ta.length>0}function PT(r){ls(r).start()}async function GN(r){ls(r).ra()}async function KN(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function QN(r,e,n){const s=r.Ta.shift(),o=Mp.from(s,e,n);await VT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function YN(r,e){e&&ls(r).X_&&await(async function(s,o){if((function(f){return II(f)&&f!==re.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await VT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),kT(r)&&PT(r)}async function eE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(oa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function XN(r,e){const n=Re(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new MN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:UN.bind(null,r),t_:zN.bind(null,r),r_:BN.bind(null,r),H_:qN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hp(r)?qp(r):r.Ra.set("Unknown")):(await r.ma.stop(),MT(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new VN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GN.bind(null,r),r_:YN.bind(null,r),ta:KN.bind(null,r),na:QN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Fp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),xo(r))return new fe(re.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class tE{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class $N{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WN{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=nE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function nE(){return new la((r=>iT(r)),Yh)}async function Kp(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new $N,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Yp(n)}async function Qp(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Yp(n)}function ZN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Yp(r){r.Ca.forEach((e=>{e.next()}))}var ep,iE;(iE=ep||(ep={})).Ma="default",iE.Cache="cache";class Xp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class LT{constructor(e){this.key=e}}class jT{constructor(e){this.key=e}}class eD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=rT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new tE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const x=o.get(b),O=Xh(this.query,T)?T:null,L=!!x&&this.mutatedKeys.has(x.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;x&&O?x.data.isEqual(O.data)?L!==G&&(s.track({type:3,doc:O}),U=!0):this.su(x,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!x&&O?(s.track({type:0,doc:O}),U=!0):x&&!O&&(s.track({type:1,doc:x}),U=!0,(p||g)&&(m=!0)),U&&(O?(f=f.add(O),u=G?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(O,L){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:U})}};return G(O)-G(L)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new LT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class tD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nD{constructor(e){this.key=e,this.hu=!1}}class iD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>iT(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rD(r,e,n=!0){const s=FT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await UT(s,e,n,!0),o}async function sD(r,e){const n=FT(r);await UT(n,e,!0,!1)}async function UT(r,e,n,s){const o=await xN(r.localStore,Ni(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await aD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&DT(r.remoteStore,o),m}async function aD(r,e,n,s,o){r.pu=(T,x,O)=>(async function(G,U,Z,ie){let le=U.view.ru(Z);le.Cs&&(le=await X0(G.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,le))));const ge=ie&&ie.targetChanges.get(U.targetId),Te=ie&&ie.targetMismatches.get(U.targetId)!=null,Se=U.view.applyChanges(le,G.isPrimaryClient,ge,Te);return sE(G,U.targetId,Se.au),Se.snapshot})(r,T,x,O);const u=await X0(r.localStore,e,!0),f=new eD(e,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);sE(r,n,g.au);const b=new tD(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function oD(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),tp(s,o.targetId)})).catch(wo)):(tp(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function lD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function uD(r,e,n){const s=gD(r);try{const o=await(function(f,m){const p=Re(f),g=ot.now(),b=m.reduce(((O,L)=>O.add(L.key)),Ue());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let L=hr(),G=Ue();return p.Ns.getEntries(O,b).next((U=>{L=U,L.forEach(((Z,ie)=>{ie.isValidDocument()||(G=G.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,L))).next((U=>{T=U;const Z=[];for(const ie of m){const le=wI(ie,T.get(ie.key).overlayedDocument);le!=null&&Z.push(new gs(ie.key,le,$b(le.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Z,m)})).next((U=>{x=U;const Z=U.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(O,U.batchId,Z)}))})).then((()=>({batchId:x.batchId,changes:aT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(je)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function zT(r,e){const n=Re(r);try{const s=await TN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await wo(s)}}function rE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const x of T.Sa)x.va(m)&&(g=!0)})),g&&Yp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cD(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ye.comparator);f=f.insert(u,en.newNoDocument(u,xe.min()));const m=Ue().add(u),p=new Jh(xe.min(),new Map,new dt(je),f,m);await zT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await Jm(s.localStore,e,!1).then((()=>tp(s,e,n))).catch(wo)}async function hD(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await bN(n.localStore,e);qT(n,s,null),BT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await wo(o)}}async function fD(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);qT(s,e,n),BT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await wo(o)}}function BT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qT(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function tp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||HT(r,s)}))}function HT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(zp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Wp(r))}function sE(r,e,n){for(const s of n)s instanceof LT?(r.Ru.addReference(s.key,e),dD(r,s)):s instanceof jT?(ce($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||HT(r,s.key)):be(19791,{wu:s})}function dD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce($p,"New document in limbo: "+n),r.Eu.add(s),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(at.fromString(e)),s=r.fu.next();r.Au.set(s,new nD(n)),r.du=r.du.insert(n,s),DT(r.remoteStore,new Jr(Ni(Qh(n.path)),s,"TargetPurposeLimboResolution",Hh.ce))}}async function yu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=jp.As(p.targetId,g);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(x=>ne.forEach(x.Es,(O=>b.persistence.referenceDelegate.addReference(T,x.targetId,O))).next((()=>ne.forEach(x.ds,(O=>b.persistence.referenceDelegate.removeReference(T,x.targetId,O)))))))))}catch(T){if(!xo(T))throw T;ce(Up,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const O=b.Ms.get(x),L=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(L);b.Ms=b.Ms.insert(x,G)}}})(s.localStore,u))}async function mD(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce($p,"User change. New user:",e.toKey());const s=await RT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(re.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function pD(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function FT(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cD.bind(null,e),e.Pu.H_=JN.bind(null,e.eventManager),e.Pu.yu=ZN.bind(null,e.eventManager),e}function gD(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EN(this.persistence,new yN,e.initialUser,this.serializer)}Cu(e){return new AT(Lp.mi,this.serializer)}Du(e){return new RN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class yD extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new AT((s=>Dh.mi(s,n)),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await XN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WN})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=(function(u){return new ON(u)})(e.databaseInfo);return(function(u,f,m,p){return new PN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new jN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>rE(this.syncEngine,n,0)),(function(){return J0.v()?new J0:new CN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,b){const T=new iD(o,u,f,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(oa,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class Jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const us="FirestoreClient";class _D{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await RT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function aE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await vD(r);ce(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>eE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>eE(e.remoteStore,o))),r._onlineComponents=e}async function vD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(us,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Mh)}}else ce(us,"Using default OfflineComponentProvider"),await Rm(r,new yD(void 0));return r._offlineComponents}async function GT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(us,"Using user provided OnlineComponentProvider"),await aE(r,r._uninitializedComponentsProvider._online)):(ce(us,"Using default OnlineComponentProvider"),await aE(r,new np))),r._onlineComponents}function ED(r){return GT(r).then((e=>e.syncEngine))}async function Vh(r){const e=await GT(r),n=e.eventManager;return n.onListen=rD.bind(null,e.syncEngine),n.onUnlisten=oD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lD.bind(null,e.syncEngine),n}function bD(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new Jp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Qp(u,T)));const O=x.docs.has(m);!O&&x.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&p&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new Xp(Qh(m.path),b,{includeMetadataChanges:!0,qa:!0});return Kp(u,T)})(await Vh(r),r.asyncQueue,e,n,s))),s.promise}function TD(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new Jp({next:x=>{b.Nu(),f.enqueueAndForget((()=>Qp(u,T))),x.fromCache&&p.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new Xp(m,b,{includeMetadataChanges:!0,qa:!0});return Kp(u,T)})(await Vh(r),r.asyncQueue,e,n,s))),s.promise}function KT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const oE=new Map;const QT="firestore.googleapis.com",lE=!0;class uE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=lE}else this.host=e.host,this.ssl=e.ssl??lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eN)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RC;switch(s.type){case"firstParty":return new DC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),oE.delete(n),s.terminate())})(this),Promise.resolve()}}function SD(r,e,n,s={}){r=An(r,nf);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(FE(`https://${m}`),GE("Firestore",!0)),u.host!==QT&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=Zt.MOCK_USER;else{g=jA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(T)}r._authCredentials=new CC(new jb(g,b))}}class _u{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,bt._jsonSchema))return new bt(e,s||null,new ye(at.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class is extends _u{constructor(e,n,s){super(e,n,Qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function kh(r,e,...n){if(r=Bt(r),Ub("collection","path",e),r instanceof nf){const s=at.fromString(e,...n);return S0(s),new is(r,null,s)}{if(!(r instanceof bt||r instanceof is))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return S0(s),new is(r.firestore,null,s)}}function ht(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=wp.newId()),Ub("doc","path",e),r instanceof nf){const s=at.fromString(e,...n);return T0(s),new bt(r,null,new ye(s))}{if(!(r instanceof bt||r instanceof is))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return T0(s),new bt(r.firestore,r instanceof is?r.converter:null,new ye(s))}}const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&ce(cE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ce(cE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",fE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function dE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class cs extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function wD(r,e){const n=typeof r=="object"?r:XE(),s=typeof r=="string"?r:wh,o=fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PA("firestore");u&&SD(o,...u)}return o}function rf(r){if(r._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xD(r),r._firestoreClient}function xD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new YC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,KT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _D(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ot("string",zn._jsonSchemaVersion),bytes:Ot("string")};class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(du(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ot("string",Oi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),vectorValues:Ot("object")};const AD=/^__.*__$/;class RD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class YT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class eg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XT(this.Ac)&&AD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}Cc(e,n,s,o=!1){return new eg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $T(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new CD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ID(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);tg("Data must be an object, but it was:",f,s);const m=WT(s,f);let p,g;if(u.merge)p=new xn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const x=ip(e,T,n);if(!f.contains(x))throw new fe(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ZT(b,x)||b.push(x)}p=new xn(b),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new RD(new mn(m),p,g)}class af extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function ND(r,e,n,s){const o=r.Cc(1,e,n);tg("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ps(s,((p,g)=>{const b=ng(e,p,n);g=Bt(g);const T=o.yc(b);if(g instanceof af)u.push(b);else{const x=of(g,T);x!=null&&(u.push(b),f.set(b,x))}}));const m=new xn(u);return new YT(f,m,o.fieldTransforms)}function DD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[ip(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(ip(e,u[x])),p.push(u[x+1]);const g=[],b=mn.empty();for(let x=m.length-1;x>=0;--x)if(!ZT(g,m[x])){const O=m[x];let L=p[x];L=Bt(L);const G=f.yc(O);if(L instanceof af)g.push(O);else{const U=of(L,G);U!=null&&(g.push(O),b.set(O,U))}}const T=new xn(g);return new YT(b,T,f.fieldTransforms)}function of(r,e){if(JT(r=Bt(r)))return tg("Unsupported field value:",e,r),WT(r,e);if(r instanceof Zp)return(function(s,o){if(!XT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=of(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _I(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:_T(o.serializer,s._byteString)};if(s instanceof bt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,m){return{mapValue:{fields:{[Yb]:{stringValue:Xb},[xh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xp(s)}`)})(r,e)}function WT(r,e){const n={};return qb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,((s,o)=>{const u=of(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function JT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Oi||r instanceof zn||r instanceof bt||r instanceof Zp||r instanceof Mi)}function tg(r,e,n){if(!JT(n)||!zb(n)){const s=xp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ip(r,e,n){if((e=Bt(e))instanceof sf)return e._internalPath;if(typeof e=="string")return ng(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function ng(r,e,n){if(e.search(OD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(re.INVALID_ARGUMENT,m+r+p)}function ZT(r,e){return r.some((n=>n.isEqual(e)))}class eS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MD extends eS{data(){return super.data()}}function tS(r,e){return typeof e=="string"?ng(r,e):e instanceof sf?e._internalPath:e._delegate._internalPath}function nS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VD{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[xh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Xe(wT(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function kD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends eS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class fh extends ea{data(e={}){return super.data(e)}}class ta{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:PD(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function mE(r){r=An(r,bt);const e=An(r.firestore,cs);return bD(rf(e),r._key).then((n=>rS(e,r,n)))}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Ot("string",ta._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ig extends VD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function iS(r){r=An(r,_u);const e=An(r.firestore,cs),n=rf(e),s=new ig(e);return nS(r._query),TD(n,r._query).then((o=>new ta(e,s,r,o)))}function Bn(r,e,n){r=An(r,bt);const s=An(r.firestore,cs),o=kD(r.converter,e);return rg(s,[ID($T(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function Cm(r,e,n,...s){r=An(r,bt);const o=An(r.firestore,cs),u=$T(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof sf?DD(u,"updateDoc",r._key,e,n,s):ND(u,"updateDoc",r._key,e),rg(o,[f.toMutation(r._key,ri.exists(!0))])}function Kl(r){return rg(An(r.firestore,cs),[new Op(r._key,ri.none())])}function iu(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof bt)f=An(r.firestore,cs),m=Qh(r._key.path),u={next:p=>{e[s]&&e[s](rS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=An(r,_u);f=An(p.firestore,cs),m=p._query;const g=new ig(f);u={next:b=>{e[s]&&e[s](new ta(f,g,p,b))},error:e[s+1],complete:e[s+2]},nS(r._query)}return(function(g,b,T,x){const O=new Jp(x),L=new Xp(b,O,T);return g.asyncQueue.enqueueAndForget((async()=>Kp(await Vh(g),L))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>Qp(await Vh(g),L)))}})(rf(f),m,o,u)}function rg(r,e){return(function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget((async()=>uD(await ED(s),o,u))),u.promise})(rf(r),e)}function rS(r,e,n){const s=n.docs.get(e._key),o=new ig(r);return new ea(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){So=o})(bo),co(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new cs(new IC(s.getProvider("auth-internal")),new OC(f,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ts(_0,v0,e),ts(_0,v0,"esm2020")})();var LD="firebase",jD="12.7.0";ts(LD,jD,"app");const UD={apiKey:"AIzaSyBB71D6BVo4MHXOU2HH5jRxTTSTF299XHY",authDomain:"patagonia-rnd-hub.firebaseapp.com",projectId:"patagonia-rnd-hub",storageBucket:"patagonia-rnd-hub.firebasestorage.app",messagingSenderId:"655359223000",appId:"1:655359223000:web:dc20c2d9a8993ca18c23ad"};let Pe=null,Yr=null;try{const r=YE(UD);Pe=wD(r),Yr=xC(r),console.log(" Firebase initialized successfully")}catch(r){console.warn(" Firebase initialization failed:",r.message),Pe=null,Yr=null}const sS=q.createContext(),zD=()=>{const r=q.useContext(sS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},BD=({children:r})=>{const[e,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(!0),[m,p]=q.useState(null);q.useEffect(()=>{if(!Yr){f(!1);return}const G=d2(Yr,async U=>{if(U&&Pe){const Z=ht(Pe,"users",U.uid),ie=iu(Z,async le=>{if(le.exists()){const ge=le.data();o(ge),n(U)}else{const ge={email:U.email,displayName:U.displayName||U.email.split("@")[0],approved:!1,isAdmin:!1,createdAt:new Date().toISOString(),uid:U.uid};await Bn(Z,ge),o(ge),n(U)}f(!1)});return()=>ie()}else n(null),o(null),f(!1)});return()=>G()},[]);const L={user:e,userProfile:s,loading:u,error:m,signInWithEmail:async(G,U)=>{try{return p(null),(await c2(Yr,G,U)).user}catch(Z){throw p(Z.message),Z}},signUpWithEmail:async(G,U)=>{try{return p(null),(await u2(Yr,G,U)).user}catch(Z){throw p(Z.message),Z}},signInWithGoogle:async()=>{try{p(null);const G=new tr;return(await V2(Yr,G)).user}catch(G){throw p(G.message),G}},signOut:async()=>{try{await m2(Yr)}catch(G){throw p(G.message),G}},isPasskeySupported:window.PublicKeyCredential!==void 0&&typeof window.PublicKeyCredential=="function",isAuthenticated:!!e,isApproved:s?.approved||!1};return E.jsx(sS.Provider,{value:L,children:!u&&r})},aS=q.createContext(),lf=()=>{const r=q.useContext(aS);if(!r)throw new Error("useTeams must be used within a TeamProvider");return r},Ys={teamA:{name:"Team A",color:"#4A90E2"},teamB:{name:"Team B",color:"#E94B3C"},teamC:{name:"Team C",color:"#50C878"},teamD:{name:"Team D",color:"#9B59B6"},rndEvents:{name:"R&D Events",color:"#95A5A6"}},qD=({children:r})=>{const[e,n]=q.useState(()=>{const m=localStorage.getItem("patagonia-teams");if(m){const p=JSON.parse(m);return p.allHands&&delete p.allHands,p.rndEvents||(p.rndEvents=Ys.rndEvents),localStorage.setItem("patagonia-teams",JSON.stringify(p)),p}return Ys}),[s,o]=q.useState(!1);q.useEffect(()=>{(async()=>{try{Pe&&(o(!0),console.log(" Firebase connected for teams"))}catch{console.log(" Using localStorage for teams"),o(!1)}})()},[]),q.useEffect(()=>{if(!s)return;const m=iu(ht(Pe,"config","teams"),p=>{if(p.exists()){const g=p.data();n(g),localStorage.setItem("patagonia-teams",JSON.stringify(g))}},p=>{console.error("Firebase teams sync error:",p),o(!1)});return()=>m()},[s]),q.useEffect(()=>{s||localStorage.setItem("patagonia-teams",JSON.stringify(e))},[e,s]);const u=async(m,p)=>{const g={...e,[m]:{...e[m],...p}};if(s)try{await Bn(ht(Pe,"config","teams"),g)}catch(b){console.error("Error updating team in Firebase:",b),n(g)}else n(g)},f=async()=>{if(s)try{await Bn(ht(Pe,"config","teams"),Ys)}catch(m){console.error("Error resetting teams in Firebase:",m),n(Ys),localStorage.setItem("patagonia-teams",JSON.stringify(Ys))}else n(Ys),localStorage.setItem("patagonia-teams",JSON.stringify(Ys))};return E.jsx(aS.Provider,{value:{teams:e,updateTeam:u,resetTeams:f,useFirebase:s},children:r})},oS=q.createContext(),HD=()=>{const r=q.useContext(oS);if(!r)throw new Error("useEvents must be used within an EventProvider");return r},eo=[{id:1,teamId:"teamA",title:"Retro",dayIndex:0,startTime:8,duration:.5,frequency:"Bi-weekly"},{id:2,teamId:"teamB",title:"Retro",dayIndex:0,startTime:8.5,duration:.5,frequency:"Bi-weekly"},{id:3,teamId:"teamC",title:"Retro",dayIndex:0,startTime:9,duration:.5,frequency:"Bi-weekly"},{id:4,teamId:"teamD",title:"Retro",dayIndex:0,startTime:9.5,duration:.5,frequency:"Bi-weekly"},{id:5,teamId:"rndEvents",title:"All Hands Meeting",dayIndex:1,startTime:9,duration:2,frequency:"Weekly"},{id:103,teamId:"teamC",title:"Daily Scrum",dayIndex:2,startTime:7.5,duration:.25,frequency:"Daily"},{id:104,teamId:"teamD",title:"Daily Scrum",dayIndex:2,startTime:7.75,duration:.25,frequency:"Daily"},{id:6,teamId:"teamA",title:"Grooming + Estimation",dayIndex:2,startTime:8,duration:1,frequency:"Weekly"},{id:7,teamId:"teamB",title:"Grooming + Estimation",dayIndex:2,startTime:9,duration:1,frequency:"Weekly"},{id:8,teamId:"teamC",title:"Grooming + Estimation",dayIndex:3,startTime:7.5,duration:1,frequency:"Weekly"},{id:9,teamId:"teamD",title:"Grooming + Estimation",dayIndex:3,startTime:8.5,duration:1,frequency:"Weekly"},{id:105,teamId:"teamA",title:"Daily Scrum",dayIndex:3,startTime:9.5,duration:.25,frequency:"Daily"},{id:106,teamId:"teamB",title:"Daily Scrum",dayIndex:3,startTime:9.75,duration:.25,frequency:"Daily"},{id:107,teamId:"teamA",title:"Daily Scrum",dayIndex:4,startTime:8,duration:.25,frequency:"Daily"},{id:108,teamId:"teamB",title:"Daily Scrum",dayIndex:4,startTime:8.25,duration:.25,frequency:"Daily"},{id:109,teamId:"teamC",title:"Daily Scrum",dayIndex:4,startTime:8.5,duration:.25,frequency:"Daily"},{id:110,teamId:"teamD",title:"Daily Scrum",dayIndex:4,startTime:8.75,duration:.25,frequency:"Daily"},{id:201,teamId:"teamA",title:"Daily Scrum",dayIndex:5,startTime:8,duration:.25,frequency:"Daily"},{id:202,teamId:"teamB",title:"Daily Scrum",dayIndex:5,startTime:8.25,duration:.25,frequency:"Daily"},{id:203,teamId:"teamC",title:"Daily Scrum",dayIndex:5,startTime:8.5,duration:.25,frequency:"Daily"},{id:204,teamId:"teamD",title:"Daily Scrum",dayIndex:5,startTime:8.75,duration:.25,frequency:"Daily"},{id:10,teamId:"rndEvents",title:"All Hands Meeting",dayIndex:6,startTime:9,duration:2,frequency:"Weekly"},{id:205,teamId:"teamC",title:"Daily Scrum",dayIndex:7,startTime:7.5,duration:.25,frequency:"Daily"},{id:206,teamId:"teamD",title:"Daily Scrum",dayIndex:7,startTime:7.75,duration:.25,frequency:"Daily"},{id:11,teamId:"teamA",title:"Grooming + Estimation",dayIndex:7,startTime:8,duration:1,frequency:"Weekly"},{id:12,teamId:"teamB",title:"Grooming + Estimation",dayIndex:7,startTime:9,duration:1,frequency:"Weekly"},{id:13,teamId:"teamC",title:"Grooming + Estimation",dayIndex:8,startTime:7.5,duration:1,frequency:"Weekly"},{id:14,teamId:"teamD",title:"Grooming + Estimation",dayIndex:8,startTime:8.5,duration:1,frequency:"Weekly"},{id:207,teamId:"teamB",title:"Daily Scrum",dayIndex:8,startTime:9.5,duration:.25,frequency:"Daily"},{id:15,teamId:"teamA",title:"Sprint Planning",dayIndex:8,startTime:9.75,duration:.75,frequency:"Bi-weekly"},{id:208,teamId:"teamA",title:"Daily Scrum",dayIndex:9,startTime:7.5,duration:.25,frequency:"Daily"},{id:16,teamId:"teamB",title:"Sprint Planning",dayIndex:9,startTime:7.75,duration:.75,frequency:"Bi-weekly"},{id:17,teamId:"teamC",title:"Sprint Planning",dayIndex:9,startTime:8.5,duration:.75,frequency:"Bi-weekly"},{id:18,teamId:"teamD",title:"Sprint Planning",dayIndex:9,startTime:9.25,duration:.75,frequency:"Bi-weekly"}],FD=({children:r})=>{const[e,n]=q.useState(()=>{const b=localStorage.getItem("patagonia-events");return b?JSON.parse(b):eo}),[s,o]=q.useState(!1);q.useEffect(()=>{(async()=>{try{Pe&&(o(!0),console.log(" Firebase connected - syncing data"))}catch{console.log(" Using localStorage - Firebase not configured"),o(!1)}})()},[]),q.useEffect(()=>{if(!s)return;const b=iu(kh(Pe,"events"),T=>{const x=T.docs.map(O=>({...O.data(),id:O.id}));x.length>0&&(n(x),localStorage.setItem("patagonia-events",JSON.stringify(x)))},T=>{console.error("Firebase sync error:",T),o(!1)});return()=>b()},[s]),q.useEffect(()=>{s||localStorage.setItem("patagonia-events",JSON.stringify(e))},[e,s]);const u=async b=>{const T={...b,id:String(Math.max(0,...e.map(x=>Number(x.id)||0))+1)};if(s)try{await Bn(ht(Pe,"events",T.id),T)}catch(x){console.error("Error adding event to Firebase:",x),n(O=>[...O,T])}else n(x=>[...x,T])},f=async b=>{let T=Math.max(0,...e.map(O=>Number(O.id)||0))+1;const x=b.map((O,L)=>({...O,id:String(T+L)}));if(s)try{await Promise.all(x.map(O=>Bn(ht(Pe,"events",O.id),O)))}catch(O){console.error("Error adding events to Firebase:",O),n(L=>[...L,...x])}else n(O=>[...O,...x])},m=async(b,T)=>{if(s)try{const x=e.find(O=>O.id===b);await Bn(ht(Pe,"events",String(b)),{...x,...T})}catch(x){console.error("Error updating event in Firebase:",x),n(O=>O.map(L=>L.id===b?{...L,...T}:L))}else n(x=>x.map(O=>O.id===b?{...O,...T}:O))},p=async b=>{if(s)try{await Kl(ht(Pe,"events",String(b)))}catch(T){console.error("Error deleting event from Firebase:",T),n(x=>x.filter(O=>O.id!==b))}else n(T=>T.filter(x=>x.id!==b))},g=async()=>{if(s)try{const b=await iS(kh(Pe,"events"));await Promise.all(b.docs.map(T=>Kl(T.ref))),await Promise.all(eo.map(T=>Bn(ht(Pe,"events",String(T.id)),T)))}catch(b){console.error("Error resetting events in Firebase:",b),n(eo),localStorage.setItem("patagonia-events",JSON.stringify(eo))}else n(eo),localStorage.setItem("patagonia-events",JSON.stringify(eo))};return E.jsx(oS.Provider,{value:{events:e,addEvent:u,addMultipleEvents:f,updateEvent:m,deleteEvent:p,resetEvents:g,useFirebase:s},children:r})},dh=[{name:"Monday",week:1,label:"Week 1 - Monday"},{name:"Tuesday",week:1,label:"Week 1 - Tuesday"},{name:"Wednesday",week:1,label:"Week 1 - Wednesday"},{name:"Thursday",week:1,label:"Week 1 - Thursday"},{name:"Friday",week:1,label:"Week 1 - Friday"},{name:"Monday",week:2,label:"Week 2 - Monday"},{name:"Tuesday",week:2,label:"Week 2 - Tuesday"},{name:"Wednesday",week:2,label:"Week 2 - Wednesday"},{name:"Thursday",week:2,label:"Week 2 - Thursday"},{name:"Friday",week:2,label:"Week 2 - Friday"}],lS=[6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10,10.25,10.5,10.75,11,11.25,11.5,11.75,12,12.25,12.5,12.75,13,13.25,13.5,13.75,14,14.25,14.5,14.75,15,15.25,15.5,15.75,16,16.25,16.5,16.75,17],so=r=>{const e=Math.floor(r),n=r%1*60,s=e>=12?"PM":"AM";return`${e>12?e-12:e}:${n.toString().padStart(2,"0")} ${s}`},pE=r=>r===1?"1 hr":r<1?`${r*60} min`:`${r} hrs`;function GD({selectedTeams:r=[]}){const{teams:e}=lf(),{events:n,addEvent:s,addMultipleEvents:o,updateEvent:u,deleteEvent:f,resetEvents:m}=HD(),[p,g]=q.useState(null),[b,T]=q.useState(!1),[x,O]=q.useState(null),[L,G]=q.useState(null),[U,Z]=q.useState(1),ie=Im.useRef(null);Im.useEffect(()=>{setTimeout(()=>{ie.current&&(ie.current.scrollTop=200)},150)},[U]);const le=X=>e[X]||e.rndEvents,ge=dh.filter(X=>X.week===U),Te=dh.map((X,oe)=>({...X,originalIndex:oe})).filter(X=>X.week===U).map(X=>X.originalIndex),Se=X=>{Z(X)},I=(X,oe)=>{g(oe),X.dataTransfer.effectAllowed="move"},A=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},R=(X,oe,ve)=>{if(X.preventDefault(),p){const D=Te[oe];u(p.id,{dayIndex:D,startTime:ve}),g(null)}},P=(X,oe)=>{const ve=Te[X];O({dayIndex:ve,timeSlot:oe}),T(!0)},V=X=>{G(X),T(!0)},z=X=>{if(L)u(L.id,X);else{const{frequency:oe,...ve}=X,{dayIndex:D,timeSlot:$}=x||{dayIndex:X.dayIndex,timeSlot:X.startTime},ae=[];if(oe==="Daily")dh.forEach((se,me)=>{ae.push({...ve,frequency:oe,dayIndex:me,startTime:$})});else if(oe==="Weekly"){const se=D%5;ae.push({...ve,frequency:oe,dayIndex:se,startTime:$}),ae.push({...ve,frequency:oe,dayIndex:se+5,startTime:$})}else oe==="Bi-weekly"||oe==="Monthly"?ae.push({...ve,frequency:oe,dayIndex:D,startTime:$}):ae.push({...ve,frequency:oe,dayIndex:D,startTime:$});ae.length>1?o(ae):s(ae[0])}T(!1),G(null),O(null)},C=X=>{window.confirm("Are you sure you want to delete this event?")&&(f(X),T(!1),G(null))},He=(X,oe)=>{const ve=Te[X];return n.filter(D=>{const $=D.startTime+D.duration,ae=le(D.teamId),se=r.length===0||r.includes(ae.name);return D.dayIndex===ve&&D.startTime<oe+.25&&$>oe&&se})},lt=X=>X*200,M=(X,oe)=>{const ve=X.startTime+X.duration,D=oe.startTime+oe.duration;return!(X.startTime>=D||ve<=oe.startTime)},te=(X,oe)=>{const ve=Te[oe],$=n.filter(ze=>ze.dayIndex===ve).filter(ze=>ze.id!==X.id&&M(ze,X));if($.length===0)return{left:0,width:100,totalOverlapping:1};const ae=[X,...$].sort((ze,Fe)=>ze.startTime!==Fe.startTime?ze.startTime-Fe.startTime:typeof ze.id=="string"&&typeof Fe.id=="string"?ze.id.localeCompare(Fe.id):String(ze.id).localeCompare(String(Fe.id))),se=ae.findIndex(ze=>ze.id===X.id),me=ae.length,we=100/me;return{left:se*we,width:we,totalOverlapping:me}};return E.jsxs("div",{className:"w-full bg-white p-2 rounded-xl shadow-lg flex flex-col h-full overflow-hidden max-md:p-1 max-md:rounded-lg",children:[E.jsxs("div",{className:"flex gap-2 mb-2 justify-between items-center flex-shrink-0 flex-wrap max-md:gap-1 max-md:mb-1",children:[E.jsxs("div",{className:"flex gap-2 items-center flex-wrap max-md:w-full max-md:justify-center max-md:gap-1",children:[E.jsx("button",{onClick:()=>Se(1),className:`px-3 py-1.5 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-white text-xs whitespace-nowrap bg-gradient-to-r from-indigo-500 to-purple-600 ${U===1?"bg-gray-500 cursor-default":"hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40"} disabled:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-60 max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem]`,disabled:U===1,children:" Week 1"}),E.jsxs("span",{className:"font-bold text-sm text-gray-800 min-w-[100px] text-center max-md:text-xs max-md:min-w-[90px]",children:["Sprint Week ",U]}),E.jsx("button",{onClick:()=>Se(2),className:`px-3 py-1.5 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-white text-xs whitespace-nowrap bg-gradient-to-r from-indigo-500 to-purple-600 ${U===2?"bg-gray-500 cursor-default":"hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40"} disabled:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-60 max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem]`,disabled:U===2,children:"Week 2 "})]}),E.jsxs("div",{className:"flex gap-2 flex-wrap max-md:w-full max-md:justify-center",children:[E.jsx("button",{onClick:()=>T(!0),className:"px-4 py-2 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-sm bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md shadow-indigo-300/30 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-400/40 whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem] max-md:flex-1",children:" Add Event"}),E.jsx("button",{onClick:m,className:"px-4 py-2 border-none rounded-lg font-semibold cursor-pointer transition-all duration-200 text-sm bg-red-600 text-white shadow-md shadow-red-300/30 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-red-400/40 whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-[0.7rem] max-md:flex-1",children:" Reset to Defaults"})]})]}),E.jsx("div",{className:"flex gap-2 mb-2 flex-wrap p-1.5 bg-gray-50 rounded-lg text-xs flex-shrink-0 justify-center max-md:gap-1.5 max-md:p-1 max-md:text-[0.7rem]",children:Object.entries(e).sort(([,X],[,oe])=>X.name==="R&D Events"?1:oe.name==="R&D Events"?-1:X.name.localeCompare(oe.name)).map(([X,oe])=>{const ve=r.includes(oe.name);return E.jsxs("div",{className:`flex items-center gap-1.5 transition-opacity duration-200 ${ve?"opacity-100":"opacity-30"}`,children:[E.jsx("div",{className:"w-4 h-4 rounded flex-shrink-0 max-md:w-3.5 max-md:h-3.5",style:{backgroundColor:oe.color}}),E.jsx("span",{children:oe.name})]},X)})}),E.jsxs("div",{className:"overflow-hidden border-2 border-gray-300 rounded-lg flex-1 flex flex-col min-h-0 text-xs max-md:text-[0.75rem]",children:[E.jsxs("div",{className:"grid grid-cols-[100px_repeat(5,1fr)] bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold sticky top-0 z-[100]",children:[E.jsx("div",{className:"p-3 text-center border-r border-white/30 text-sm max-md:text-xs",children:"Time"}),ge.map((X,oe)=>E.jsx("div",{className:"p-3 text-center border-r border-white/30 flex flex-col justify-center",children:E.jsx("div",{className:"text-sm font-bold max-md:text-xs",children:X.name})},oe))]}),E.jsx("div",{className:"bg-white overflow-y-auto flex-1 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-track]:rounded [&::-webkit-scrollbar-thumb]:bg-indigo-500 [&::-webkit-scrollbar-thumb]:rounded hover:[&::-webkit-scrollbar-thumb]:bg-purple-600",ref:ie,children:lS.map((X,oe)=>E.jsxs("div",{className:"grid grid-cols-[100px_repeat(5,1fr)] min-h-[50px] border-b border-gray-300 max-md:min-h-[40px]",children:[E.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 border-r-2 border-gray-300 flex items-start justify-center text-xs sticky left-0 z-10",children:so(X)}),ge.map((ve,D)=>{const $=He(D,X),ae=se=>se.startTime===X;return E.jsx("div",{className:"border-r border-gray-300 relative cursor-pointer transition-colors duration-200 hover:bg-gray-50",onDragOver:A,onDrop:se=>R(se,D,X),onDoubleClick:()=>P(D,X),children:$.filter(ae).map(se=>{const me=le(se.teamId),we=lt(se.duration),De=`${me.name} - ${se.title}
${so(se.startTime)} - ${so(se.startTime+se.duration)}
${pE(se.duration)}
${se.frequency||""}`,ze=te(se,D);return E.jsxs("div",{className:"absolute top-0.5 p-1.5 rounded-md text-white text-xs cursor-move shadow-md transition-all duration-200 overflow-hidden z-10 whitespace-nowrap text-ellipsis hover:scale-[1.02] hover:shadow-lg hover:z-20 hover:overflow-visible hover:whitespace-normal max-md:text-[0.6rem] max-md:p-1",style:{backgroundColor:me.color,height:`${we}px`,left:`${ze.left}%`,width:`calc(${ze.width}% - 4px)`,marginLeft:"2px"},draggable:!0,onDragStart:Fe=>I(Fe,se),onClick:()=>V(se),title:De,children:[E.jsx("div",{className:"font-bold mb-0.5 text-xs overflow-hidden text-ellipsis max-md:text-[0.65rem]",children:se.title}),E.jsx("div",{className:"text-[0.7rem] opacity-90 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:me.name}),E.jsxs("div",{className:"text-[0.65rem] mt-0.5 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:[so(se.startTime)," - ",so(se.startTime+se.duration)]}),E.jsxs("div",{className:"text-[0.6rem] italic opacity-80 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:["(",pE(se.duration),")"]}),se.frequency&&E.jsx("div",{className:"text-[0.6rem] mt-0.5 opacity-90 overflow-hidden text-ellipsis max-md:text-[0.55rem]",children:se.frequency})]},se.id)})},D)})]},oe))})]}),b&&E.jsx(KD,{event:L,teams:e,onSave:z,onDelete:L?()=>C(L.id):null,onClose:()=>{T(!1),G(null),O(null)}}),E.jsx("div",{className:"mt-3 p-2 bg-blue-50 border-l-4 border-blue-500 rounded text-blue-900 text-xs flex-shrink-0 max-md:text-[0.75rem] max-md:p-1.5",children:E.jsxs("p",{className:"m-0",children:[" ",E.jsx("strong",{children:"Tip:"})," Double-click a cell to add an event, drag events to move them, click an event to edit. Scroll down to see more time slots (6 AM - 5 PM). 2-week sprint cycle shown."]})})]})}function KD({event:r,teams:e,onSave:n,onDelete:s,onClose:o}){const[u,f]=q.useState({teamId:r?.teamId||"teamA",title:r?.title||"",dayIndex:r?.dayIndex||0,startTime:r?.startTime||8,duration:r?.duration||.5,frequency:r?.frequency||"Bi-weekly"}),m=p=>{p.preventDefault(),n(u)};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] max-md:p-2",onClick:o,children:E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl max-w-lg w-[90%] max-h-[90vh] overflow-y-auto max-md:w-[95%] max-md:p-4 max-md:max-h-[85vh]",onClick:p=>p.stopPropagation(),children:[E.jsx("h2",{className:"mb-6 text-gray-800 max-md:text-xl",children:r?"Edit Event":"Add New Event"}),E.jsxs("form",{onSubmit:m,children:[E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Team"}),E.jsx("select",{value:u.teamId,onChange:p=>f({...u,teamId:p.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:Object.entries(e).map(([p,g])=>E.jsx("option",{value:p,children:g.name},p))})]}),E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Event Title"}),E.jsx("input",{type:"text",value:u.title,onChange:p=>f({...u,title:p.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm"})]}),E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Day"}),E.jsx("select",{value:u.dayIndex,onChange:p=>f({...u,dayIndex:parseInt(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:dh.map((p,g)=>E.jsx("option",{value:g,children:p.label},g))})]}),E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Start Time"}),E.jsx("select",{value:u.startTime,onChange:p=>f({...u,startTime:parseFloat(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:lS.map(p=>E.jsx("option",{value:p,children:so(p)},p))})]}),E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Duration (hours)"}),E.jsxs("select",{value:u.duration,onChange:p=>f({...u,duration:parseFloat(p.target.value)}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:[E.jsx("option",{value:.25,children:"15 minutes"}),E.jsx("option",{value:.5,children:"30 minutes"}),E.jsx("option",{value:.75,children:"45 minutes"}),E.jsx("option",{value:1,children:"1 hour"}),E.jsx("option",{value:1.25,children:"1 hour 15 min"}),E.jsx("option",{value:1.5,children:"1.5 hours"}),E.jsx("option",{value:1.75,children:"1 hour 45 min"}),E.jsx("option",{value:2,children:"2 hours"}),E.jsx("option",{value:2.5,children:"2.5 hours"}),E.jsx("option",{value:3,children:"3 hours"})]})]}),E.jsxs("div",{className:"mb-6 max-md:mb-4",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Frequency"}),E.jsxs("select",{value:u.frequency,onChange:p=>f({...u,frequency:p.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2.5 max-md:text-sm",children:[E.jsx("option",{value:"Daily",children:"Daily (Every day, both weeks)"}),E.jsx("option",{value:"Weekly",children:"Weekly (Same day, both weeks)"}),E.jsx("option",{value:"Bi-weekly",children:"Bi-weekly (Once per 2-week sprint)"}),E.jsx("option",{value:"Monthly",children:"Monthly (Once per 2-week sprint)"})]}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.frequency==="Daily"&&" Event will be added to all 10 days (Mon-Fri both weeks)",u.frequency==="Weekly"&&" Event will be added to the same day in both weeks",u.frequency==="Bi-weekly"&&" Event will be added only to the selected day",u.frequency==="Monthly"&&" Event will be added only to the selected day"]})]}),E.jsxs("div",{className:"flex gap-4 justify-end mt-8 max-md:mt-6",children:[s&&E.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-red-600 text-white hover:-translate-y-0.5 mr-auto max-md:px-4 max-md:py-2.5 max-md:text-sm",children:"Delete"}),E.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-gray-500 text-white hover:-translate-y-0.5 max-md:px-4 max-md:py-2.5 max-md:text-sm",children:"Cancel"}),E.jsx("button",{type:"submit",className:"px-6 py-3 border-none rounded-lg font-semibold cursor-pointer transition-transform duration-200 bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:-translate-y-0.5 max-md:px-4 max-md:py-2.5 max-md:text-sm",children:r?"Update":"Add"})]})]})]})})}function QD(){const{teams:r}=lf(),[e,n]=q.useState([]);q.useEffect(()=>{const m=Object.values(r||{});m.length>0&&n(m.map(p=>p.name))},[r]);const s=m=>{n(p=>p.includes(m)?p.filter(g=>g!==m):[...p,m])},o=()=>{const m=Object.values(r||{});n(m.map(p=>p.name))},u=()=>{n([])},f=Object.values(r||{}).sort((m,p)=>m.name==="R&D Events"?1:p.name==="R&D Events"?-1:m.name.localeCompare(p.name));return E.jsxs("div",{className:"h-full flex flex-col",children:[E.jsxs("div",{className:"text-center mb-2 max-md:mb-1",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1 max-md:text-lg",children:"Sprint Cycle Calendar (2 Weeks)"}),E.jsx("p",{className:"text-sm text-gray-600 max-md:text-xs",children:"Drag and drop events to reschedule, double-click to add new events"})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-2 max-md:p-2 max-md:mb-1",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 max-md:flex-col max-md:items-start",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-semibold text-gray-700 text-sm max-md:text-xs",children:"Filter by Team:"}),E.jsx("button",{onClick:o,className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors",children:"Select All"}),E.jsx("button",{onClick:u,className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Clear All"})]}),E.jsxs("div",{className:"text-xs text-gray-500 max-md:hidden",children:[e.length," of ",f.length," teams selected"]})]}),E.jsx("div",{className:"flex flex-wrap gap-2 max-md:gap-1",children:f.map(m=>E.jsx("button",{onClick:()=>s(m.name),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 max-md:px-2 max-md:py-1 max-md:text-xs ${e.includes(m.name)?"shadow-md scale-105":"opacity-50 hover:opacity-75"}`,style:{backgroundColor:e.includes(m.name)?m.color:"#e5e7eb",color:e.includes(m.name)?"#fff":"#6b7280"},children:m.name},m.name))})]}),E.jsx(GD,{selectedTeams:e})]})}function YD(){return E.jsxs("div",{className:"max-w-6xl mx-auto p-8 bg-gray-50 max-md:p-4",children:[E.jsxs("div",{className:"text-center mb-12 p-8 bg-white rounded-xl shadow-md",children:[E.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-2",children:"Story Pointing & Planning Poker Guide"}),E.jsx("p",{className:"text-xl text-gray-600 italic",children:" For Grooming & Refinement Sessions "})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-md:p-4",children:[E.jsxs("div",{className:"flex gap-8 mb-8 flex-wrap",children:[E.jsxs("div",{className:"flex-1 min-w-[300px]",children:[E.jsxs("h2",{className:"text-2xl text-gray-800 mb-4",children:["Story points are a ",E.jsx("em",{className:"text-blue-700 font-bold italic",children:"relative, unitless measure of effort"}),"."]}),E.jsxs("ul",{className:"list-none pl-4",children:[E.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Complexity"}),E.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Uncertainty"}),E.jsx("li",{className:"py-2 relative pl-6 before:content-[''] before:text-blue-700 before:absolute before:left-0",children:"Work"})]})]}),E.jsxs("div",{className:"bg-gray-200 p-8 rounded-lg text-center text-lg text-gray-700 min-w-[250px]",children:[E.jsx("strong",{children:"Not hours!"}),E.jsx("br",{}),"Not time estimates!"]})]}),E.jsx("div",{className:"text-center my-8 p-6 bg-gray-50 rounded-lg",children:E.jsxs("h3",{className:"text-2xl text-gray-800",children:["Planning Poker: ",E.jsx("span",{className:"text-blue-700 italic",children:"Team discussion to reach consensus."})]})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 my-8",children:[E.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[E.jsx("h3",{className:"text-2xl text-gray-800 mb-4 text-center pb-2 border-b-2 border-blue-700",children:"Fibonacci Scale"}),E.jsxs("table",{className:"w-full border-collapse mb-4 bg-white rounded-lg overflow-hidden",children:[E.jsx("thead",{className:"bg-blue-700 text-white",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Points"}),E.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Effort"}),E.jsx("th",{className:"p-3 text-left border-b border-gray-300",children:"Example"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"1"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Trivial"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"Text Change"})})]}),E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"2"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Small"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"Simple Validation"})})]}),E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"3"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Moderate"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"Small API Change"})})]}),E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"5"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Medium"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"New Page with Backend"})})]}),E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"8"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Large"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"Feature Across Teams"})})]}),E.jsxs("tr",{className:"hover:bg-gray-100",children:[E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("strong",{children:"13"})}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:"Very Large"}),E.jsx("td",{className:"p-3 border-b border-gray-300",children:E.jsx("em",{children:"Major Workflow (Break Down)"})})]})]})]}),E.jsxs("div",{className:"text-red-600 text-lg text-center p-4 bg-red-100 rounded-lg mt-4",children:["> 13 ",E.jsx("strong",{children:"Split the Story!"})]})]}),E.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[E.jsx("h3",{className:"text-2xl text-gray-800 mb-4 text-center pb-2 border-b-2 border-blue-700",children:"How We Estimate"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[E.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"1"}),E.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[E.jsx("strong",{children:"BA walks through the particular ticket"}),E.jsx("div",{className:"text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[E.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"2"}),E.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[E.jsx("strong",{children:"Ask Questions"}),E.jsx("div",{className:"text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[E.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"3"}),E.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[E.jsx("strong",{children:"Pick a Card"}),E.jsx("div",{className:"text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[E.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"4"}),E.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[E.jsx("strong",{children:"Reveal & Discuss"}),E.jsx("div",{className:"text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border-l-4 border-blue-700",children:[E.jsx("div",{className:"bg-blue-700 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0",children:"5"}),E.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("strong",{children:"Assign Final Story Points"}),E.jsx("br",{}),E.jsx("span",{className:"text-sm text-gray-600 italic",children:"(Re-Vote if Needed)"})]}),E.jsx("div",{className:"text-2xl",children:""})]})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 my-8 mt-12",children:[E.jsxs("div",{className:"bg-gray-50 p-0 rounded-lg overflow-hidden",children:[E.jsx("h3",{className:"text-2xl text-gray-800 mb-0 text-center pb-2 bg-amber-100 p-4 rounded-t-lg",children:"Pointing Session Protocol"}),E.jsxs("ul",{className:"list-none p-6 bg-white m-0 rounded-b-lg",children:[E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:""})," Weekly Sessions"]}),E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:""})," BA, EM, Team"]}),E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:""})," Review, Discuss & Point Tickets"]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-0 rounded-lg overflow-hidden",children:[E.jsx("h3",{className:"text-2xl text-gray-800 mb-0 text-center pb-2 bg-emerald-100 p-4 rounded-t-lg",children:"Guidelines & Key Points"}),E.jsxs("ul",{className:"list-none p-6 bg-white m-0 rounded-b-lg",children:[E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("strong",{children:"No Hours"})," - Use Past Stories"]}),E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("strong",{children:"Time Box"})," Discussions"]}),E.jsxs("li",{className:"py-3 flex items-center gap-3",children:[E.jsx("strong",{children:"Split Stories"})," > 13"]})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white text-center p-8 mt-12 rounded-lg relative before:content-[''] before:absolute before:top-[-15px] before:left-1/2 before:-translate-x-1/2 before:w-0 before:h-0 before:border-l-[30px] before:border-l-transparent before:border-r-[30px] before:border-r-transparent before:border-b-[30px] before:border-b-orange-600",children:[E.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Pointing Session Protocol"}),E.jsx("p",{className:"text-lg italic",children:"Accuracy Improves as We Calibrate Together"})]})]})]})}function uS(){const{teams:r,updateTeam:e,resetTeams:n}=lf(),[s,o]=q.useState(null),u=(p,g)=>{e(p,{name:g})},f=(p,g)=>{e(p,{color:g})},m=()=>{window.confirm("Are you sure you want to reset all teams to default settings?")&&(n(),o(null))};return E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-8 p-8 bg-white rounded-xl shadow-md",children:[E.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Team Configuration"}),E.jsx("p",{className:"text-lg text-gray-600",children:"Customize team names and colors across the application"})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:Object.entries(r).map(([p,g])=>E.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[E.jsx("div",{className:"p-6 text-white text-center",style:{backgroundColor:g.color},children:E.jsx("h3",{className:"m-0 text-2xl font-semibold",children:g.name})}),E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:`name-${p}`,className:"block mb-2 font-semibold text-gray-800",children:"Team Name"}),E.jsx("input",{id:`name-${p}`,type:"text",value:g.name,onChange:b=>u(p,b.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md text-base focus:outline-none focus:border-indigo-500 transition-colors"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:`color-${p}`,className:"block mb-2 font-semibold text-gray-800",children:"Team Color"}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{id:`color-${p}`,type:"color",value:g.color,onChange:b=>f(p,b.target.value),className:"w-[60px] h-[45px] border-2 border-gray-300 rounded-md cursor-pointer"}),E.jsx("input",{type:"text",value:g.color,onChange:b=>f(p,b.target.value),className:"flex-1 p-3 border-2 border-gray-300 rounded-md text-base font-mono focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"#000000"})]})]}),E.jsx("div",{className:"p-4 text-center text-white font-bold rounded-md mt-4 shadow-[1px_1px_2px_rgba(0,0,0,0.5)]",style:{backgroundColor:g.color},children:"Preview"})]})]},p))}),E.jsx("div",{className:"text-center py-8 border-t-2 border-b-2 border-gray-300 my-8",children:E.jsx("button",{onClick:m,className:"px-8 py-4 text-base font-semibold text-white bg-gradient-to-r from-red-500 to-red-700 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200",children:"Reset to Defaults"})}),E.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mt-8",children:[E.jsx("h3",{className:"text-gray-800 mb-4 text-xl font-semibold",children:" Information"}),E.jsxs("ul",{className:"list-none p-0",children:[E.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Changes are saved automatically"}),E.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Team colors and names will update across all pages"}),E.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Settings persist across browser sessions"}),E.jsx("li",{className:"py-2 text-gray-600 relative pl-6 before:content-[''] before:text-emerald-500 before:absolute before:left-0 before:font-bold",children:"Use the reset button to restore default settings"})]})]})]})]})}function XD(){const[r,e]=q.useState("users"),[n,s]=q.useState([]),[o,u]=q.useState(!0),[f,m]=q.useState(null);q.useEffect(()=>{p()},[]);const p=async()=>{if(!Pe){u(!1);return}try{const L=kh(Pe,"users"),U=(await iS(L)).docs.map(Z=>({id:Z.id,...Z.data()}));U.sort((Z,ie)=>Z.approved===ie.approved?new Date(ie.createdAt)-new Date(Z.createdAt):Z.approved?1:-1),s(U)}catch(L){console.error("Error loading users:",L)}finally{u(!1)}},g=async L=>{m(L);try{const G=ht(Pe,"users",L);await Cm(G,{approved:!0,approvedAt:new Date().toISOString()}),s(n.map(U=>U.id===L?{...U,approved:!0,approvedAt:new Date().toISOString()}:U))}catch(G){console.error("Error approving user:",G),alert("Failed to approve user. Check console for details.")}finally{m(null)}},b=async(L,G)=>{m(L);try{const U=ht(Pe,"users",L);await Cm(U,{isAdmin:!G,adminUpdatedAt:new Date().toISOString()}),s(n.map(Z=>Z.id===L?{...Z,isAdmin:!G,adminUpdatedAt:new Date().toISOString()}:Z))}catch(U){console.error("Error updating admin status:",U),alert("Failed to update admin status. Check console for details.")}finally{m(null)}},T=async L=>{m(L);try{const G=ht(Pe,"users",L);await Cm(G,{approved:!1,revokedAt:new Date().toISOString()}),s(n.map(U=>U.id===L?{...U,approved:!1,revokedAt:new Date().toISOString()}:U))}catch(G){console.error("Error revoking access:",G),alert("Failed to revoke access. Check console for details.")}finally{m(null)}};if(o)return E.jsx("div",{className:"flex items-center justify-center p-12",children:E.jsx("div",{className:"text-gray-600",children:"Loading users..."})});const x=n.filter(L=>!L.approved),O=n.filter(L=>L.approved);return E.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[E.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Panel"}),E.jsx("p",{className:"text-gray-600 mb-4",children:"Manage users and team settings"}),E.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[E.jsx("button",{onClick:()=>e("users"),className:`px-6 py-3 font-semibold transition-colors ${r==="users"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:" User Management"}),E.jsx("button",{onClick:()=>e("teams"),className:`px-6 py-3 font-semibold transition-colors ${r==="teams"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:" Team Settings"})]})]}),r==="users"?E.jsxs(E.Fragment,{children:[x.length>0&&E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Pending Approval (",x.length,")"]})]}),E.jsx("div",{className:"space-y-3",children:x.map(L=>E.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-amber-200 bg-amber-50 rounded-lg",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-semibold text-gray-800",children:L.displayName}),E.jsx("div",{className:"text-sm text-gray-600",children:L.email}),E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Signed up: ",new Date(L.createdAt).toLocaleString()]})]}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:()=>g(L.id),disabled:f===L.id,className:"bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold px-6 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f===L.id?"Approving...":"Approve"})})]},L.id))})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Approved Users (",O.length,")"]})]}),O.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No approved users yet"}):E.jsx("div",{className:"space-y-3",children:O.map(L=>E.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-green-200 bg-green-50 rounded-lg",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"font-semibold text-gray-800",children:L.displayName}),L.isAdmin&&E.jsx("span",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"ADMIN"})]}),E.jsx("div",{className:"text-sm text-gray-600",children:L.email}),E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Approved: ",new Date(L.approvedAt||L.createdAt).toLocaleString()]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>b(L.id,L.isAdmin),disabled:f===L.id,className:`${L.isAdmin?"bg-gradient-to-r from-gray-500 to-gray-600":"bg-gradient-to-r from-purple-500 to-purple-600"} text-white font-semibold px-4 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm`,children:L.isAdmin?"Remove Admin":"Make Admin"}),E.jsx("button",{onClick:()=>{window.confirm(`Revoke access for ${L.email}?`)&&T(L.id)},disabled:f===L.id,className:"bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold px-4 py-2 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:f===L.id?"Revoking...":"Revoke"})]})]},L.id))})]})]}):E.jsx(uS,{})]})}const $D=[1,2,3,5,8,13,"?",""];function WD(){const{teams:r}=lf(),[e,n]=q.useState(!1),[s,o]=q.useState(""),[u,f]=q.useState(null),[m,p]=q.useState(""),[g,b]=q.useState(""),[T,x]=q.useState(null),[O,L]=q.useState({}),[G,U]=q.useState(!1),[Z,ie]=q.useState("");q.useEffect(()=>{const te=new URLSearchParams(window.location.search).get("session");if(te){const X=decodeURIComponent(te);o(X),le(X)}},[]);const le=async M=>{if(Pe)try{const te=ht(Pe,"poker-sessions",M),X=await mE(te);X.exists()&&f(X.data())}catch(te){console.error("Error checking session:",te)}},ge=Object.values(r||{}).sort((M,te)=>M.name==="R&D Events"?1:te.name==="R&D Events"?-1:M.name.localeCompare(te.name)).filter(M=>M.name!=="R&D Events");q.useEffect(()=>{if(!s||!Pe)return;const M=iu(ht(Pe,"poker-sessions",s),te=>{if(te.exists()){const X=te.data();f(X),U(X.revealed||!1),ie(X.ticketName||"")}else f(null),U(!1)});return()=>M()},[s]),q.useEffect(()=>{if(!s||!Pe)return;const M=iu(kh(Pe,"poker-sessions",s,"votes"),te=>{const X={};te.forEach(oe=>{X[oe.id]=oe.data()}),L(X)});return()=>M()},[s]);const Te=async()=>{if(!s.trim()){alert("Please enter a session name");return}try{await Bn(ht(Pe,"poker-sessions",s),{createdAt:new Date().toISOString(),revealed:!1,ticketName:"",team:g}),n(!0)}catch(M){console.error("Error starting session:",M),alert("Failed to start session. Make sure Firebase is configured.")}},Se=async()=>{if(!s.trim()||!m.trim()||!g){alert("Please enter session name, your name, and select a team");return}try{const M=ht(Pe,"poker-sessions",s),te=await mE(M);if(!te.exists()){alert("Session not found. Please check the session name or ask the admin for the correct link.");return}f(te.data())}catch(M){console.error("Error joining session:",M),alert("Failed to join session. Make sure Firebase is configured.")}},I=async M=>{if(!m.trim()||!g){alert("Please enter your name and select a team");return}x(M);try{await Bn(ht(Pe,"poker-sessions",s,"votes",m),{userName:m,team:g,card:G?M:"***",actualCard:M,timestamp:new Date().toISOString()})}catch(te){console.error("Error casting vote:",te)}},A=async()=>{try{await Bn(ht(Pe,"poker-sessions",s),{...u,revealed:!0})}catch(M){console.error("Error revealing cards:",M)}},R=async()=>{try{const M=Object.keys(O);await Promise.all(M.map(te=>Kl(ht(Pe,"poker-sessions",s,"votes",te)))),await Bn(ht(Pe,"poker-sessions",s),{...u,revealed:!1}),x(null)}catch(M){console.error("Error resetting votes:",M)}},P=async M=>{try{await Bn(ht(Pe,"poker-sessions",s),{...u,ticketName:M})}catch(te){console.error("Error updating ticket name:",te)}},V=async()=>{if(window.confirm("Are you sure you want to end this session?"))try{const M=Object.keys(O);await Promise.all(M.map(te=>Kl(ht(Pe,"poker-sessions",s,"votes",te)))),await Kl(ht(Pe,"poker-sessions",s)),o(""),f(null),n(!1),L({}),x(null)}catch(M){console.error("Error ending session:",M)}},z=()=>{const M=`${window.location.origin}${window.location.pathname}?session=${encodeURIComponent(s)}`;navigator.clipboard.writeText(M).then(()=>{alert("Session link copied to clipboard! Share it with your team.")}).catch(te=>{console.error("Failed to copy:",te),prompt("Copy this link:",M)})},He=G?(()=>{const M=Object.values(O).filter(ae=>typeof ae.actualCard=="number").map(ae=>ae.actualCard);if(M.length===0)return null;const X=M.reduce((ae,se)=>ae+se,0)/M.length,oe=[...M].sort((ae,se)=>ae-se),ve=oe.length%2===0?(oe[oe.length/2-1]+oe[oe.length/2])/2:oe[Math.floor(oe.length/2)],D=Math.min(...M),$=Math.max(...M);return{avg:X.toFixed(1),median:ve,min:D,max:$,count:M.length}})():null,lt=Object.values(O).reduce((M,te)=>{const X=te.team||"Unknown";return M[X]||(M[X]=[]),M[X].push(te),M},{});return u&&!e&&(!m||!g)?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-md:p-4",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2 max-md:text-2xl",children:"Join Planning Poker"}),E.jsxs("p",{className:"text-gray-600 max-md:text-sm",children:["Session: ",E.jsx("strong",{children:s})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Your Name"}),E.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:"Enter your name",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",autoFocus:!0})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Select Your Team"}),E.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",children:[E.jsx("option",{value:"",children:"Choose a team..."}),ge.map(M=>E.jsx("option",{value:M.name,children:M.name},M.name))]})]}),E.jsx("button",{onClick:()=>{if(!m.trim()||!g){alert("Please enter your name and select a team");return}},disabled:!m.trim()||!g,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed max-md:py-3 max-md:text-sm",children:" Join Session"}),E.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200 max-md:text-sm",children:E.jsxs("p",{className:"text-sm text-blue-800",children:[E.jsx("strong",{children:"Active Session Found!"})," Enter your details above to start voting with your team."]})})]})}):!u&&!e?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-md:p-4",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2 max-md:text-2xl",children:"Planning Poker"}),E.jsx("p",{className:"text-gray-600 max-md:text-sm",children:"Collaborative estimation for agile teams"})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Session Name"}),E.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),placeholder:"e.g., Sprint-25-Planning",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm"})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Your Name"}),E.jsx("input",{type:"text",value:m,onChange:M=>p(M.target.value),placeholder:"Enter your name",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm"})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block mb-2 font-semibold text-gray-800 max-md:text-sm",children:"Select Team"}),E.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors max-md:p-2 max-md:text-sm",children:[E.jsx("option",{value:"",children:"Choose a team..."}),ge.map(M=>E.jsx("option",{value:M.name,children:M.name},M.name))]})]}),E.jsxs("div",{className:"flex gap-4 max-md:flex-col",children:[E.jsx("button",{onClick:Te,className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 max-md:py-3 max-md:text-sm",children:" Start New Session (Admin)"}),E.jsx("button",{onClick:Se,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-4 rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 max-md:py-3 max-md:text-sm",children:" Join Existing Session"})]}),E.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200 max-md:text-sm",children:E.jsxs("p",{className:"text-sm text-blue-800",children:[E.jsx("strong",{children:"How it works:"})," Admin starts a session, team members join using the same session name. Everyone votes using Fibonacci cards (1, 2, 3, 5, 8, 13). Admin reveals all votes at once."]})})]})}):E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 mb-4 max-md:p-4",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4 max-md:flex-col max-md:gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 max-md:text-xl",children:[" Planning Poker: ",E.jsx("span",{className:"text-indigo-600",children:s})]}),e?E.jsx("div",{className:"flex items-center gap-2 max-md:flex-col max-md:items-start max-md:w-full",children:E.jsx("input",{type:"text",value:Z,onChange:M=>P(M.target.value),placeholder:"Enter ticket/story name...",className:"flex-1 p-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 max-md:w-full max-md:text-sm"})}):Z&&E.jsxs("p",{className:"text-lg text-gray-600 max-md:text-sm",children:[" ",Z]})]}),E.jsxs("div",{className:"flex gap-2 max-md:w-full max-md:flex-col",children:[E.jsx("button",{onClick:z,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" Share Link"}),e&&E.jsxs(E.Fragment,{children:[!G&&Object.keys(O).length>0&&E.jsx("button",{onClick:A,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" Reveal Cards"}),G&&E.jsx("button",{onClick:R,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" New Vote"}),E.jsx("button",{onClick:V,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold rounded-lg hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap max-md:text-sm",children:" End Session"})]})]})]}),!e&&E.jsxs("div",{className:"text-sm text-gray-600",children:[E.jsx("strong",{children:"You:"})," ",m," (",g,")"]})]}),!e&&E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 mb-4 max-md:p-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 max-md:text-lg",children:"Select Your Estimate"}),E.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-3 max-md:gap-2",children:$D.map(M=>E.jsx("button",{onClick:()=>I(M),disabled:G,className:`aspect-[2/3] rounded-xl text-3xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl hover:-translate-y-1 max-md:text-2xl ${T===M?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white scale-105":"bg-white text-gray-800 border-2 border-gray-300 hover:border-indigo-500"} ${G?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:M},M))})]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-md:p-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 max-md:text-lg",children:["Participants (",Object.keys(O).length,")"]}),G&&He&&E.jsxs("div",{className:"flex gap-4 text-sm max-md:flex-col max-md:gap-1 max-md:items-end",children:[E.jsxs("span",{className:"font-semibold",children:[" Avg: ",He.avg]}),E.jsxs("span",{className:"font-semibold",children:[" Median: ",He.median]}),E.jsxs("span",{className:"text-gray-600",children:["Min: ",He.min," | Max: ",He.max]})]})]}),Object.keys(lt).map(M=>{const te=ge.find(oe=>oe.name===M)||{color:"#999"},X=lt[M];return E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b-2",style:{borderColor:te.color},children:[E.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te.color}}),E.jsxs("h3",{className:"font-bold text-gray-800 max-md:text-sm",children:[M," (",X.length,")"]})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 max-md:gap-2",children:X.map(oe=>E.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-gray-50 border-2 border-gray-200 max-md:p-2",children:[E.jsx("div",{className:"text-sm font-semibold text-gray-700 text-center max-md:text-xs",children:oe.userName}),E.jsx("div",{className:`w-16 h-24 rounded-lg flex items-center justify-center text-2xl font-bold shadow-md max-md:w-12 max-md:h-18 max-md:text-xl ${G?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white":"bg-gray-300 text-gray-600"}`,children:G?oe.actualCard:""})]},oe.userName))})]},M)}),Object.keys(O).length===0&&E.jsxs("div",{className:"text-center py-12 text-gray-500 max-md:py-8 max-md:text-sm",children:[E.jsx("div",{className:"text-6xl mb-4 max-md:text-4xl",children:""}),E.jsx("p",{children:"Waiting for participants to vote..."})]})]})]})})}function gE(){return E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("div",{className:"text-center px-8 py-16 bg-white rounded-xl shadow-lg mb-12",children:[E.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"Patagonia R&D Hub"}),E.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Manage and visualize your team's sprint ceremonies"}),E.jsx(Ws,{to:"/weeklyschedule",className:"inline-block px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200",children:"View Weekly Schedule"})]}),E.jsxs("div",{className:"mt-12",children:[E.jsx("h2",{className:"text-center text-3xl font-bold text-gray-800 mb-8",children:"Features"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[E.jsx("div",{className:"text-5xl mb-4",children:""}),E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Weekly Schedule"}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"View all sprint ceremonies in a clear calendar format"})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[E.jsx("div",{className:"text-5xl mb-4",children:""}),E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Multiple Teams"}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Track ceremonies across multiple agile teams"})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[E.jsx("div",{className:"text-5xl mb-4",children:""}),E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Time Management"}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"See all meeting times at a glance"})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center hover:-translate-y-1 hover:shadow-xl transition-all duration-200",children:[E.jsx("div",{className:"text-5xl mb-4",children:""}),E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Color Coded"}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Easily distinguish between team events"})]})]})]})]})}function JD(){const r=hs(),{user:e,userProfile:n,signOut:s,loading:o}=zD(),u=r.pathname==="/weeklyschedule",f=n?.isAdmin===!0;return E.jsxs("div",{className:"min-h-screen bg-gray-100",children:[E.jsx("nav",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 shadow-md sticky top-0 z-[1000]",children:E.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4 flex justify-between items-center flex-wrap",children:[E.jsx(Ws,{to:"/",className:"text-xl font-bold text-white flex items-center gap-2 max-md:text-lg",children:" Patagonia"}),E.jsxs("ul",{className:"flex list-none gap-4 flex-wrap max-md:gap-2 max-md:w-full max-md:justify-center max-md:mt-2",children:[E.jsx("li",{children:E.jsx(Ws,{to:"/",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Home"})}),E.jsx("li",{children:E.jsx(Ws,{to:"/weeklyschedule",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Weekly Schedule"})}),E.jsx("li",{children:E.jsx(Ws,{to:"/storypointing",className:"text-white font-medium px-3 py-2 rounded hover:bg-white/20 transition-colors text-sm md:text-base block whitespace-nowrap max-md:px-2 max-md:py-1.5 max-md:text-xs",children:"Story Pointing"})})]})]})}),E.jsx("main",{className:`max-w-screen-xl mx-auto ${u?"h-[calc(100vh-70px)] overflow-hidden p-1 max-md:h-[calc(100vh-100px)] max-md:p-1":"p-4 max-md:p-2"}`,children:E.jsxs(Yx,{children:[E.jsx(Xs,{path:"/",element:E.jsx(gE,{})}),E.jsx(Xs,{path:"/weeklyschedule",element:E.jsx(QD,{})}),E.jsx(Xs,{path:"/storypointing",element:E.jsx(YD,{})}),E.jsx(Xs,{path:"/planningpoker",element:E.jsx(WD,{})}),E.jsx(Xs,{path:"/teamsettings",element:E.jsx(uS,{})}),E.jsx(Xs,{path:"/admin",element:f?E.jsx(XD,{}):E.jsx(gE,{})})]})})]})}function ZD(){return E.jsx(BD,{children:E.jsx(qD,{children:E.jsx(FD,{children:E.jsx(_A,{basename:"/react-process-app",children:E.jsx(JD,{})})})})})}$w.createRoot(document.getElementById("root")).render(E.jsx(Im.StrictMode,{children:E.jsx(ZD,{})}));
